{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:24:04.572Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:24:10.181Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:24:29.780Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:24:46.821Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:25:20.660Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:25:37.054Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:25:47.533Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:25:50.125Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:26:31.944Z"}
{"level":"error","message":"更新AI助手名称失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:27:42.079Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:28:46.894Z"}
{"level":"error","message":"获取AI助手失败: AIAssistant validation failed: userId: Path `userId` is required.","service":"aisiri-backend","timestamp":"2025-08-20T04:28:54.486Z"}
{"level":"error","message":"语音识别失败:","service":"aisiri-backend","timestamp":"2025-08-20T05:37:32.508Z"}
{"code":"InvalidParameter","level":"error","message":"API响应错误: url error, please check url！","request_id":"1a290bff-f030-9155-8059-d99e067f573f","service":"aisiri-backend","timestamp":"2025-08-20T05:37:32.509Z"}
{"level":"error","message":"语音识别处理失败:","service":"aisiri-backend","timestamp":"2025-08-20T05:37:32.510Z"}
{"level":"error","message":"语音识别失败:","service":"aisiri-backend","timestamp":"2025-08-20T05:37:32.739Z"}
{"code":"InvalidParameter","level":"error","message":"API响应错误: url error, please check url！","request_id":"d6903482-a2ca-969a-9aa7-58435d3771ca","service":"aisiri-backend","timestamp":"2025-08-20T05:37:32.739Z"}
{"level":"error","message":"语音识别失败:","service":"aisiri-backend","timestamp":"2025-08-20T05:37:32.739Z"}
{"level":"error","message":"Error: Unexpected end of form\n    at Multipart._final (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:588:17)\n    at prefinish (node:internal/streams/writable:916:14)\n    at finishMaybe (node:internal/streams/writable:930:5)\n    at Writable.end (node:internal/streams/writable:845:5)\n    at IncomingMessage.onend (node:internal/streams/readable:948:10)\n    at Object.onceWrapper (node:events:638:28)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","service":"aisiri-backend","timestamp":"2025-08-20T07:37:54.818Z"}
{"level":"error","message":"Error: 只支持音频文件格式: MP3, WAV, M4A, AAC, FLAC\n    at fileFilter (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\src\\AIvoice\\controllers\\speechRecognitionController.js:20:10)\n    at wrappedFileFilter (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\multer\\lib\\make-middleware.js:132:7)\n    at Multipart.emit (node:events:524:28)\n    at HeaderParser.cb (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)","service":"aisiri-backend","timestamp":"2025-08-20T08:25:59.477Z"}
{"level":"error","message":"Error: 只支持音频文件格式: MP3, WAV, M4A, AAC, FLAC\n    at fileFilter (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\src\\AIvoice\\controllers\\speechRecognitionController.js:20:10)\n    at wrappedFileFilter (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\multer\\lib\\make-middleware.js:132:7)\n    at Multipart.emit (node:events:524:28)\n    at HeaderParser.cb (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)","service":"aisiri-backend","timestamp":"2025-08-20T08:26:09.504Z"}
{"level":"error","message":"Error: 只支持音频文件格式: MP3, WAV, M4A, AAC, FLAC\n    at fileFilter (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\src\\AIvoice\\controllers\\speechRecognitionController.js:20:10)\n    at wrappedFileFilter (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\multer\\index.js:44:7)\n    at Multipart.<anonymous> (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\multer\\lib\\make-middleware.js:132:7)\n    at Multipart.emit (node:events:524:28)\n    at HeaderParser.cb (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:358:14)\n    at HeaderParser.push (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:394:37)\n    at feed (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\streamsearch\\lib\\sbmh.js:219:14)\n    at SBMH.push (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\backend\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)","service":"aisiri-backend","timestamp":"2025-08-20T08:27:41.472Z"}
{"level":"error","message":"语音识别失败:","service":"aisiri-backend","timestamp":"2025-08-20T10:47:41.360Z"}
{"level":"error","message":"API响应错误:","service":"aisiri-backend","timestamp":"2025-08-20T10:47:41.360Z"}
{"level":"error","message":"语音识别处理失败:","service":"aisiri-backend","timestamp":"2025-08-20T10:47:41.361Z"}
{"level":"error","message":"语音识别失败:","service":"aisiri-backend","timestamp":"2025-08-20T11:03:10.620Z"}
{"level":"error","message":"API响应错误:","service":"aisiri-backend","timestamp":"2025-08-20T11:03:10.621Z"}
{"level":"error","message":"语音识别处理失败:","service":"aisiri-backend","timestamp":"2025-08-20T11:03:10.621Z"}
{"level":"error","message":"初始化用户记忆数据失败: Cannot read properties of undefined (reading 'toLocaleDateString')","service":"aisiri-backend","timestamp":"2025-08-20T16:15:18.182Z"}
{"error":"Conversation validation failed: sessionId: Path `sessionId` is required.","level":"error","message":"测试个性化对话功能失败","service":"aisiri-backend","stack":"ValidationError: Conversation validation failed: sessionId: Path `sessionId` is required.\n    at Document.invalidate (/Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T16:35:35.574Z"}
{"error":"Conversation validation failed: sessionId: Path `sessionId` is required.","level":"error","message":"测试个性化对话功能失败","service":"aisiri-backend","stack":"ValidationError: Conversation validation failed: sessionId: Path `sessionId` is required.\n    at Document.invalidate (/Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T16:35:51.821Z"}
{"error":"Conversation validation failed: sessionId: Path `sessionId` is required.","level":"error","message":"测试个性化对话功能失败","service":"aisiri-backend","stack":"ValidationError: Conversation validation failed: sessionId: Path `sessionId` is required.\n    at Document.invalidate (/Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T16:37:12.522Z"}
{"error":"Conversation validation failed: sessionId: Path `sessionId` is required.","level":"error","message":"测试个性化对话功能失败","service":"aisiri-backend","stack":"ValidationError: Conversation validation failed: sessionId: Path `sessionId` is required.\n    at Document.invalidate (/Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T16:38:28.220Z"}
{"error":"Conversation validation failed: sessionId: Path `sessionId` is required.","level":"error","message":"测试个性化对话功能失败","service":"aisiri-backend","stack":"ValidationError: Conversation validation failed: sessionId: Path `sessionId` is required.\n    at Document.invalidate (/Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/bytedance/Desktop/backend(2)/backend/node_modules/mongoose/lib/schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20T16:38:56.059Z"}
