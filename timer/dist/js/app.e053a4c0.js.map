{"version":3,"file":"js/app.e053a4c0.js","mappings":"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","sources":["webpack://timer/./src/App.vue","webpack://timer/./src/App.vue?7ccd","webpack://timer/./src/views/Task.vue","webpack://timer/./src/components/task/TaskTimeBlocks.vue","webpack://timer/./src/components/common/TaskItem.vue","webpack://timer/./src/components/common/TaskItem.vue?d5ef","webpack://timer/./src/components/task/TaskTimeBlocks.vue?c3c5","webpack://timer/./src/components/task/TaskQuadrant.vue","webpack://timer/./src/components/task/TaskQuadrant.vue?fed0","webpack://timer/./src/components/task/AddTaskModal.vue","webpack://timer/./src/components/task/AddTaskModal.vue?e0ea","webpack://timer/./src/components/common/TabBar.vue","webpack://timer/./src/components/common/TabBar.vue?1304","webpack://timer/./src/config/api.js","webpack://timer/./src/api/http.js","webpack://timer/./src/api/aivoice.js","webpack://timer/./src/components/aivoice/VoiceCloneModal.vue","webpack://timer/./src/components/aivoice/VoiceCloneModal.vue?fd55","webpack://timer/./src/components/aivoice/VoiceManagerModal.vue","webpack://timer/./src/components/aivoice/VoiceManagerModal.vue?947f","webpack://timer/./src/components/aivoice/AIVoiceModal.vue","webpack://timer/./src/components/aivoice/AIVoiceModal.vue?3df6","webpack://timer/./src/api/tasks.js","webpack://timer/./src/api/collections.js","webpack://timer/./src/api/pomodoros.js","webpack://timer/./src/api/index.js","webpack://timer/./src/aivoice/voicePlayer.js","webpack://timer/./src/views/Task.vue?5a2d","webpack://timer/./src/views/Calendar.vue","webpack://timer/./src/components/calendar/CalendarCell.vue","webpack://timer/./src/components/calendar/CalendarCell.vue?1993","webpack://timer/./src/views/Calendar.vue?bad8","webpack://timer/./src/views/AiSecretary.vue","webpack://timer/./src/components/AIsecretary/Header.vue","webpack://timer/./src/components/AIsecretary/Header.vue?0445","webpack://timer/./src/components/AIsecretary/MessageCard.vue","webpack://timer/./src/AIsiri/types/index.js","webpack://timer/./src/components/AIsecretary/MessageCard.vue?4e4e","webpack://timer/./src/components/AIsecretary/MessageInput.vue","webpack://timer/./src/AIsiri/utils/logger.js","webpack://timer/./src/AIsiri/services/speechRecognitionService.js","webpack://timer/./src/components/AIsecretary/ImageAnalysisModal.vue","webpack://timer/./src/AIsiri/services/imageAnalysisService.js","webpack://timer/./src/components/AIsecretary/ImageAnalysisModal.vue?8595","webpack://timer/./src/components/AIsecretary/MessageInput.vue?1479","webpack://timer/./src/components/AIsecretary/AssistantSettingsModal.vue","webpack://timer/./src/components/AIsecretary/AssistantSettingsModal.vue?63b7","webpack://timer/./src/components/AIsecretary/VoiceRecognitionStatus.vue","webpack://timer/./src/components/AIsecretary/VoiceRecognitionStatus.vue?2724","webpack://timer/./src/AIsiri/services/aiApi.js","webpack://timer/./src/AIsiri/services/messageService.js","webpack://timer/./src/AIsiri/services/aiAssistantService.js","webpack://timer/./src/views/AiSecretary.vue?6d4c","webpack://timer/./src/views/TaskCollections.vue","webpack://timer/./src/components/task-collections/CollectionCard.vue","webpack://timer/./src/components/task-collections/SubtaskItem.vue","webpack://timer/./src/components/task-collections/SubtaskItem.vue?2394","webpack://timer/./src/components/task-collections/CollectionCard.vue?bddb","webpack://timer/./src/components/task-collections/CollectionModal.vue","webpack://timer/./src/components/task-collections/CollectionModal.vue?659f","webpack://timer/./src/components/task-collections/SubtaskModal.vue","webpack://timer/./src/components/task-collections/SubtaskModal.vue?e941","webpack://timer/./src/components/common/LoadingSpinner.vue","webpack://timer/./src/components/common/LoadingSpinner.vue?f3f5","webpack://timer/./src/views/TaskCollections.vue?41b4","webpack://timer/./src/views/Stats.vue","webpack://timer/./src/views/Stats.vue?de2d","webpack://timer/./src/views/Pomodoro.vue","webpack://timer/./src/components/pomodoro/TimerCircle.vue","webpack://timer/./src/components/pomodoro/TimerCircle.vue?0f36","webpack://timer/./src/views/Pomodoro.vue?d77f","webpack://timer/./src/views/Auth.vue","webpack://timer/./src/components/login/AuthLogo.vue","webpack://timer/./src/components/login/AuthLogo.vue?3c5a","webpack://timer/./src/components/login/LoginForm.vue","webpack://timer/./src/components/login/LoginForm.vue?346c","webpack://timer/./src/components/login/RegisterForm.vue","webpack://timer/./src/components/login/RegisterForm.vue?e7dc","webpack://timer/./src/api/auth.js","webpack://timer/./src/store/auth.js","webpack://timer/./src/views/Auth.vue?30a9","webpack://timer/./src/router/index.js","webpack://timer/./src/main.js","webpack://timer/webpack/bootstrap","webpack://timer/webpack/runtime/chunk loaded","webpack://timer/webpack/runtime/compat get default export","webpack://timer/webpack/runtime/define property getters","webpack://timer/webpack/runtime/global","webpack://timer/webpack/runtime/hasOwnProperty shorthand","webpack://timer/webpack/runtime/make namespace object","webpack://timer/webpack/runtime/jsonp chunk loading","webpack://timer/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', sans-serif;\n  background: #f2f2f7;\n  height: 100vh;\n  overflow: hidden;\n}\n\n#app {\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n}\n\n/* Global styles for mobile */\n@media (max-width: 430px) {\n  html {\n    font-size: 14px;\n  }\n}\n\n/* Smooth scrolling */\nhtml {\n  scroll-behavior: smooth;\n}\n\n/* Custom scrollbar */\n::-webkit-scrollbar {\n  width: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n\n/* Remove button focus outlines on mobile */\nbutton:focus {\n  outline: none;\n}\n\n/* Prevent text selection on buttons */\nbutton {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Smooth transitions for all interactive elements */\nbutton, \n.tab-item, \n.task-item, \n.stat-card,\n.collection-card {\n  transition: all 0.2s ease;\n}\n\n/* Loading state */\n.loading {\n  pointer-events: none;\n  opacity: 0.6;\n}\n\n/* Fade in animation */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.fade-in {\n  animation: fadeIn 0.3s ease-out;\n}\n\n/* Modern iOS-style blur effect */\n.blur-backdrop {\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n}\n\n/* Safe area handling for notched devices */\n@supports (padding: max(0px)) {\n  .safe-area-top {\n    padding-top: max(20px, env(safe-area-inset-top));\n  }\n  \n  .safe-area-bottom {\n    padding-bottom: max(20px, env(safe-area-inset-bottom));\n  }\n}\n\n/* Dark mode support (for future implementation) */\n@media (prefers-color-scheme: dark) {\n  /* Dark mode styles can be added here */\n}\n\n/* Reduced motion for accessibility */\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n</style>","import { render } from \"./App.vue?vue&type=template&id=774c1f8c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=774c1f8c&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home-container\">\n    <!-- Header -->\n    <div class=\"header\">\n      <div class=\"settings-btn\" @click=\"toggleSidebar\">\n        <font-awesome-icon icon=\"cog\" />\n      </div>\n      \n      <div class=\"view-toggle\">\n        <button \n          class=\"toggle-btn\" \n          :class=\"{ active: currentView === 'time' }\"\n          @click=\"switchView('time')\"\n        >\n          \n        </button>\n        <button \n          class=\"toggle-btn\" \n          :class=\"{ active: currentView === 'quadrant' }\"\n          @click=\"switchView('quadrant')\"\n        >\n          \n        </button>\n      </div>\n      \n      <div class=\"settings-btn\" @click=\"openAddTask\">\n        <font-awesome-icon icon=\"plus\" />\n      </div>\n    </div>\n    \n    <!-- Content -->\n    <div class=\"content\">\n      <!-- Time Blocks View -->\n      <div v-if=\"currentView === 'time'\" class=\"time-view-container\">\n        <!-- Time Segment Selector -->\n        <div class=\"time-segment-section\">\n          <div class=\"section-title\">\n            <h3></h3>\n            <a href=\"/task-collections\" class=\"view-all-link\"></a>\n          </div>\n          <div class=\"segmented\">\n            <button \n              v-for=\"segment in timeSegments\"\n              :key=\"segment.value\"\n              :class=\"{ active: currentTimeSegment === segment.value }\"\n              @click=\"switchTimeSegment(segment.value)\"\n            >\n              {{ segment.label }}\n            </button>\n          </div>\n        </div>\n        \n        <!-- Time Blocks -->\n        <TaskTimeBlocks\n          :time-blocks=\"filteredTimeBlocks\"\n          @task-click=\"openPomodoro\"\n          @task-toggle=\"toggleTask\"\n          @toggle-collapse=\"toggleTimeBlockCollapse\"\n        />\n      </div>\n      \n      <!-- Quadrant View -->\n      <TaskQuadrant\n        v-else\n        :quadrants=\"quadrants\"\n        @task-click=\"openPomodoro\"\n        @task-toggle=\"toggleTask\"\n      />\n    </div>\n    \n    <!-- Sidebar -->\n    <div class=\"sidebar\" :class=\"{ open: sidebarOpen }\">\n      <div class=\"sidebar-header\">\n        <div class=\"sidebar-title\"></div>\n        <div class=\"close-sidebar\" @click=\"toggleSidebar\">\n          <font-awesome-icon icon=\"times\" />\n        </div>\n      </div>\n      <div class=\"sidebar-content\">\n        <div v-for=\"setting in settings\" :key=\"setting.id\" class=\"setting-item\" @click=\"handleSettingClick(setting)\">\n          <div class=\"setting-label\">{{ setting.label }}</div>\n          <div class=\"setting-description\">{{ setting.description }}</div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Task Modal -->\n    <AddTaskModal\n      :visible=\"showAddModal\"\n      @close=\"closeAddTask\"\n      @submit=\"handleAddTask\"\n    />\n    \n    <!-- Voice Clone Modal -->\n    <VoiceCloneModal\n      v-if=\"showVoiceCloneModal\"\n      :hasCloned=\"hasClonedVoice\"\n      @close=\"showVoiceCloneModal = false\"\n      @clone-success=\"onCloneSuccess\"\n    />\n\n    <!-- AI Voice Modal -->\n    <AIVoiceModal\n      v-if=\"showAIVoiceModal\"\n      @close=\"showAIVoiceModal = false\"\n      @apply-voice=\"onApplyVoice\"\n    />\n \n    <!-- Overlay -->\n    <div \n      v-if=\"sidebarOpen\" \n      class=\"overlay\" \n      @click=\"toggleSidebar\"\n    ></div>\n    \n    <!-- AI Assistant Button -->\n    <div \n      class=\"ai-assistant-btn\" \n      @click=\"goToAISecretary\"\n    >\n      <font-awesome-icon icon=\"robot\" />\n    </div>\n    \n    <!-- Tab Bar -->\n    <TabBar />\n  </div>\n</template>\n\n<script>\nimport TaskTimeBlocks from '../components/task/TaskTimeBlocks.vue'\nimport TaskQuadrant from '../components/task/TaskQuadrant.vue'\nimport AddTaskModal from '../components/task/AddTaskModal.vue'\nimport TabBar from '../components/common/TabBar.vue'\nimport VoiceCloneModal from '../components/aivoice/VoiceCloneModal.vue'\nimport AIVoiceModal from '../components/aivoice/AIVoiceModal.vue'\nimport api from '@/api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'TaskPage',\n  components: {\n    TaskTimeBlocks,\n    TaskQuadrant,\n    AddTaskModal,\n    TabBar,\n    VoiceCloneModal,\n    AIVoiceModal\n  },\n  data() {\n    return {\n      currentView: 'time',\n      currentTimeSegment: 'morning', // \n      sidebarOpen: false,\n      showAddModal: false,\n      timeBlocks: [],\n      unscheduledTasks: [], // \n      timeSegments: [\n        { value: 'morning', label: '' },\n        { value: 'afternoon', label: '' },\n        { value: 'evening', label: '' }\n      ],\n      quadrants: [\n        {\n          id: 1,\n          title: '',\n          tasks: []\n        },\n        {\n          id: 2,\n          title: '',\n          tasks: []\n        },\n        {\n          id: 3,\n          title: '',\n          tasks: []\n        },\n        {\n          id: 4,\n          title: '',\n          tasks: []\n        }\n      ],\n      settings: [\n        { id: 1, label: '', description: '' },\n        { id: 2, label: '', description: 'AI' },\n        { id: 3, label: '', description: '/' },\n        { id: 4, label: '', description: '' },\n        { id: 5, label: 'AI', description: 'ai' },\n        { id: 6, label: '', description: '' }\n      ],\n      showVoiceCloneModal: false,\n      hasClonedVoice: false,\n      showAIVoiceModal: false\n    }\n  },\n  computed: {\n    filteredTimeBlocks() {\n      // \n      return this.timeBlocks.filter(block => {\n        const segmentMap = {\n          'morning': ['morning'],\n          'afternoon': ['afternoon'],\n          'evening': ['evening']\n        };\n        return segmentMap[this.currentTimeSegment]?.includes(block.timeBlockType);\n      });\n    },\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      return user?._id || user?.id || null\n    }\n  },\n  created() {\n    this.fetchTasks()\n  },\n  activated() {\n    // keep-alive\n    this.fetchTasks()\n    // \n    this.autoSwitchTimeSegment()\n  },\n  methods: {\n    handleSettingClick(setting) {\n      if (setting && (setting.id === 5 || setting.label === 'AI')) {\n        this.showVoiceCloneModal = true\n      } else if (setting && (setting.id === 6 || setting.label === '')) {\n        try {\n          console.log(' [TaskPage] ')\n          localStorage.removeItem('token')\n          localStorage.removeItem('user')\n          localStorage.removeItem('auth_verified')\n        } finally {\n          this.sidebarOpen = false\n          this.$router.replace({ path: '/auth/login' })\n        }\n      }\n    },\n    onCloneSuccess() {\n      this.hasClonedVoice = true\n      this.showVoiceCloneModal = false\n      // AI\n      this.showAIVoiceModal = true\n    },\n    onApplyVoice() {\n      // AI\n      this.showAIVoiceModal = false\n    },\n    async fetchTasks() {\n      try {\n        console.log(' [TaskPage] ...');\n        \n        // \n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn(' [TaskPage] ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n\n        // \n        console.log(' [TaskPage] ...');\n        const response = await api.tasks.getAllTasks({ userId })\n        console.log(' [TaskPage] :', response)\n        \n        if (response.success && response.data) {\n          console.log(' [TaskPage] :', response.data.length);\n          this.processTasks(response.data)\n        } else {\n          console.warn(' [TaskPage] ');\n          this.initializeMockData()\n        }\n      } catch (error) {\n        console.error(' [TaskPage] :', error)\n        // \n        this.initializeMockData()\n      }\n    },\n    // \n    async refreshTasks() {\n      await this.fetchTasks()\n    },\n    \n    // processTasksAPI\n    processTasks(tasks) {\n      console.log(' [TaskPage] :', tasks.length);\n      \n      // \n      this.timeBlocks = [\n        {\n          id: 1,\n          label: ' 0:00 - 8:00',\n          timeBlockType: 'morning',\n          tasks: [],\n          collapsed: false\n        },\n        {\n          id: 2,\n          label: ' 8:00 - 16:00',\n          timeBlockType: 'afternoon',\n          tasks: [],\n          collapsed: false\n        },\n        {\n          id: 3,\n          label: ' 16:00 - 24:00',\n          timeBlockType: 'evening',\n          tasks: [],\n          collapsed: false\n        }\n      ]\n      \n      // \n      this.quadrants.forEach(q => (q.tasks = []));\n      this.unscheduledTasks = []\n      \n      // \n      tasks.forEach(task => {\n        console.log(' [TaskPage] :', task.title, task);\n        \n        // \n        const quadrant = this.quadrants.find(q => q.id == task.quadrant)\n        if (quadrant) {\n          quadrant.tasks.push({\n            id: task._id,\n            title: task.title,\n            completed: task.completed\n          })\n        }\n        \n        // API\n        let taskTimeDisplay = '';\n        let targetTimeBlockType = 'unscheduled';\n        \n        // AI\n        if (task.timeBlock && task.timeBlock.startTime) {\n          // AItimeBlock.startTime\n          const hour = parseInt(task.timeBlock.startTime.split(':')[0]);\n          taskTimeDisplay = `${task.timeBlock.startTime} - ${task.timeBlock.endTime || this.addHour(task.timeBlock.startTime)}`;\n          \n          if (hour >= 0 && hour < 8) {\n            targetTimeBlockType = 'morning';\n          } else if (hour >= 8 && hour < 16) {\n            targetTimeBlockType = 'afternoon';\n          } else if (hour >= 16 && hour < 24) {\n            targetTimeBlockType = 'evening';\n          }\n          console.log(` [TaskPage] AI\"${task.title}\"startTime: ${targetTimeBlockType}`);\n        } else if (task.time && task.time.trim()) {\n          // time\n          const hour = parseInt(task.time.split(':')[0]);\n          taskTimeDisplay = `${task.time} - ${this.addHour(task.time)}`;\n          \n          if (hour >= 0 && hour < 8) {\n            targetTimeBlockType = 'morning';\n          } else if (hour >= 8 && hour < 16) {\n            targetTimeBlockType = 'afternoon';\n          } else if (hour >= 16 && hour < 24) {\n            targetTimeBlockType = 'evening';\n          }\n          console.log(` [TaskPage] \"${task.title}\"time: ${targetTimeBlockType}`);\n        }\n        \n        const taskData = {\n          id: task._id,\n          title: task.title,\n          time: taskTimeDisplay,\n          priority: task.priority || 'medium',\n          completed: task.completed\n        };\n\n        // \n        if (targetTimeBlockType !== 'unscheduled') {\n          const timeBlock = this.timeBlocks.find(tb => tb.timeBlockType === targetTimeBlockType);\n          if (timeBlock) {\n            timeBlock.tasks.push(taskData);\n            console.log(` [TaskPage] \"${task.title}\"${timeBlock.label}`);\n          } else {\n            this.unscheduledTasks.push(taskData);\n          }\n        } else {\n          // \n          this.unscheduledTasks.push(taskData);\n          console.log(` [TaskPage] \"${task.title}\"`);\n        }\n      })\n\n      // \n      console.log(' [TaskPage] :');\n      this.timeBlocks.forEach(tb => {\n        console.log(`  ${tb.label} (${tb.timeBlockType}): ${tb.tasks.length}`);\n        tb.tasks.forEach(task => {\n          console.log(`    - ${task.title} (${task.time})`);\n        });\n        \n        // \n        if (tb.tasks.length === 0) {\n          tb.collapsed = true;\n        } else {\n          tb.collapsed = false;\n        }\n      });\n      \n      console.log(` [TaskPage] : ${this.unscheduledTasks.length}`);\n      this.unscheduledTasks.forEach(task => {\n        console.log(`  - ${task.title}`);\n      });\n    },\n    \n    initializeMockData() {\n      console.log(' [TaskPage] API');\n      // APIprocessTasks\n      this.timeBlocks = [\n        {\n          id: 1,\n          label: ' 0:00 - 8:00',\n          timeBlockType: 'morning',\n          tasks: [\n            {\n              id: 1,\n              title: '',\n              time: '7:30 - 8:30',\n              priority: 'high',\n              completed: false\n            }\n          ],\n          collapsed: false\n        },\n        {\n          id: 2,\n          label: ' 8:00 - 16:00',\n          timeBlockType: 'afternoon',\n          tasks: [\n            {\n              id: 2,\n              title: '',\n              time: '9:00 - 11:00',\n              priority: 'high',\n              completed: true\n            },\n            {\n              id: 3,\n              title: '',\n              time: '11:00 - 12:00',\n              priority: 'medium',\n              completed: false\n            },\n            {\n              id: 4,\n              title: '',\n              time: '14:00 - 16:00',\n              priority: 'medium',\n              completed: false\n            }\n          ],\n          collapsed: false\n        },\n        {\n          id: 3,\n          label: ' 16:00 - 24:00',\n          timeBlockType: 'evening',\n          tasks: [],\n          collapsed: true // \n        }\n      ]\n      \n      // \n      this.unscheduledTasks = [\n        {\n          id: 5,\n          title: '',\n          priority: 'low',\n          completed: false\n        },\n        {\n          id: 6,\n          title: '',\n          priority: 'medium',\n          completed: false\n        }\n      ]\n      \n      this.quadrants = [\n        {\n          id: 1,\n          title: '',\n          tasks: [\n            {\n              id: 2,\n              title: '',\n              completed: true\n            }\n          ]\n        },\n        {\n          id: 2,\n          title: '',\n          tasks: [\n            {\n              id: 1,\n              title: '',\n              completed: false\n            },\n            {\n              id: 4,\n              title: '',\n              completed: false\n            }\n          ]\n        },\n        {\n          id: 3,\n          title: '',\n          tasks: [\n            {\n              id: 3,\n              title: '',\n              completed: false\n            }\n          ]\n        },\n        {\n          id: 4,\n          title: '',\n          tasks: []\n        }\n      ]\n    },\n    \n    // /\n    toggleTimeBlockCollapse(timeBlockId) {\n      const timeBlock = this.timeBlocks.find(tb => tb.id === timeBlockId)\n      if (timeBlock) {\n        timeBlock.collapsed = !timeBlock.collapsed\n      }\n    },\n    \n    // \n    moveToTimeBlock(task, timeBlockId) {\n      const taskIndex = this.unscheduledTasks.findIndex(t => t.id === task.id)\n      if (taskIndex > -1) {\n        this.unscheduledTasks.splice(taskIndex, 1)\n        const timeBlock = this.timeBlocks.find(tb => tb.id === timeBlockId)\n        if (timeBlock) {\n          timeBlock.tasks.push(task)\n        }\n      }\n    },\n    switchView(view) {\n      this.currentView = view\n    },\n    toggleSidebar() {\n      this.sidebarOpen = !this.sidebarOpen\n    },\n    openAddTask() {\n      this.showAddModal = true\n    },\n    closeAddTask() {\n      this.showAddModal = false\n    },\n    async handleAddTask(taskData) {\n      try {\n        console.log(' [TaskPage] :', taskData);\n        \n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn(' [TaskPage] ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n        \n        const response = await api.tasks.createTask({\n          title: taskData.title,\n          description: taskData.description || '',\n          priority: taskData.priority || 'medium',\n          completed: false,\n          quadrant: taskData.quadrant,\n          date: taskData.date,\n          time: taskData.time,\n          userId,\n          timeBlockType: taskData.timeBlockType,\n          isScheduled: taskData.isScheduled\n        })\n        console.log(' [TaskPage] :', response)\n        \n        // \n        await this.fetchTasks()\n        this.closeAddTask()\n      } catch (error) {\n        console.error(' [TaskPage] :', error)\n        // \n        const task = {\n          id: Date.now(), // ID\n          title: taskData.title,\n          time: taskData.time ? `${taskData.time} - ${this.addHour(taskData.time)}` : '',\n          priority: taskData.priority || 'medium',\n          completed: false,\n          date: taskData.date\n        }\n        \n        // \n        const quadrant = this.quadrants.find(q => q.id === taskData.quadrant)\n        if (quadrant) {\n          quadrant.tasks.push(task)\n        }\n        \n        // \n        if (taskData.time && taskData.timeBlockType) {\n          const timeBlock = this.timeBlocks.find(tb => tb.timeBlockType === taskData.timeBlockType);\n          if (timeBlock) {\n            timeBlock.tasks.push(task);\n            console.log(` [TaskPage] ${timeBlock.label}:`, task.title);\n          }\n        }\n        \n        this.closeAddTask()\n      }\n    },\n    \n    // \n    addHour(time) {\n      const [hour, minute] = time.split(':').map(Number);\n      const newHour = (hour + 1) % 24;\n      return `${newHour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n    },\n    \n\n    async toggleTask(task) {\n      try {\n        const response = await api.tasks.toggleTaskStatus(task.id)\n        console.log('Toggled task status:', response)\n        \n        // \n        const willBeCompleted = !task.completed\n        task.completed = willBeCompleted\n        \n        // \n        if (willBeCompleted) {\n          playRandomVoice('encourage')\n        }\n      } catch (error) {\n        console.error('Failed to toggle task status:', error)\n        // \n        task.completed = !task.completed\n      }\n    },\n    openPomodoro(task) {\n      this.$router.push({\n        path: '/pomodoro',\n        query: { task: task.title, taskId: task.id, from: '/task' }\n      })\n    },\n    \n    // \n    switchTimeSegment(segment) {\n      console.log(' [TaskPage] :', segment);\n      this.currentTimeSegment = segment;\n    },\n    \n    // \n    autoSwitchTimeSegment() {\n      const now = new Date();\n      const currentHour = now.getHours();\n      \n      let targetSegment = 'morning'; // \n      \n      if (currentHour >= 0 && currentHour < 8) {\n        targetSegment = 'morning';\n      } else if (currentHour >= 8 && currentHour < 16) {\n        targetSegment = 'afternoon';\n      } else if (currentHour >= 16 && currentHour < 24) {\n        targetSegment = 'evening';\n      }\n      \n      console.log(` [TaskPage] : ${currentHour}:00, : ${targetSegment}`);\n      this.currentTimeSegment = targetSegment;\n    },\n    \n    // AI\n    goToAISecretary() {\n      console.log(' [TaskPage] AI');\n      this.$router.push('/ai-secretary');\n    }\n  },\n  mounted() {\n    console.log(' [TaskPage] ...');\n    // \n    this.fetchTasks();\n    \n    // \n    this.autoSwitchTimeSegment();\n    \n    // AI\n    this._aiPlanHandler = () => {\n      console.log(' [TaskPage] AI');\n      this.refreshTasks();\n    }\n    window.addEventListener('ai-plan-generated', this._aiPlanHandler);\n    \n\n  },\n  beforeUnmount() {\n    if (this._aiPlanHandler) {\n      window.removeEventListener('ai-plan-generated', this._aiPlanHandler)\n      this._aiPlanHandler = null\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home-container {\n  height: 100vh;\n  background: #f2f2f7;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background: #fff;\n  padding: 12px 20px;\n  border-bottom: 0.5px solid #e5e5ea;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.settings-btn {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.settings-btn:hover {\n  background: #e5e5ea;\n}\n\n.view-toggle {\n  display: flex;\n  background: #f2f2f7;\n  border-radius: 20px;\n  padding: 4px;\n  width: 200px;\n}\n\n.toggle-btn {\n  flex: 1;\n  padding: 8px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 16px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #8e8e93;\n}\n\n.toggle-btn.active {\n  background: #667eea;\n  color: white;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.content {\n  flex: 1;\n  overflow: hidden;\n}\n\n.sidebar {\n  position: fixed;\n  top: 0;\n  left: -300px;\n  width: 300px;\n  height: 100vh;\n  background: white;\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\n  transition: left 0.3s ease;\n  z-index: 1000;\n  overflow-y: auto;\n}\n\n.sidebar.open {\n  left: 0;\n}\n\n.sidebar-header {\n  padding: 20px;\n  border-bottom: 1px solid #e5e5ea;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.sidebar-title {\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.close-sidebar {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.sidebar-content {\n  padding: 20px;\n}\n\n.setting-item {\n  padding: 15px 0;\n  border-bottom: 1px solid #f2f2f7;\n}\n\n.setting-item:last-child {\n  border-bottom: none;\n}\n\n.setting-label {\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.setting-description {\n  font-size: 14px;\n  color: #8e8e93;\n}\n\n\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n  z-index: 999;\n}\n\n.ai-assistant-btn {\n  position: fixed;\n  bottom: 100px;\n  right: 20px;\n  width: 56px;\n  height: 56px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 24px;\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 100;\n  user-select: none;\n  touch-action: none;\n}\n\n.ai-assistant-btn:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);\n}\n\n.ai-assistant-btn:active {\n  transform: scale(0.95);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 10px 16px;\n  }\n  \n  .view-toggle {\n    width: 160px;\n  }\n  \n  .section {\n    margin: 16px;\n  }\n  \n  .quadrant-grid {\n    height: calc(100vh - 180px);\n  }\n  \n  .sidebar {\n    width: 280px;\n  }\n}\n\n/*  */\n.time-view-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.time-segment-section {\n  padding: 16px 20px 8px;\n  background: white;\n  border-bottom: 1px solid #f2f2f7;\n}\n\n.section-title {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.section-title h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin: 0;\n}\n\n.view-all-link {\n  font-size: 14px;\n  color: #007aff;\n  text-decoration: none;\n  font-weight: 500;\n}\n\n.view-all-link:hover {\n  text-decoration: underline;\n}\n\n/*  - home111.html */\n.segmented {\n  display: flex;\n  background: #f2f2f7;\n  border-radius: 12px;\n  padding: 2px;\n  width: 100%;\n}\n\n.segmented button {\n  flex: 1;\n  padding: 10px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #8e8e93;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n\n.segmented button.active {\n  background: white;\n  color: #1d1d1f;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);\n}\n\n.segmented button:hover:not(.active) {\n  color: #1d1d1f;\n}\n\n/*  */\n@media (max-width: 430px) {\n  .time-segment-section {\n    padding: 12px 16px 6px;\n  }\n  \n  .section-title h3 {\n    font-size: 16px;\n  }\n  \n  .segmented button {\n    padding: 8px 12px;\n    font-size: 13px;\n  }\n}\n</style>","<template>\n  <div class=\"task-time-blocks-container\">\n    <div class=\"time-blocks\">\n      <div \n        v-for=\"timeBlock in timeBlocks\" \n        :key=\"timeBlock.id\"\n        class=\"time-block-item\"\n        :class=\"{ collapsed: timeBlock.collapsed }\"\n      >\n        <div class=\"time-block-header\" @click=\"toggleCollapse(timeBlock.id)\">\n          <div class=\"time-label\">\n            {{ timeBlock.label }}\n            <font-awesome-icon \n              :icon=\"timeBlock.collapsed ? 'chevron-down' : 'chevron-up'\" \n              class=\"collapse-icon\"\n            />\n          </div>\n          <div class=\"time-count\">{{ timeBlock.tasks.length }}</div>\n        </div>\n        \n        <div class=\"time-block-content\" v-show=\"!timeBlock.collapsed\">\n          <TaskItem\n            v-for=\"task in timeBlock.tasks\"\n            :key=\"task.id\"\n            :task=\"task\"\n            @click=\"$emit('task-click', task)\"\n            @toggle=\"$emit('task-toggle', task)\"\n          />\n          \n          <div v-if=\"timeBlock.tasks.length === 0\" class=\"empty-state\">\n            <font-awesome-icon icon=\"clock\" />\n            <span></span>\n          </div>\n        </div>\n      </div>\n      \n      <!-- \"\" -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport TaskItem from '../common/TaskItem.vue'\n\nexport default {\n  name: 'TaskTimeBlocks',\n  components: {\n    TaskItem\n  },\n  props: {\n    timeBlocks: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['task-click', 'task-toggle', 'toggle-collapse'],\n  methods: {\n    toggleCollapse(timeBlockId) {\n      this.$emit('toggle-collapse', timeBlockId)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.task-time-blocks-container {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.time-blocks {\n  height: 100%;\n  overflow-y: auto;\n  padding: 16px;\n}\n\n.time-block-item {\n  background: white;\n  border-radius: 16px;\n  margin-bottom: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  transition: all 0.3s ease;\n}\n\n.time-block-item.collapsed {\n  margin-bottom: 8px;\n}\n\n.time-block-item.collapsed .time-block-content {\n  padding: 0;\n}\n\n.time-block-header {\n  padding: 16px 20px;\n  border-bottom: 1px solid #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  user-select: none;\n}\n\n.time-label {\n  font-size: 16px;\n  font-weight: 600;\n  color: #667eea;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.collapse-icon {\n  font-size: 12px;\n  transition: transform 0.3s ease;\n}\n\n.time-count {\n  font-size: 14px;\n  color: #8e8e93;\n  background: #f2f2f7;\n  padding: 4px 12px;\n  border-radius: 12px;\n}\n\n.time-block-content {\n  padding: 12px 20px 20px;\n  transition: all 0.3s ease;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 20px;\n  color: #8e8e93;\n  font-size: 14px;\n}\n\n.empty-state svg {\n  font-size: 32px;\n  margin-bottom: 8px;\n  opacity: 0.5;\n}\n\n/* \"\" */\n\n/*  */\n.time-blocks::-webkit-scrollbar {\n  display: none;\n}\n\n.time-blocks {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n\n/*  */\n@media (max-width: 768px) {\n  .time-blocks {\n    padding: 12px;\n  }\n  \n  .time-block-item {\n    margin-bottom: 12px;\n  }\n  \n  .time-block-header {\n    padding: 14px 16px;\n  }\n  \n  .time-label {\n    font-size: 15px;\n  }\n  \n  .time-block-content {\n    padding: 10px 16px 16px;\n  }\n  \n\n}\n</style>","<template>\n  <div \n    class=\"task-item\" \n    :class=\"{ completed: task.completed }\"\n    @click=\"$emit('click', task)\"\n  >\n    <div \n      class=\"task-checkbox\" \n      :class=\"{ checked: task.completed }\"\n      @click.stop=\"toggleTask\"\n    >\n      <font-awesome-icon v-if=\"task.completed\" icon=\"check\" />\n    </div>\n    \n    <div class=\"task-content\">\n      <div class=\"task-title\">{{ task.title }}</div>\n      <div v-if=\"task.time\" class=\"task-time\">{{ task.time }}</div>\n      <div v-if=\"task.description\" class=\"task-description\">{{ task.description }}</div>\n    </div>\n    \n    <div v-if=\"task.priority\" class=\"task-priority\" :class=\"`priority-${task.priority}`\">\n      {{ getPriorityText(task.priority) }}\n    </div>\n    \n    <div v-if=\"showActions\" class=\"task-actions\">\n      <button @click.stop=\"$emit('edit', task)\" class=\"action-btn\">\n        <font-awesome-icon icon=\"edit\" />\n      </button>\n      <button @click.stop=\"$emit('delete', task)\" class=\"action-btn delete\">\n        <font-awesome-icon icon=\"trash\" />\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TaskItem',\n  props: {\n    task: {\n      type: Object,\n      required: true\n    },\n    showActions: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['click', 'toggle', 'edit', 'delete'],\n  methods: {\n    toggleTask() {\n      this.$emit('toggle', this.task)\n    },\n    getPriorityText(priority) {\n      const priorityMap = {\n        high: '',\n        medium: '', \n        low: ''\n      }\n      return priorityMap[priority] || ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.task-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 16px;\n  background: #f8f9fa;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-bottom: 12px;\n}\n\n.task-item:hover {\n  background: #f2f2f7;\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n}\n\n.task-item.completed {\n  opacity: 0.6;\n}\n\n.task-item.completed .task-title {\n  text-decoration: line-through;\n}\n\n.task-checkbox {\n  width: 20px;\n  height: 20px;\n  border-radius: 10px;\n  border: 2px solid #007aff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.task-checkbox.checked {\n  background: #007aff;\n}\n\n.task-content {\n  flex: 1;\n  text-align: left;\n}\n\n.task-title {\n  font-size: 16px;\n  font-weight: 500;\n  color: #1d1d1f;\n  margin-bottom: 4px;\n}\n\n.task-time {\n  font-size: 14px;\n  color: #8e8e93;\n  margin-bottom: 4px;\n}\n\n.task-description {\n  font-size: 14px;\n  color: #8e8e93;\n}\n\n.task-priority {\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  flex-shrink: 0;\n}\n\n.priority-high {\n  background: #ff3b30;\n  color: white;\n}\n\n.priority-medium {\n  background: #ff9500;\n  color: white;\n}\n\n.priority-low {\n  background: #34c759;\n  color: white;\n}\n\n.task-actions {\n  display: flex;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.action-btn {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  border: none;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #007aff;\n}\n\n.action-btn:hover {\n  background: #e5e5ea;\n}\n\n.action-btn.delete {\n  color: #ff3b30;\n}\n\n@media (max-width: 430px) {\n  .task-item {\n    padding: 12px;\n    gap: 10px;\n  }\n  \n  .task-title {\n    font-size: 15px;\n  }\n  \n  .task-time {\n    font-size: 13px;\n  }\n}\n</style>","import { render } from \"./TaskItem.vue?vue&type=template&id=8073a8c0&scoped=true\"\nimport script from \"./TaskItem.vue?vue&type=script&lang=js\"\nexport * from \"./TaskItem.vue?vue&type=script&lang=js\"\n\nimport \"./TaskItem.vue?vue&type=style&index=0&id=8073a8c0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8073a8c0\"]])\n\nexport default __exports__","import { render } from \"./TaskTimeBlocks.vue?vue&type=template&id=ee45c46a&scoped=true\"\nimport script from \"./TaskTimeBlocks.vue?vue&type=script&lang=js\"\nexport * from \"./TaskTimeBlocks.vue?vue&type=script&lang=js\"\n\nimport \"./TaskTimeBlocks.vue?vue&type=style&index=0&id=ee45c46a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ee45c46a\"]])\n\nexport default __exports__","<template>\n  <div class=\"task-quadrant-container\">\n    <div class=\"quadrant-grid\">\n      <div \n        v-for=\"quadrant in quadrants\" \n        :key=\"quadrant.id\"\n        class=\"quadrant-item\"\n        :class=\"`quadrant-${quadrant.id}`\"\n      >\n        <div class=\"quadrant-header\">\n          <div class=\"quadrant-title\">{{ quadrant.title }}</div>\n          <div class=\"quadrant-count\">{{ quadrant.tasks.length }}</div>\n        </div>\n        \n        <div class=\"quadrant-content\">\n          <TaskItem\n            v-for=\"task in quadrant.tasks\"\n            :key=\"task.id\"\n            :task=\"task\"\n            @click=\"$emit('task-click', task)\"\n            @toggle=\"$emit('task-toggle', task)\"\n          />\n          \n          <div v-if=\"quadrant.tasks.length === 0\" class=\"empty-state\">\n            <font-awesome-icon icon=\"inbox\" />\n            <span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TaskItem from '../common/TaskItem.vue'\n\nexport default {\n  name: 'TaskQuadrant',\n  components: {\n    TaskItem\n  },\n  props: {\n    quadrants: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['task-click', 'task-toggle']\n}\n</script>\n\n<style scoped>\n.task-quadrant-container {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.quadrant-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  gap: 1px;\n  height: 100%;\n  background: #e5e5ea;\n}\n\n.quadrant-item {\n  background: white;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.quadrant-header {\n  padding: 12px 16px;\n  border-bottom: 1px solid #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-shrink: 0;\n}\n\n.quadrant-title {\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.quadrant-count {\n  font-size: 12px;\n  color: #8e8e93;\n  background: #f2f2f7;\n  padding: 2px 8px;\n  border-radius: 10px;\n}\n\n.quadrant-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  color: #8e8e93;\n  font-size: 14px;\n}\n\n.empty-state svg {\n  font-size: 24px;\n  margin-bottom: 8px;\n  opacity: 0.5;\n}\n\n/*  */\n.quadrant-1 .quadrant-title { color: #ff3b30; }\n.quadrant-2 .quadrant-title { color: #007aff; }\n.quadrant-3 .quadrant-title { color: #ff9500; }\n.quadrant-4 .quadrant-title { color: #34c759; }\n\n/*  */\n.quadrant-content::-webkit-scrollbar {\n  display: none;\n}\n\n.quadrant-content {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n}\n\n/*  */\n@media (max-width: 768px) {\n  .quadrant-grid {\n    gap: 0.5px;\n  }\n  \n  .quadrant-header {\n    padding: 10px 12px;\n  }\n  \n  .quadrant-title {\n    font-size: 13px;\n  }\n  \n  .quadrant-content {\n    padding: 6px;\n  }\n}\n</style>","import { render } from \"./TaskQuadrant.vue?vue&type=template&id=8f4a88f6&scoped=true\"\nimport script from \"./TaskQuadrant.vue?vue&type=script&lang=js\"\nexport * from \"./TaskQuadrant.vue?vue&type=script&lang=js\"\n\nimport \"./TaskQuadrant.vue?vue&type=style&index=0&id=8f4a88f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8f4a88f6\"]])\n\nexport default __exports__","<template>\n  <teleport to=\"body\">\n    <transition name=\"modal-fade\">\n    <div v-if=\"visible\" class=\"modal-overlay\" @click=\"handleClose\">\n      <transition name=\"modal-slide\">\n        <div class=\"modal-container\" @click.stop>\n          <div class=\"modal-header\">\n            <h2 class=\"modal-title\"></h2>\n            <button class=\"close-button\" @click=\"handleClose\">\n              <font-awesome-icon icon=\"times\" />\n            </button>\n          </div>\n          \n          <form @submit.prevent=\"handleSubmit\" class=\"modal-form\">\n            <!--  -->\n            <div class=\"form-section\">\n              <label class=\"form-label\"></label>\n              <input \n                v-model=\"formData.title\"\n                type=\"text\"\n                class=\"form-input\"\n                placeholder=\"\"\n                maxlength=\"50\"\n                required\n              >\n            </div>\n\n            <!--  -->\n            <div class=\"form-section\">\n              <label class=\"form-label\"></label>\n              <div class=\"quadrant-selector\">\n                <div\n                  v-for=\"quadrant in quadrants\"\n                  :key=\"quadrant.id\"\n                  class=\"quadrant-option\"\n                  :class=\"{ active: formData.quadrant === quadrant.id }\"\n                  @click=\"formData.quadrant = quadrant.id\"\n                >\n                  <div class=\"quadrant-color\" :style=\"{ backgroundColor: quadrant.color }\"></div>\n                  <span>{{ quadrant.label }}</span>\n                </div>\n              </div>\n            </div>\n\n            <!--  -->\n            <div class=\"form-section\">\n              <label class=\"form-label\"> <span class=\"optional-label\"></span></label>\n              <div class=\"time-row\">\n                <input \n                  v-model=\"formData.date\"\n                  type=\"date\"\n                  class=\"form-input date-input\"\n                  :min=\"today\"\n                >\n                <input \n                  v-model=\"formData.time\"\n                  type=\"time\"\n                  class=\"form-input time-input\"\n                >\n              </div>\n            </div>\n\n            <!--  -->\n            <div class=\"form-actions\">\n              <button type=\"button\" class=\"btn-secondary\" @click=\"handleClose\">\n                \n              </button>\n              <button type=\"submit\" class=\"btn-primary\" :disabled=\"!formData.title.trim()\">\n                \n              </button>\n            </div>\n          </form>\n        </div>\n      </transition>\n    </div>\n  </transition>\n</teleport>\n</template>\n\n<script>\nexport default {\n  name: 'AddTaskModal',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['close', 'submit'],\n  data() {\n    return {\n      formData: {\n        title: '',\n        date: '',\n        time: '',\n        quadrant: 2\n      },\n\n      quadrants: [\n        { id: 1, label: '', color: '#ff3b30' },\n        { id: 2, label: '', color: '#007aff' },\n        { id: 3, label: '', color: '#ff9500' },\n        { id: 4, label: '', color: '#34c759' }\n      ]\n    }\n  },\n  computed: {\n    today() {\n      const now = new Date()\n      const y = now.getFullYear()\n      const m = String(now.getMonth() + 1).padStart(2, '0')\n      const d = String(now.getDate()).padStart(2, '0')\n      return `${y}-${m}-${d}`\n    },\n    currentTime() {\n      const now = new Date()\n      return now.toTimeString().slice(0, 5) // HH:MM\n    }\n  },\n  watch: {\n    visible(newVal) {\n      if (newVal) {\n        // \n        this.formData.date = this.today\n        // \n        this.formData.time = this.currentTime\n      }\n    }\n  },\n  methods: {\n    handleClose() {\n      this.$emit('close')\n    },\n    handleSubmit() {\n      const taskData = {\n        ...this.formData,\n        id: Date.now(),\n        completed: false,\n        createdAt: new Date().toISOString(),\n        userId: 'default-user', // \n        // timeBlockType\n        timeBlockType: this.getTimeBlockType(this.formData.time),\n        isScheduled: !!this.formData.time\n      }\n      this.$emit('submit', taskData)\n      this.resetForm()\n    },\n    getTimeBlockType(time) {\n      if (!time) return 'unscheduled'\n      \n      const hour = parseInt(time.split(':')[0])\n      if (hour >= 7 && hour < 12) {\n        return 'morning'\n      } else if (hour >= 12 && hour < 18) {\n        return 'afternoon'\n      } else if (hour >= 18 && hour < 24) {\n        return 'evening'\n      }\n      return 'unscheduled'\n    },\n    resetForm() {\n      this.formData = {\n        title: '',\n        date: this.today,\n        time: '',\n        quadrant: 2\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(10px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n}\n\n.modal-container {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 20px;\n  width: 90%;\n  max-width: 380px;\n  max-height: 85vh;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 24px 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.modal-title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin: 0;\n}\n\n.close-button {\n  width: 32px;\n  height: 32px;\n  border: none;\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #8e8e93;\n}\n\n.close-button:hover {\n  background: rgba(0, 0, 0, 0.1);\n  color: #1d1d1f;\n}\n\n.modal-form {\n  padding: 0 24px 24px;\n  overflow-y: auto;\n}\n\n.form-section {\n  margin-bottom: 20px;\n}\n\n.form-label {\n  display: block;\n  font-size: 15px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 8px;\n}\n\n.form-input {\n  width: 100%;\n  padding: 12px 16px;\n  font-size: 16px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.8);\n  transition: all 0.2s ease;\n  color: #1d1d1f;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #007aff;\n  background: white;\n  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);\n}\n\n.form-input::placeholder {\n  color: #8e8e93;\n}\n\n\n\n/*  */\n.optional-label {\n  font-size: 12px;\n  color: #8e8e93;\n  font-weight: 400;\n  margin-left: 6px;\n}\n\n/*  */\n.time-row {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n}\n\n.date-input,\n.time-input {\n  flex: 1;\n}\n\n.date-input,\n.time-input {\n  -webkit-appearance: none;\n  appearance: none;\n  position: relative;\n  width: 100%;\n}\n\n.date-input::-webkit-calendar-picker-indicator,\n.time-input::-webkit-calendar-picker-indicator {\n  background: none;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n/*  */\n.quadrant-selector {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n}\n\n.quadrant-option {\n  padding: 12px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 13px;\n  color: #1d1d1f;\n}\n\n.quadrant-option.active {\n  border-color: currentColor;\n  background: rgba(255, 255, 255, 1);\n  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);\n}\n\n.quadrant-color {\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  flex-shrink: 0;\n}\n\n/*  */\n.form-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 32px;\n  padding-top: 20px;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.btn-primary,\n.btn-secondary {\n  flex: 1;\n  padding: 14px 20px;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.btn-primary {\n  background: #007aff;\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: #0051d5;\n  transform: translateY(-1px);\n}\n\n.btn-primary:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.btn-secondary {\n  background: rgba(0, 0, 0, 0.05);\n  color: #1d1d1f;\n}\n\n.btn-secondary:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n/*  */\n.modal-fade-enter-active,\n.modal-fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-fade-enter-from,\n.modal-fade-leave-to {\n  opacity: 0;\n}\n\n.modal-slide-enter-active,\n.modal-slide-leave-active {\n  transition: all 0.3s ease;\n}\n\n.modal-slide-enter-from {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n\n.modal-slide-leave-to {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n\n/*  */\n@media (max-width: 430px) {\n  .modal-container {\n    width: 95%;\n    margin: 20px;\n    max-height: 90vh;\n  }\n  \n  .modal-header {\n    padding: 16px 20px 12px;\n  }\n  \n  .modal-form {\n    padding: 0 20px 20px;\n  }\n  \n  .quadrant-selector {\n    grid-template-columns: 1fr;\n  }\n}\n</style>","import { render } from \"./AddTaskModal.vue?vue&type=template&id=7d4bac7d&scoped=true\"\nimport script from \"./AddTaskModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddTaskModal.vue?vue&type=script&lang=js\"\n\nimport \"./AddTaskModal.vue?vue&type=style&index=0&id=7d4bac7d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d4bac7d\"]])\n\nexport default __exports__","<template>\n  <div class=\"tab-bar\">\n    <router-link \n      v-for=\"tab in tabs\" \n      :key=\"tab.name\"\n      :to=\"tab.path\" \n      class=\"tab-item\"\n      :class=\"{ active: $route.name === tab.name }\"\n    >\n      <font-awesome-icon :icon=\"tab.icon\" class=\"tab-icon\" />\n      <span>{{ tab.label }}</span>\n    </router-link>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TabBar',\n  data() {\n    return {\n      tabs: [\n        { name: 'Task', path: '/task', icon: 'tasks', label: '' },\n        { name: 'TaskCollections', path: '/task-collections', icon: 'layer-group', label: '' },\n        { name: 'AiSecretary', path: '/ai-secretary', icon: 'robot', label: 'AI' },\n        { name: 'Stats', path: '/stats', icon: 'chart-line', label: '' },\n        { name: 'Calendar', path: '/calendar', icon: 'calendar', label: '' }\n      ]\n    }\n  }\n}\n</script>\n\n<style scoped>\n.tab-bar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 62px;\n  background: rgba(247, 247, 247, 0.85);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  border-top: 0.5px solid #e5e5ea;\n  display: flex;\n  justify-content: space-around;\n  align-items: flex-start;\n  padding: 10px 0;\n  z-index: 100;\n}\n\n.tab-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n  color: #8e8e93;\n  text-decoration: none;\n  font-size: 10px;\n  font-weight: 500;\n  transition: color 0.3s, transform 0.3s;\n  padding: 0 12px;\n  transform: scale(0.95);\n}\n\n.tab-item.active {\n  color: #007aff;\n  transform: scale(1.05);\n}\n\n.tab-icon {\n  font-size: 22px;\n  margin-bottom: 2px;\n  transition: transform 0.3s;\n}\n\n.tab-item.active .tab-icon {\n  transform: scale(1.1);\n}\n\n@media (max-width: 430px) {\n  .tab-bar {\n    height: 60px;\n    padding: 12px 0 8px;\n  }\n  \n  .tab-icon {\n    font-size: 20px;\n  }\n}\n</style>","import { render } from \"./TabBar.vue?vue&type=template&id=65858b4d&scoped=true\"\nimport script from \"./TabBar.vue?vue&type=script&lang=js\"\nexport * from \"./TabBar.vue?vue&type=script&lang=js\"\n\nimport \"./TabBar.vue?vue&type=style&index=0&id=65858b4d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65858b4d\"]])\n\nexport default __exports__","// API\r\n// \r\n\r\nconst isDevelopment = process.env.NODE_ENV === 'development'\r\n\r\n// \r\nexport const API_CONFIG = {\r\n  // API\r\n  baseURL: isDevelopment ? '/api' : '/api',\r\n  \r\n  // AI API\r\n  aiBaseURL: isDevelopment ? '/api/ai' : '/api/ai',\r\n  \r\n  // AIsiriAPI - \r\n  aisiriBaseURL: isDevelopment ? '/api/aisiri' : '/api/aisiri',\r\n  \r\n  // API - \r\n  speechRecognitionBaseURL: '/api',\r\n  \r\n  // \r\n  timeout: 60000,\r\n  \r\n  // \r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\n// API URL\r\nexport function getApiUrl(path) {\r\n  return `${API_CONFIG.baseURL}${path}`\r\n}\r\n\r\n// AI API URL\r\nexport function getAiApiUrl(path) {\r\n  return `${API_CONFIG.aiBaseURL}${path}`\r\n}\r\n\r\n// AIsiriAPI URL\r\nexport function getAisiriApiUrl(path) {\r\n  return `${API_CONFIG.aisiriBaseURL}${path}`\r\n}\r\n\r\n// API URL - /api\r\nexport function getSpeechRecognitionApiUrl(path) {\r\n  // path/api\r\n  if (path.startsWith('/api/')) {\r\n    return path\r\n  }\r\n  // /api\r\n  return `/api${path}`\r\n}\r\n\r\n// \r\nexport const ENV_INFO = {\r\n  isDevelopment,\r\n  isProduction: !isDevelopment,\r\n  apiBase: API_CONFIG.baseURL\r\n}\r\n\r\n","import axios from 'axios'\nimport { API_CONFIG } from '../config/api.js'\n\n// axios\nconst http = axios.create({\n  baseURL: API_CONFIG.baseURL,\n  timeout: API_CONFIG.timeout,\n  headers: API_CONFIG.headers\n})\n\n// \nhttp.interceptors.request.use(\n  config => {\n    // token\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    \n    console.log(' API Request:', config.method?.toUpperCase(), config.url)\n    if (config.data) {\n      // \n      const logData = { ...config.data }\n      if (logData.password) logData.password = '***'\n      console.log(' Request Data:', logData)\n    }\n    return config\n  },\n  error => {\n    console.error(' Request Error:', error)\n    return Promise.reject(error)\n  }\n)\n\n// \nhttp.interceptors.response.use(\n  response => {\n    console.log(' API Response:', response.status, response.config.url)\n    console.log(' Response Data:', response.data)\n    return response.data\n  },\n  error => {\n    console.error(' Response Error:', error.response?.status, error.response?.data || error.message)\n    \n    // \n    if (error.response?.status === 401) {\n      console.log(' Token')\n      localStorage.removeItem('token')\n      localStorage.removeItem('user')\n      \n      // \n      if (!window.location.pathname.includes('/auth')) {\n        console.log(' ')\n        window.location.href = '/auth/login'\n      }\n    }\n    \n    return Promise.reject(error)\n  }\n)\n\nexport default http","import { API_CONFIG } from '../config/api.js'\n\n//  fetch  Content-Type\nconst BASE_URL = API_CONFIG.baseURL.replace('/api', '')\n\nfunction getToken() {\n  try {\n    return localStorage.getItem('token') || ''\n  } catch (_) {\n    return ''\n  }\n}\n\nasync function uploadVoice(file, userId) {\n  const form = new FormData()\n  form.append('file', file)\n  if (userId) form.append('user_id', userId)\n\n  const resp = await fetch(`${BASE_URL}/api/aivoice/upload-voice`, {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${getToken()}`\n    },\n    body: form\n  })\n\n  const data = await resp.json().catch(() => ({}))\n  if (!resp.ok || !data?.success) {\n    throw new Error(data?.error || data?.message || resp.statusText || '')\n  }\n  return data\n}\n\n//  JSON  http \nimport http from './http.js'\n\nasync function enrollVoice(userId, ossUrl) {\n  const res = await http.post('/aivoice/enroll-voice', {\n    user_id: userId,\n    oss_url: ossUrl\n  })\n  if (!res?.success) {\n    throw new Error(res?.error || res?.message || '')\n  }\n  return res\n}\n\nasync function getBindStatus(userId) {\n  try {\n    // \n    return await http.get('/aivoice/bind-status', { params: { user_id: userId } })\n  } catch (err) {\n    //  /:user_id \n    const code = err?.response?.status\n    const msg = err?.response?.data || err?.message\n    if (code === 404 || (typeof msg === 'string' && msg.includes(''))) {\n      return await http.get(`/aivoice/bind-status/${encodeURIComponent(userId)}`)\n    }\n    throw err\n  }\n}\n\nasync function synthesizeVoice(userId, encourageText, criticizeText) {\n  const res = await http.post('/aivoice/synthesize-voice', {\n    user_id: userId,\n    encourage_text: encourageText,\n    criticize_text: criticizeText\n  }, {\n    timeout: 30000 // 30\n  })\n  if (!res?.success) {\n    throw new Error(res?.error || res?.message || '')\n  }\n  return res\n}\n\nasync function imitateText(name, encourageTone, criticizeTone) {\n  const payload = {\n    encourage_tone: encourageTone,\n    criticize_tone: criticizeTone\n  }\n  if (name && String(name).trim()) {\n    payload.name = String(name).trim()\n  }\n  const res = await http.post('/aivoice/imitate-text', payload, { timeout: 20000 })\n  if (!res?.success) {\n    throw new Error(res?.error || res?.message || 'AI')\n  }\n  return res\n}\n\n// \nasync function deleteVoiceGroupByIndex(userId, groupIndex) {\n  const res = await http.delete('/aivoice/voice-group', {\n    data: { user_id: userId, group_index: groupIndex }\n  })\n  if (!res?.success) {\n    throw new Error(res?.error || res?.message || '')\n  }\n  return res\n}\n\n// URL\nasync function deleteVoiceGroupByUrl(userId, encourageUrl, criticizeUrl) {\n  const payload = { user_id: userId }\n  if (encourageUrl) payload.encourage_url = encourageUrl\n  if (criticizeUrl) payload.criticize_url = criticizeUrl\n  const res = await http.delete('/aivoice/voice-group', { data: payload })\n  if (!res?.success) {\n    throw new Error(res?.error || res?.message || '')\n  }\n  return res\n}\n\nconst aivoiceAPI = {\n  uploadVoice,\n  enrollVoice,\n  getBindStatus,\n  synthesizeVoice,\n  imitateText,\n  deleteVoiceGroupByIndex,\n  deleteVoiceGroupByUrl\n}\n\nexport default aivoiceAPI ","<template>\n  <div class=\"modal-overlay voice-clone-modal-overlay\" @click.self=\"close\">\n    <div class=\"modal-container voice-clone-modal-content\" style=\"max-width: 400px;\">\n      <header class=\"modal-header\">\n        <h2 class=\"modal-title\"></h2>\n        <button class=\"icon-button\" @click=\"close\"></button>\n      </header>\n      <template v-if=\"!cloned\">\n        <main class=\"modal-body\">\n          <div class=\"upload-area\" @click=\"$refs.fileInput && $refs.fileInput.click()\">\n            <i class=\"fa-solid fa-cloud-arrow-up\" style=\"font-style: normal; color: #4F46E5;\"></i>\n            <p></p>\n            <span> mp3/wav   15MB</span>\n            <input ref=\"fileInput\" type=\"file\" accept=\"audio/*\" @change=\"onFileChange\" style=\"display:none\" />\n          </div>\n          <div class=\"file-info\" v-if=\"fileName\">\n            <span> {{ fileName }}</span>\n            <button class=\"icon-button\" @click=\"() => { file=null; fileName=''; }\"></button>\n          </div>\n          <div class=\"form-error\" v-if=\"errorMsg\">{{ errorMsg }}</div>\n        </main>\n        <footer class=\"modal-footer\">\n          <button class=\"btn btn-secondary\" @click=\"close\"></button>\n          <button class=\"btn btn-primary\" :disabled=\"!file || loading\" @click=\"handleNext\">{{ loading ? '...' : '' }}</button>\n        </footer>\n        \n        <!--  -->\n        <button \n          v-if=\"!cloned\" \n          class=\"try-voice-btn\" \n          @click=\"tryDemoVoice\" \n          :disabled=\"loading\"\n          title=\"\"\n        >\n           \n        </button>\n      </template>\n      <template v-else>\n        <header class=\"modal-header\" style=\"border-top: 1px solid var(--color-border); border-bottom: none;\">\n          <h2 class=\"modal-title\"></h2>\n          <button class=\"btn-link\" @click=\"showUpload=!showUpload\">{{ showUpload ? '' : '' }}</button>\n        </header>\n        <main class=\"modal-body\">\n          <div class=\"success-feedback\" v-if=\"!showUpload\">\n            <i class=\"fa-regular fa-circle-check\" style=\"font-style: normal; color: #10B981;\"></i>\n            <p></p>\n          </div>\n          <div v-show=\"showUpload\" style=\"margin-top: 16px;\">\n            <div class=\"upload-area\" @click=\"$refs.updateInput && $refs.updateInput.click()\">\n              <i class=\"fa-solid fa-cloud-arrow-up\" style=\"font-style: normal; color: #4F46E5;\"></i>\n              <p></p>\n              <span> mp3/wav   15MB</span>\n              <input ref=\"updateInput\" type=\"file\" accept=\"audio/*\" @change=\"onFileChange\" style=\"display:none\" />\n            </div>\n            <div class=\"file-info\" v-if=\"fileName\">\n              <span> {{ fileName }}</span>\n              <button class=\"icon-button\" @click=\"() => { file=null; fileName=''; }\"></button>\n            </div>\n            <div class=\"form-error\" v-if=\"errorMsg\">{{ errorMsg }}</div>\n          </div>\n        </main>\n        <footer class=\"modal-footer\" id=\"cloned-footer\">\n          <template v-if=\"showUpload\">\n            <button class=\"btn btn-secondary\" @click=\"close\" :disabled=\"loading\"></button>\n            <button class=\"btn btn-primary\" :disabled=\"!file || loading\" @click=\"handleNext\">{{ loading ? '...' : '' }}</button>\n          </template>\n          <template v-else>\n            <button class=\"btn btn-primary\" @click=\"handleNext\" :disabled=\"loading\"></button>\n          </template>\n        </footer>\n      </template>\n\n      <div v-if=\"loading\" class=\"loading-overlay\">\n        <div class=\"spinner\"></div>\n        <p>...</p>\n      </div>\n\n      <p v-if=\"successMsg\" class=\"success-msg\">{{ successMsg }}</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* global defineEmits, defineProps */\nimport { ref, onMounted, watch } from 'vue';\nimport aivoiceAPI from '@/api/aivoice.js'\nconst emit = defineEmits(['close', 'clone-success']);\nconst props = defineProps({\n  hasCloned: { type: Boolean, default: false },\n  userId: { type: String, default: '' }\n});\n\n// URL\nconst DEMO_VOICE_URL = 'https://vitebucket.oss-cn-hangzhou.aliyuncs.com/voice/685660fc1fc9dcbdaea1a51d/1750861142930_huangquan1.mp3';\nconst file = ref(null);\nconst fileName = ref('');\nconst errorMsg = ref('');\nconst successMsg = ref('');\nconst showUpload = ref(false);\nconst loading = ref(false);\nconst cloned = ref(props.hasCloned);\n\nwatch(() => props.hasCloned, (v) => { cloned.value = !!v })\n\nfunction close() {\n  if (loading.value) return;\n  emit('close');\n}\nfunction onFileChange(e) {\n  const f = e.target.files[0];\n  if (!f) return;\n  if (!['audio/mp3', 'audio/wav', 'audio/mpeg', 'audio/x-wav'].includes(f.type)) {\n    errorMsg.value = 'mp3wav';\n    file.value = null;\n    fileName.value = '';\n    return;\n  }\n  if (f.size > 15 * 1024 * 1024) {\n    errorMsg.value = '15MB';\n    file.value = null;\n    fileName.value = '';\n    return;\n  }\n  errorMsg.value = '';\n  file.value = f;\n  fileName.value = f.name;\n}\n\nfunction resolveUserId() {\n  if (props.userId) return props.userId\n  try {\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\n    return user?._id || user?.id || localStorage.getItem('userId') || ''\n  } catch (_) {\n    return localStorage.getItem('userId') || ''\n  }\n}\n\nonMounted(async () => {\n  const userId = resolveUserId()\n  if (!userId) return\n  try {\n    const res = await aivoiceAPI.getBindStatus(userId)\n    // http  data \n    const has = !!(res?.binded ?? res?.has_voice ?? res?.bound)\n    cloned.value = has\n  } catch (e) {\n    // \n  }\n})\n\nasync function handleNext() {\n  // \"\"\n  if (cloned.value && !showUpload.value) {\n    emit('clone-success');\n    return;\n  }\n  if (!file.value) {\n    errorMsg.value = '';\n    return;\n  }\n\n  const userId = resolveUserId()\n  if (!userId) {\n    errorMsg.value = '';\n    return;\n  }\n\n  loading.value = true;\n  successMsg.value = '';\n  errorMsg.value = '';\n\n  try {\n    // 1)  user_id\n    const uploadRes = await aivoiceAPI.uploadVoice(file.value, userId)\n    const ossUrl = uploadRes.url\n\n    // 2)  user_id + oss_url\n    const enrollRes = await aivoiceAPI.enrollVoice(userId, ossUrl)\n\n    successMsg.value = enrollRes.action === 'update_voice' ? '' : ''\n    cloned.value = true\n    loading.value = false;\n    setTimeout(() => {\n      successMsg.value = '';\n      emit('clone-success');\n    }, 800);\n  } catch (err) {\n    loading.value = false;\n    errorMsg.value = err?.message || '';\n  }\n}\n\n// \nasync function tryDemoVoice() {\n  const userId = resolveUserId()\n  if (!userId) {\n    errorMsg.value = '';\n    return;\n  }\n\n  loading.value = true;\n  successMsg.value = '';\n  errorMsg.value = '';\n\n  try {\n    // URL\n    await aivoiceAPI.enrollVoice(userId, DEMO_VOICE_URL)\n    \n    successMsg.value = '';\n    cloned.value = true;\n    loading.value = false;\n    \n    setTimeout(() => {\n      successMsg.value = '';\n      emit('clone-success');\n    }, 800);\n  } catch (err) {\n    loading.value = false;\n    errorMsg.value = err?.message || '';\n  }\n}\n</script>\n\n<style scoped>\n:root { --color-primary: #4F46E5; --color-bg: #F8F9FA; --color-surface: #FFFFFF; --color-text-primary: #111827; --color-text-secondary: #374151; --color-text-tertiary: #6B7280; --color-border: #E5E7EB; --radius-lg: 16px; --radius-md: 12px; --radius-full: 999px; }\n.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 2100; padding: 16px; }\n.modal-container { background: #ffffff; border-radius: 18px; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); width: 100%; display: flex; flex-direction: column; position: relative; overflow: hidden; max-height: 90vh; }\n.modal-header { padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-border); }\n.modal-title { font-size: 20px; font-weight: 800; color: var(--color-text-primary); margin: 0; display: flex; align-items: center; gap: 8px; }\n.icon-button { background: #F3F4F6; border: none; font-size: 16px; color: #6b7280; cursor: pointer; padding: 8px; border-radius: 10px; width: 36px; height: 36px; display: inline-flex; align-items: center; justify-content: center; }\n.icon-button:hover { background-color: #E5E7EB; }\n.btn-link { background: none; border: none; color: #6C4FE5; font-weight: 700; cursor: pointer; }\n.modal-body { padding: 24px; overflow-y: auto; background: #ffffff; }\n.modal-footer { padding: 16px 24px; display: flex; justify-content: flex-end; gap: 12px; border-top: 1px solid var(--color-border); }\n\n/*  */\n.upload-area { border: 2px dashed #D6DAE1; border-radius: 14px; padding: 32px; text-align: center; cursor: pointer; transition: border-color 0.2s; background: #fff; }\n.upload-area:hover { border-color: #BFC6D3; }\n.upload-area i { font-size: 32px; color: #6C4FE5; }\n.upload-area p { font-weight: 800; color: var(--color-text-primary); margin: 12px 0 4px 0; font-size: 18px; }\n.upload-area span { font-size: 13px; color: var(--color-text-tertiary); }\n.file-info { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #F5F7FB; border-radius: 12px; margin-top: 16px; }\n.file-info span { font-weight: 700; color: var(--color-text-secondary); }\n\n/*  &  */\n.success-feedback { text-align: center; padding: 24px; }\n.success-feedback i { font-size: 42px; }\n.success-feedback p { font-size: 18px; font-weight: 800; margin-top: 16px; color: #374151; }\n.form-error { color: #EF4444; font-size: 13px; margin-top: 8px; }\n.success-msg { color: #22c55e; font-size: 16px; text-align: center; margin-top: 16px; font-weight: 700; }\n\n/*  */\n.btn { height: 44px; padding: 0 24px; border: none; border-radius: 12px; font-size: 16px; font-weight: 800; cursor: pointer; }\n.btn-primary { background: linear-gradient(90deg,#6C4FE5,#8A8FF8); color: #fff; box-shadow: 0 6px 18px rgba(108,79,229,0.28); }\n.btn-primary:disabled { background: #C7C9FF; color: #fff; cursor: not-allowed; box-shadow: none; }\n.btn-secondary { background: #E9EEF5; color: var(--color-text-primary); }\n.btn-secondary:hover { background: #E2E8F0; }\n\n/*  */\n.try-voice-btn {\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n  background: #4F46E5;\n  color: #fff;\n  padding: 10px 20px;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 800;\n  cursor: pointer;\n  border: none;\n  box-shadow: 0 6px 18px rgba(79, 70, 229, 0.28);\n  z-index: 10;\n}\n.try-voice-btn:hover {\n  background: #6C4FE5;\n}\n.try-voice-btn:disabled {\n  background: #C7C9FF;\n  color: #fff;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n/*  */\n.loading-overlay { position: absolute; inset: 0; background: rgba(255,255,255,0.85); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }\n.spinner { width: 40px; height: 40px; border: 4px solid var(--color-border); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; }\n.loading-overlay p { margin-top: 16px; font-weight: 700; }\n@keyframes spin { to { transform: rotate(360deg); } }\n</style> ","import script from \"./VoiceCloneModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VoiceCloneModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VoiceCloneModal.vue?vue&type=style&index=0&id=212a53c7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-212a53c7\"]])\n\nexport default __exports__","<template>\n  <div class=\"modal-overlay vm-overlay\" @click.self=\"close\">\n    <div class=\"modal-container vm-content\" style=\"max-width: 560px;\">\n      <header class=\"modal-header\">\n        <h2 class=\"modal-title\"></h2>\n        <div class=\"header-actions\">\n          <button class=\"icon-button\" title=\"\" @click=\"refresh\" :disabled=\"loading\"></button>\n          <button class=\"icon-button\" title=\"\" @click=\"close\"></button>\n        </div>\n      </header>\n      <main class=\"modal-body list-body\">\n        <div v-if=\"error\" class=\"error-state\">\n          <i class=\"fa-regular fa-circle-xmark\" style=\"font-style: normal; font-size: 32px; color: #ef4444;\">!</i>\n          <p>{{ error }}</p>\n          <button class=\"btn btn-secondary\" @click=\"refresh\" :disabled=\"loading\"></button>\n        </div>\n        <div v-else-if=\"!voiceGroups.length && !loading\" class=\"empty-state\">\n          <i class=\"fa-regular fa-folder-open\" style=\"font-style: normal; font-size: 48px; color: #E5E7EB;\"></i>\n          <p></p>\n          <span></span>\n        </div>\n        <div v-else class=\"vm-list\">\n          <div v-for=\"(g, idx) in voiceGroups\" :key=\"idx\" class=\"list-card\">\n            <div class=\"card-header\">\n              <h3> {{ voiceGroups.length - idx }} </h3>\n              <span>: {{ formatTime(g.createdAt) }}</span>\n            </div>\n            <div class=\"card-content\">\n              <div class=\"audio-row\">\n                <span></span>\n                <div class=\"audio-player\">\n                  <audio v-if=\"g.encourage_url\" :src=\"withBuster(toHttps(g.encourage_url))\" controls @error=\"onAudioError('encourage')\" />\n                  <span v-else class=\"no-audio\"></span>\n                </div>\n              </div>\n              <div class=\"audio-row\">\n                <span></span>\n                <div class=\"audio-player\">\n                  <audio v-if=\"g.criticize_url\" :src=\"withBuster(toHttps(g.criticize_url))\" controls @error=\"onAudioError('criticize')\" />\n                  <span v-else class=\"no-audio\"></span>\n                </div>\n              </div>\n            </div>\n            <div class=\"card-footer\">\n              <button class=\"btn-delete\" @click=\"onDelete(idx)\"></button>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* global defineEmits, defineProps */\nimport { ref, onMounted } from 'vue'\nimport aivoiceAPI from '@/api/aivoice.js'\nconst emit = defineEmits(['close'])\nconst props = defineProps({\n  userId: { type: String, required: true }\n})\nconst loading = ref(false)\nconst error = ref('')\nconst voiceGroups = ref([])\nconst cacheBuster = ref(0)\nconst retryCount = ref({ encourage: 0, criticize: 0 })\n\nfunction close() { emit('close') }\nfunction toHttps(url) { if (!url) return url; return url.startsWith('http://') ? 'https://' + url.slice('http://'.length) : url }\nfunction withBuster(url) { if (!url) return url; const sep = url.includes('?') ? '&' : '?'; return `${url}${sep}v=${cacheBuster.value}` }\nfunction onAudioError(kind) {\n  if (!retryCount.value[kind]) retryCount.value[kind] = 0\n  if (retryCount.value[kind] >= 3) return\n  retryCount.value[kind] += 1\n  cacheBuster.value = Date.now()\n}\nfunction formatTime(value) { try { return new Date(value).toLocaleString() } catch (_) { return String(value || '') } }\n\nasync function refresh() {\n  loading.value = true\n  error.value = ''\n  try {\n    const res = await aivoiceAPI.getBindStatus(props.userId)\n    if (res?.binded === false) {\n      voiceGroups.value = []\n    } else {\n      voiceGroups.value = Array.isArray(res?.voice_groups) ? res.voice_groups : []\n    }\n    cacheBuster.value = Date.now()\n  } catch (e) {\n    error.value = e?.message || ''\n  } finally {\n    loading.value = false\n  }\n}\n\nasync function onDelete(idx) {\n  if (loading.value) return\n  const ok = window.confirm('')\n  if (!ok) return\n  loading.value = true\n  error.value = ''\n  try {\n    //  0 \n    await aivoiceAPI.deleteVoiceGroupByIndex(props.userId, idx)\n    await refresh()\n  } catch (e) {\n    error.value = e?.message || ''\n  } finally {\n    loading.value = false\n  }\n}\n\nonMounted(refresh)\n</script>\n\n<style scoped>\n:root { --color-primary: #4F46E5; --color-bg: #F8F9FA; --color-surface: #FFFFFF; --color-text-primary: #111827; --color-text-secondary: #374151; --color-text-tertiary: #6B7280; --color-border: #E5E7EB; --radius-lg: 16px; --radius-md: 12px; --radius-full: 999px; }\n.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 2100; padding: 16px; }\n.modal-container { background: #ffffff; border-radius: 18px; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); width: 100%; display: flex; flex-direction: column; position: relative; overflow: hidden; max-height: 90vh; }\n.modal-header { padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-border); }\n.modal-title { font-size: 20px; font-weight: 800; color: var(--color-text-primary); margin: 0; display: flex; align-items: center; gap: 8px; }\n.header-actions { display: flex; gap: 12px; }\n.icon-button { background: #F3F4F6; border: none; font-size: 16px; color: #6b7280; cursor: pointer; padding: 8px; border-radius: 10px; width: 36px; height: 36px; display: inline-flex; align-items: center; justify-content: center; }\n.icon-button:hover { background-color: #E5E7EB; }\n.modal-body { padding: 16px; overflow-y: auto; background: #ffffff; }\n.list-body { background-color: #ffffff; }\n\n/*  */\n.vm-list { display: flex; flex-direction: column; gap: 16px; max-height: 60vh; overflow-y: auto; }\n.list-card { background: #fff; border-radius: 16px; box-shadow: 0 2px 6px rgba(0,0,0,0.06); overflow: hidden; }\n.card-header { padding: 16px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-border); }\n.card-header h3 { margin: 0; font-size: 18px; color: var(--color-text-primary); font-weight: 800; }\n.card-header span { font-size: 12px; color: var(--color-text-tertiary); }\n.card-content { padding: 16px; display: flex; flex-direction: column; gap: 16px; }\n.audio-row { display: flex; align-items: center; justify-content: space-between; }\n.audio-row > span { font-weight: 700; color: var(--color-text-secondary); }\n.audio-player { display: flex; align-items: center; gap: 12px; min-width: 200px; }\n.audio-player audio { width: 260px; height: 36px; }\n.no-audio { color: var(--color-text-tertiary); font-style: italic; font-size: 13px; }\n.card-footer { padding: 10px 16px; text-align: right; border-top: 1px solid var(--color-border); }\n.btn-delete { background: none; border: none; color: #ef4444; font-size: 14px; font-weight: 700; cursor: pointer; padding: 6px 10px; border-radius: 8px; }\n.btn-delete:hover { background: #fee2e2; }\n\n/*  */\n.empty-state, .error-state { text-align: center; padding: 48px 24px; }\n.empty-state p, .error-state p { font-size: 16px; font-weight: 700; color: var(--color-text-primary); margin: 8px 0; }\n.empty-state span, .error-state span { font-size: 14px; color: var(--color-text-tertiary); }\n\n/*  */\n.btn { height: 44px; padding: 0 18px; border: none; border-radius: 12px; font-size: 15px; font-weight: 700; cursor: pointer; }\n.btn-secondary { background: #E9EEF5; color: var(--color-text-primary); }\n.btn-secondary:hover { background: #E2E8F0; }\n</style> ","import script from \"./VoiceManagerModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VoiceManagerModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VoiceManagerModal.vue?vue&type=style&index=0&id=3b2eea2b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3b2eea2b\"]])\n\nexport default __exports__","<template>\n  <div class=\"modal-overlay ai-voice-modal-overlay\" @click.self=\"close\">\n    <div class=\"modal-container ai-voice-modal-content\" style=\"max-width: 420px; border-radius: 36px; overflow: hidden;\">\n      <header class=\"modal-header\">\n        <a href=\"#\" class=\"header-link\" @click.prevent=\"openManager\"></a>\n        <h2 class=\"modal-title\">\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" style=\"vertical-align: middle\"><path d=\"M12 3a3 3 0 0 1 3 3v5a3 3 0 1 1-6 0V6a3 3 0 0 1 3-3z\" fill=\"#4F46E5\"/><path d=\"M5 11a1 1 0 0 1 2 0v1a5 5 0 1 0 10 0v-1a1 1 0 1 1 2 0v1a7 7 0 0 1-6 6.93V21a1 1 0 1 1-2 0v-2.07A7 7 0 0 1 5 12v-1z\" fill=\"#818CF8\"/></svg>\n          AI\n        </h2>\n        <button class=\"icon-button\" @click=\"close\" title=\"\"></button>\n      </header>\n      <main class=\"modal-body\">\n        <div class=\"segmented-control\">\n          <button :class=\"{ active: mode==='ai' }\" @click=\"mode='ai'\">AI</button>\n          <button :class=\"{ active: mode==='custom' }\" @click=\"mode='custom'\"></button>\n        </div>\n\n        <div class=\"form-section\" v-if=\"mode==='ai'\">\n          <template v-if=\"!aiGenerated\">\n          <div class=\"form-group\">\n            <label></label>\n              <input v-model=\"mimicTarget\" type=\"text\" placeholder=\"\" />\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n              <div class=\"chip-group\">\n                <button v-for=\"style in encourageStyles\" :key=\"style\" class=\"chip\" :class=\"{ active: encourageStyle===style }\" @click=\"encourageStyle=style\">{{ style }}</button>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label></label>\n              <div class=\"chip-group\">\n                <button v-for=\"style in criticizeStyles\" :key=\"style\" class=\"chip\" :class=\"{ active: criticizeStyle===style }\" @click=\"criticizeStyle=style\">{{ style }}</button>\n              </div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"form-group\">\n              <label></label>\n              <textarea v-model=\"encourageText\" rows=\"3\" placeholder=\"AI\"></textarea>\n              <span class=\"ai-tag\">AI</span>\n          </div>\n          <div class=\"form-group\">\n              <label></label>\n              <textarea v-model=\"criticizeText\" rows=\"3\" placeholder=\"AI\"></textarea>\n              <span class=\"ai-tag\">AI</span>\n            </div>\n          </template>\n        </div>\n\n        <div class=\"form-section\" v-else>\n          <div class=\"form-group\">\n            <label></label>\n            <textarea v-model=\"encourageText\" rows=\"3\" placeholder=\"\"></textarea>\n          </div>\n          <div class=\"form-group\">\n            <label></label>\n            <textarea v-model=\"criticizeText\" rows=\"3\" placeholder=\"\"></textarea>\n          </div>\n        </div>\n\n        <div v-if=\"audioUrls.encourage || audioUrls.criticize\" class=\"result-section\">\n          <div v-if=\"audioUrls.encourage\" class=\"audio-card\">\n            <span class=\"audio-label\"></span>\n            <div class=\"audio-player\">\n              <audio :src=\"withBuster(audioUrls.encourage)\" controls @error=\"onAudioError('encourage')\" />\n            </div>\n          </div>\n          <div v-if=\"audioUrls.criticize\" class=\"audio-card\">\n            <span class=\"audio-label\"></span>\n            <div class=\"audio-player\">\n              <audio :src=\"withBuster(audioUrls.criticize)\" controls @error=\"onAudioError('criticize')\" />\n            </div>\n        </div>\n        </div>\n\n        <p v-if=\"errorMsg\" class=\"form-error\">{{ errorMsg }}</p>\n      </main>\n      <footer class=\"modal-footer\">\n        <button class=\"btn btn-secondary\" @click=\"close\"></button>\n        <button\n          v-if=\"audioUrls.encourage || audioUrls.criticize\"\n          class=\"btn btn-primary\"\n          @click=\"applyVoice\"\n          :disabled=\"loading\"\n        ></button>\n        <button\n          v-else\n          class=\"btn btn-primary\"\n          @click=\"synthesizeVoice\"\n          :disabled=\"loading || (mode==='custom' && (!encourageText || !criticizeText)) || (mode==='ai' && loading)\"\n        >{{\n            mode === 'ai'\n              ? (aiGenerated ? (loading ? '...' : '') : (loading ? '...' : ''))\n              : (loading ? '...' : '')\n        }}</button>\n      </footer>\n\n      <div v-if=\"loading\" class=\"loading-overlay\">\n        <div class=\"spinner\"></div>\n        <p>...</p>\n      </div>\n\n      <VoiceManagerModal v-if=\"showVoiceManager\" :userId=\"resolveUserId()\" @close=\"showVoiceManager=false\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* global defineEmits, defineProps */\nimport { ref, watch } from 'vue';\nimport aivoiceAPI from '@/api/aivoice.js'\nimport VoiceManagerModal from './VoiceManagerModal.vue'\nconst emit = defineEmits(['close', 'apply-voice']);\nconst props = defineProps({\n  userId: { type: String, default: '' }\n});\n// \nvoid props.userId;\nconst mode = ref('ai');\nconst mimicTarget = ref('');\nconst encourageStyles = ['', '', '', ''];\nconst criticizeStyles = ['', '', '', ''];\nconst encourageStyle = ref(encourageStyles[0]);\nconst criticizeStyle = ref(criticizeStyles[0]);\nconst encourageText = ref('');\nconst criticizeText = ref('');\nconst loading = ref(false);\nconst errorMsg = ref('');\nconst audioUrls = ref({ encourage: '', criticize: '' });\nconst aiGenerated = ref(false);\nconst cacheBuster = ref(0);\nconst retryCount = ref({ encourage: 0, criticize: 0 });\nconst showVoiceManager = ref(false);\n\nfunction close() {\n  if (loading.value) return;\n  emit('close');\n}\nfunction openManager() { showVoiceManager.value = true }\nfunction resolveUserId() {\n  if (props.userId) return props.userId\n  try {\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\n    return user?._id || user?.id || localStorage.getItem('userId') || ''\n  } catch (_) {\n    return localStorage.getItem('userId') || ''\n  }\n}\nfunction toHttps(url) {\n  if (!url) return url\n  if (url.startsWith('http://')) return 'https://' + url.slice('http://'.length)\n  return url\n}\nfunction withBuster(url) {\n  if (!url) return url\n  const sep = url.includes('?') ? '&' : '?'\n  return `${url}${sep}v=${cacheBuster.value}`\n}\nfunction onAudioError(kind) {\n  if (!retryCount.value[kind]) retryCount.value[kind] = 0\n  if (retryCount.value[kind] >= 3) return\n  retryCount.value[kind] += 1\n  cacheBuster.value = Date.now()\n}\n//  CORS \nasync function synthesizeVoice() {\n  if (mode.value === 'custom' && (!encourageText.value || !criticizeText.value)) {\n    errorMsg.value = '';\n    return;\n  }\n  if (mode.value === 'ai' && !aiGenerated.value) {\n    //  imitate-text\n    loading.value = true;\n    errorMsg.value = '';\n    try {\n      const res = await aivoiceAPI.imitateText(mimicTarget.value || '', encourageStyle.value, criticizeStyle.value)\n      encourageText.value = res?.data?.encourage || res?.encourage || ''\n      criticizeText.value = res?.data?.criticize || res?.criticize || ''\n      if (!encourageText.value || !criticizeText.value) throw new Error('AI')\n      aiGenerated.value = true;\n      loading.value = false;\n    } catch (err) {\n      loading.value = false;\n      errorMsg.value = err?.message || 'AI';\n    }\n    return;\n  }\n  // \n  if (!encourageText.value || !criticizeText.value) {\n    errorMsg.value = '';\n    return;\n  }\n  const userId = resolveUserId()\n  if (!userId) {\n    errorMsg.value = '';\n    return;\n  }\n  loading.value = true;\n  errorMsg.value = '';\n  audioUrls.value = { encourage: '', criticize: '' };\n  retryCount.value = { encourage: 0, criticize: 0 }\n  try {\n    const res = await aivoiceAPI.synthesizeVoice(userId, encourageText.value, criticizeText.value)\n    const encUrl = toHttps(res?.data?.encourage_url || res?.encourage_url || '')\n    const criUrl = toHttps(res?.data?.criticize_url || res?.criticize_url || '')\n    audioUrls.value.encourage = encUrl\n    audioUrls.value.criticize = criUrl\n    cacheBuster.value = Date.now()\n    aiGenerated.value = false;\n    loading.value = false;\n    if (!audioUrls.value.encourage && !audioUrls.value.criticize) {\n      throw new Error('');\n    }\n  } catch (err) {\n    loading.value = false;\n    errorMsg.value = err?.message || '';\n  }\n}\nfunction applyVoice() {\n  emit('apply-voice');\n  close();\n}\nwatch(() => mode.value, () => {\n  aiGenerated.value = false;\n  errorMsg.value = '';\n  encourageText.value = '';\n  criticizeText.value = '';\n  audioUrls.value = { encourage: '', criticize: '' };\n});\n</script>\n\n<style scoped>\n/*  */\n:root { --color-primary: #4F46E5; --color-bg: #F8F9FA; --color-surface: #FFFFFF; --color-text-primary: #111827; --color-text-secondary: #374151; --color-text-tertiary: #6B7280; --color-border: #E5E7EB; --radius-lg: 36px; --radius-md: 12px; --radius-full: 999px; }\n\n.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 2000; padding: 16px; }\n.modal-container { background: #ffffff; border-radius: var(--radius-lg); box-shadow: 0 16px 40px rgba(17,24,39,0.18); width: 100%; display: flex; flex-direction: column; position: relative; overflow: hidden; animation: fadeIn 0.3s ease; max-height: 90vh; }\n@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n\n.modal-header { padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-border); }\n.modal-title { font-size: 18px; font-weight: 600; color: var(--color-text-primary); margin: 0; display: flex; align-items: center; gap: 8px; }\n.header-link { font-size: 14px; color: var(--color-primary); text-decoration: none; font-weight: 500; }\n.icon-button { background: none; border: none; font-size: 18px; color: var(--color-text-tertiary); cursor: pointer; padding: 6px; border-radius: var(--radius-full); width: 32px; height: 32px; display: inline-flex; align-items: center; justify-content: center; }\n.icon-button:hover { background-color: var(--color-bg); }\n\n.modal-body { padding: 24px; overflow-y: auto; background: #ffffff; }\n.modal-footer { padding: 16px 24px; display: flex; justify-content: flex-end; gap: 12px; border-top: 1px solid var(--color-border); }\n\n/*  */\n.btn { height: 46px; padding: 0 26px; border: none; border-radius: 14px; font-size: 16px; font-weight: 800; cursor: pointer; transition: transform .12s ease, box-shadow .12s ease, background .2s ease; display: inline-flex; align-items: center; justify-content: center; gap: 8px; }\n.btn:active { transform: translateY(0); }\n.btn-primary { background: linear-gradient(90deg,#6C4FE5,#8A8FF8); color: #fff; box-shadow: 0 12px 30px rgba(108,79,229,0.35); }\n.btn-primary:hover { background: linear-gradient(90deg,#5d45d1,#7f87ff); box-shadow: 0 14px 36px rgba(108,79,229,0.42); }\n.btn-primary:disabled { background: #C7C9FF; color: #fff; cursor: not-allowed; box-shadow: none; }\n.btn-secondary { background: #E9EEF5; color: var(--color-text-primary); box-shadow: inset 0 -1px 0 rgba(0,0,0,0.02); }\n.btn-secondary:hover { background: #E2E8F0; }\n.btn.fluid { width: 100%; }\n\n/*  */\n.segmented-control { display: flex; background-color: var(--color-bg); border-radius: var(--radius-md); padding: 4px; margin-bottom: 24px; }\n.segmented-control button { flex: 1; padding: 10px 12px; border: none; background: transparent; border-radius: 12px; font-size: 15px; font-weight: 800; color: var(--color-text-secondary); cursor: pointer; transition: all 0.2s ease; }\n.segmented-control button.active { background: #fff; color: var(--color-text-primary); box-shadow: 0 6px 16px rgba(0,0,0,0.06); }\n\n/*  */\n.form-group { margin-bottom: 20px; }\n.form-group label { display: block; font-size: 14px; font-weight: 800; margin-bottom: 8px; color: var(--color-text-primary); }\n.form-group input[type=\"text\"], .form-group textarea { width: 100%; padding: 12px 14px; border: 1px solid #D1D5DB; border-radius: 12px; font-size: 14px; box-sizing: border-box; }\n.form-group input[type=\"text\"]:focus, .form-group textarea:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(79,70,229,0.18); }\n.ai-tag { font-size: 12px; color: var(--color-text-tertiary); margin-top: 6px; display: inline-block; }\n.form-error { color: #EF4444; font-size: 13px; margin-top: 8px; }\n\n/*  */\n.chip-group { display: flex; flex-wrap: wrap; gap: 12px; }\n.chip { padding: 8px 18px; border: 1px solid var(--color-border); border-radius: 999px; background: #fff; color: var(--color-text-secondary); font-size: 15px; font-weight: 800; cursor: pointer; transition: all 0.18s ease; }\n.chip.active { background: linear-gradient(90deg,#6C4FE5,#8A8FF8); color: #fff; border-color: transparent; box-shadow: 0 8px 22px rgba(108,79,229,0.18); transform: none; }\n\n/*  */\n.result-section { margin-top: 24px; }\n.audio-card { background-color: #F5F7FB; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); }\n.audio-label { font-weight: 800; color: var(--color-text-primary); font-size: 14px; margin-bottom: 12px; display: block; }\n.audio-player audio { width: 100%; height: 36px; border-radius: 10px; }\n/* Chromium/WebKit  */\n.audio-player audio::-webkit-media-controls-play-button { background-color: #6C4FE5; border-radius: 50%; }\n.audio-player audio::-webkit-media-controls-play-button:hover { background-color: #5d45d1; }\n.audio-player audio::-webkit-media-controls-enclosure { border-radius: 10px; overflow: hidden; }\n\n/*  */\n.loading-overlay { position: absolute; inset: 0; background: rgba(255,255,255,0.85); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }\n.spinner { width: 40px; height: 40px; border: 4px solid var(--color-border); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; }\n.loading-overlay p { margin-top: 16px; font-weight: 500; }\n@keyframes spin { to { transform: rotate(360deg); } }\n</style> ","import script from \"./AIVoiceModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AIVoiceModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AIVoiceModal.vue?vue&type=style&index=0&id=c4edabf2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c4edabf2\"]])\n\nexport default __exports__","import http from './http'\n\n// API\nconst taskApi = {\n  // \n  getAllTasks(params = {}) {\n    return http.get('/tasks', { params })\n  },\n  \n  // \n  getUnscheduledTasks() {\n    return http.get('/tasks/unscheduled')\n  },\n  \n  // \n  getTasksByTimeBlock(timeBlockType) {\n    return http.get(`/tasks/timeblock/${timeBlockType}`)\n  },\n  \n  // \n  createTask(taskData) {\n    return http.post('/tasks', taskData)\n  },\n  \n  // \n  getTaskById(id) {\n    return http.get(`/tasks/${id}`)\n  },\n  \n  // \n  updateTask(id, taskData) {\n    return http.put(`/tasks/${id}`, taskData)\n  },\n  \n  // \n  deleteTask(id) {\n    return http.delete(`/tasks/${id}`)\n  },\n  \n  // \n  toggleTaskStatus(id) {\n    return http.patch(`/tasks/${id}/toggle`)\n  }\n}\n\nexport default taskApi","import axios from 'axios'\nimport { API_CONFIG } from '../config/api.js'\n\n// URL\nconst BASE_URL = API_CONFIG.baseURL\n\n// axios\nconst api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\n// API\nconst collectionApi = {\n  // \n  getCollections(params = {}) {\n    return api.get('/collections', { params })\n  },\n\n  // \n  getCollection(id) {\n    return api.get(`/collections/${id}`)\n  },\n\n  // \n  createCollection(data) {\n    return api.post('/collections', data)\n  },\n\n  // \n  updateCollection(id, data) {\n    return api.put(`/collections/${id}`, data)\n  },\n\n  // \n  deleteCollection(id, force = false) {\n    return api.delete(`/collections/${id}`, {\n      params: { force }\n    })\n  },\n\n  // /\n  archiveCollection(id, archived = true) {\n    return api.put(`/collections/${id}/archive`, { archived })\n  },\n\n  // \n  getStats(params = {}) {\n    return api.get('/collections/stats', { params })\n  },\n\n  // \"\"\n  getOtherCollection(params = {}) {\n    return api.get('/collections/other', { params })\n  }\n}\n\n// \napi.interceptors.request.use(\n  (config) => {\n    // token\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers = config.headers || {}\n      config.headers['Authorization'] = `Bearer ${token}`\n    }\n    console.log(` API: ${config.method?.toUpperCase()} ${config.url}`, config.data || config.params)\n    return config\n  },\n  (error) => {\n    console.error(' API:', error)\n    return Promise.reject(error)\n  }\n)\n\n// \napi.interceptors.response.use(\n  (response) => {\n    console.log(` API: ${response.config.method?.toUpperCase()} ${response.config.url}`, response.data)\n    return response\n  },\n  (error) => {\n    console.error(' API:', error.response?.data || error.message)\n    \n    // \n    const message = error.response?.data?.message || error.message || ''\n    \n    // 401 \n    if (error.response?.status === 401 && typeof window !== 'undefined') {\n      localStorage.removeItem('token')\n      localStorage.removeItem('user')\n      window.location.href = '/auth/login'\n    }\n\n    // \n    if (typeof window !== 'undefined' && window.app && window.app.$toast) {\n      window.app.$toast.error(message)\n    }\n    \n    return Promise.reject(error)\n  }\n)\n\nexport default collectionApi","import http from './http'\n\n// API\nconst pomodoroApi = {\n  // \n  getAllPomodoros(params = {}) {\n    return http.get('/pomodoro', { params })\n  },\n  \n  // \n  createPomodoro(pomodoroData) {\n    return http.post('/pomodoro', pomodoroData)\n  },\n  \n  // \n  getPomodoroById(id) {\n    return http.get(`/pomodoro/${id}`)\n  },\n  \n  // \n  updatePomodoro(id, pomodoroData) {\n    return http.put(`/pomodoro/${id}`, pomodoroData)\n  },\n  \n  // \n  deletePomodoro(id) {\n    return http.delete(`/pomodoro/${id}`)\n  },\n  \n  // \n  getPomodoroStats(params = {}) {\n    return http.get('/pomodoro/stats', { params })\n  },\n  \n  // \n  getTodayPomodoros(userId = 'default') {\n    const today = new Date()\n    const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n    const endOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1)\n    \n    return this.getAllPomodoros({\n      userId,\n      startDate: startOfDay.toISOString(),\n      endDate: endOfDay.toISOString()\n    })\n  },\n  \n  // \n  getTaskPomodoros(taskName, userId = 'default') {\n    return this.getAllPomodoros({\n      userId,\n      taskName\n    })\n  },\n  \n  // \n  getTaskStats(taskName, userId = 'default') {\n    return this.getPomodoroStats({\n      userId,\n      taskName\n    })\n  }\n}\n\nexport default pomodoroApi","import taskApi from './tasks'\nimport collectionApi from './collections'\nimport pomodoroApi from './pomodoros'\nimport aivoiceAPI from './aivoice'\n\n// API\nconst api = {\n  tasks: taskApi,\n  collections: collectionApi,\n  pomodoros: pomodoroApi,\n  aivoice: aivoiceAPI\n}\n\nexport default api","import aivoiceAPI from '@/api/aivoice.js'\r\n\r\nfunction resolveUserId() {\r\n  try {\r\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    return user?._id || user?.id || localStorage.getItem('userId') || ''\r\n  } catch (_) {\r\n    return localStorage.getItem('userId') || ''\r\n  }\r\n}\r\n\r\nfunction toHttps(url) {\r\n  if (!url) return url\r\n  return url.startsWith('http://') ? 'https://' + url.slice('http://'.length) : url\r\n}\r\n\r\nfunction pickRandom(list) {\r\n  return list[Math.floor(Math.random() * list.length)]\r\n}\r\n\r\nfunction withBuster(url) {\r\n  const sep = url.includes('?') ? '&' : '?'\r\n  return `${url}${sep}t=${Date.now()}`\r\n}\r\n\r\nasync function getVoiceUrls(kind) {\r\n  const userId = resolveUserId()\r\n  if (!userId) return []\r\n  try {\r\n    const res = await aivoiceAPI.getBindStatus(userId)\r\n    if (res?.binded === false) return []\r\n    const urls = []\r\n    if (kind === 'encourage') {\r\n      if (res?.encourage_url) urls.push(toHttps(res.encourage_url))\r\n    } else {\r\n      if (res?.criticize_url) urls.push(toHttps(res.criticize_url))\r\n    }\r\n    const groups = Array.isArray(res?.voice_groups) ? res.voice_groups : []\r\n    for (const g of groups) {\r\n      const u = kind === 'encourage' ? g?.encourage_url : g?.criticize_url\r\n      if (u) urls.push(toHttps(u))\r\n    }\r\n    return urls.filter(Boolean)\r\n  } catch (_) {\r\n    return []\r\n  }\r\n}\r\n\r\nfunction playWithRetry(url, maxAttempts = 3) {\r\n  return new Promise((resolve) => {\r\n    let attempts = 0\r\n    const tryPlay = () => {\r\n      attempts += 1\r\n      const audio = new Audio(withBuster(url))\r\n      audio.preload = 'auto'\r\n      const cleanup = () => {\r\n        audio.oncanplaythrough = null\r\n        audio.onerror = null\r\n      }\r\n      audio.oncanplaythrough = async () => {\r\n        cleanup()\r\n        try { await audio.play() } catch (_) { /* ignore */ }\r\n        resolve()\r\n      }\r\n      audio.onerror = () => {\r\n        cleanup()\r\n        if (attempts < maxAttempts) {\r\n          setTimeout(tryPlay, attempts * 600)\r\n        } else {\r\n          resolve()\r\n        }\r\n      }\r\n      // \r\n      audio.load()\r\n    }\r\n    tryPlay()\r\n  })\r\n}\r\n\r\nexport async function playRandomVoice(kind) {\r\n  try {\r\n    const urls = await getVoiceUrls(kind)\r\n    if (!urls.length) return\r\n    const url = pickRandom(urls)\r\n    await playWithRetry(url, 3)\r\n  } catch (_) { void 0 }\r\n} ","import { render } from \"./Task.vue?vue&type=template&id=37063cd0&scoped=true\"\nimport script from \"./Task.vue?vue&type=script&lang=js\"\nexport * from \"./Task.vue?vue&type=script&lang=js\"\n\nimport \"./Task.vue?vue&type=style&index=0&id=37063cd0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37063cd0\"]])\n\nexport default __exports__","<template>\n  <div class=\"calendar-container\">\n    <!-- Header -->\n    <div class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"header-title\"></div>\n        <div class=\"view-toggle\">\n          <button \n            class=\"toggle-btn\" \n            :class=\"{ active: currentView === 'week' }\"\n            @click=\"switchView('week')\"\n          >\n            \n          </button>\n          <button \n            class=\"toggle-btn\" \n            :class=\"{ active: currentView === 'month' }\"\n            @click=\"switchView('month')\"\n          >\n            \n          </button>\n        </div>\n      </div>\n      \n      <!-- Week Navigation -->\n      <div class=\"week-nav\">\n        <button class=\"nav-btn\" @click=\"previousPeriod\">\n          <font-awesome-icon icon=\"chevron-left\" />\n        </button>\n        <div class=\"week-range\">{{ periodLabel }}</div>\n        <button class=\"nav-btn\" @click=\"nextPeriod\">\n          <font-awesome-icon icon=\"chevron-right\" />\n        </button>\n      </div>\n      \n      <!-- Week Dates -->\n      <div v-if=\"currentView === 'week'\" class=\"week-dates\">\n        <CalendarCell\n          v-for=\"date in weekDates\"\n          :key=\"date.getTime()\"\n          :date=\"date\"\n          :is-selected=\"isSelectedDate(date)\"\n          :task-count=\"getTaskCount(date)\"\n          :show-week-day=\"true\"\n          @select=\"selectDate\"\n        />\n      </div>\n    </div>\n    \n    <!-- Content -->\n    <div v-if=\"currentView === 'week'\" class=\"content\">\n      <div v-for=\"daySection in daySections\" :key=\"daySection.date\" class=\"day-section\">\n        <div class=\"day-header\">\n          <div class=\"day-title\">{{ daySection.title }}</div>\n          <div class=\"day-date\">{{ daySection.dateText }}</div>\n        </div>\n        \n        <div class=\"task-list\">\n          <TaskItem\n            v-for=\"task in daySection.tasks\"\n            :key=\"task.id\"\n            :task=\"task\"\n            @click=\"openPomodoro\"\n            @toggle=\"toggleTask\"\n          />\n        </div>\n      </div>\n    </div>\n    \n    <!-- Month View -->\n    <div v-else class=\"month-view\">\n      <div class=\"month-grid\">\n        <CalendarCell\n          v-for=\"date in monthDates\"\n          :key=\"date.getTime()\"\n          :date=\"date\"\n          :is-selected=\"isSelectedDate(date)\"\n          :is-other-month=\"!isCurrentMonth(date)\"\n          :task-count=\"getTaskCount(date)\"\n          @select=\"selectDate\"\n        />\n      </div>\n      <!-- Month Selected Day Content -->\n      <div class=\"month-content\">\n        <div v-for=\"daySection in daySections\" :key=\"daySection.date\" class=\"day-section\">\n          <div class=\"day-header\">\n            <div class=\"day-title\">{{ daySection.title }}</div>\n            <div class=\"day-date\">{{ daySection.dateText }}</div>\n          </div>\n          <div class=\"task-list\">\n            <TaskItem\n              v-for=\"task in daySection.tasks\"\n              :key=\"task.id\"\n              :task=\"task\"\n              @click=\"openPomodoro\"\n              @toggle=\"toggleTask\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Task Button -->\n    <button class=\"add-task-btn\" @click=\"openAddTask\">\n      <font-awesome-icon icon=\"plus\" />\n    </button>\n    \n    <!-- Tab Bar -->\n    <TabBar />\n  </div>\n</template>\n\n<script>\nimport CalendarCell from '../components/calendar/CalendarCell.vue'\nimport TaskItem from '../components/common/TaskItem.vue'\nimport TabBar from '../components/common/TabBar.vue'\nimport api from '../api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'CalendarView',\n  components: {\n    CalendarCell,\n    TaskItem,\n    TabBar\n  },\n  data() {\n    return {\n      currentView: 'week',\n      selectedDate: new Date(),\n      currentDate: new Date(),\n      weekDays: ['', '', '', '', '', '', ''],\n      tasks: [],\n      loading: false,\n      error: null\n    }\n  },\n  created() {\n    this.fetchTasks()\n  },\n  activated() {\n    this.fetchTasks()\n  },\n  computed: {\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      return user?._id || user?.id || null\n    },\n    periodLabel() {\n      if (this.currentView === 'week') {\n        const startOfWeek = this.getStartOfWeek(this.currentDate)\n        const endOfWeek = new Date(startOfWeek.getTime() + 6 * 24 * 60 * 60 * 1000)\n        return `${this.formatDate(startOfWeek)} - ${this.formatDate(endOfWeek)}`\n      } else {\n        return `${this.currentDate.getFullYear()}${this.currentDate.getMonth() + 1}`\n      }\n    },\n    weekDates() {\n      const startOfWeek = this.getStartOfWeek(this.currentDate)\n      const dates = []\n      for (let i = 0; i < 7; i++) {\n        const date = new Date(startOfWeek.getTime() + i * 24 * 60 * 60 * 1000)\n        dates.push(date)\n      }\n      return dates\n    },\n    monthDates() {\n      const startOfMonth = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1)\n  \n      \n      // Get start of week for first day of month\n      const startDate = this.getStartOfWeek(startOfMonth)\n      \n      // Get end date (6 weeks worth of days)\n      const dates = []\n      for (let i = 0; i < 42; i++) {\n        const date = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000)\n        dates.push(date)\n      }\n      return dates\n    },\n    daySections() {\n      const d = this.selectedDate\n      return [\n        {\n          date: d.toDateString(),\n          title: '',\n          dateText: this.formatDateText(d),\n          tasks: this.getTasksForDate(d)\n        }\n      ]\n    }\n  },\n  watch: {\n    currentView() {\n      this.fetchTasks()\n    },\n    currentDate() {\n      // /\n      this.fetchTasks()\n    },\n    selectedDate() {\n      if (this.currentView === 'week') {\n        // \n        this.fetchTasks()\n      }\n    }\n  },\n  methods: {\n    async fetchTasks() {\n      this.loading = true\n      this.error = null\n      try {\n        const userId = this.currentUserId\n        if (!userId) {\n          this.error = ''\n          this.loading = false\n          return\n        }\n        // \n        if (this.currentView === 'week') {\n          const dates = this.weekDates\n          this.tasks = await this.fetchTasksForDates(userId, dates)\n        } else {\n          const dates = this.getMonthDays(this.currentDate)\n          this.tasks = await this.fetchTasksForDates(userId, dates)\n        }\n      } catch (err) {\n        console.error('[Calendar] ', err)\n        this.error = ''\n      } finally {\n        this.loading = false\n      }\n    },\n    async fetchTasksForDates(userId, dateObjs) {\n      const uniqueDays = Array.from(new Set(dateObjs.map(d => this.formatYmd(d))))\n      const requests = uniqueDays.map(dateStr => api.tasks.getAllTasks({ userId, date: dateStr }).then(res => ({ res, dateStr })).catch(() => ({ res: null, dateStr })))\n      const results = await Promise.all(requests)\n      const merged = []\n      const seen = new Set()\n      results.forEach(({ res, dateStr }) => {\n        let list = []\n        if (res && res.success && Array.isArray(res.data)) list = res.data\n        else if (res && res.data && Array.isArray(res.data.data)) list = res.data.data\n        else if (Array.isArray(res)) list = res\n        list.map(raw => this.normalizeTask(raw)).forEach(t => {\n          if (!t) return\n          if (!t.date) t.date = this.parseToLocalDate(dateStr)\n          const key = `${t.id}`\n          if (!seen.has(key)) {\n            seen.add(key)\n            merged.push(t)\n          } else {\n            // \n            const idx = merged.findIndex(x => `${x.id}` === key)\n            if (idx >= 0 && !merged[idx].date) merged[idx].date = this.parseToLocalDate(dateStr)\n          }\n        })\n      })\n      return merged\n    },\n    getMonthDays(anchor) {\n      const y = anchor.getFullYear()\n      const m = anchor.getMonth()\n      const daysInMonth = new Date(y, m + 1, 0).getDate()\n      const arr = []\n      for (let i = 1; i <= daysInMonth; i++) {\n        arr.push(new Date(y, m, i))\n      }\n      return arr\n    },\n    formatYmd(d) {\n      const y = d.getFullYear()\n      const m = String(d.getMonth() + 1).padStart(2, '0')\n      const day = String(d.getDate()).padStart(2, '0')\n      return `${y}-${m}-${day}`\n    },\n    normalizeTask(raw) {\n      if (!raw) return null\n      const id = raw._id || raw.id\n      const title = raw.title || raw.name || ''\n      const completed = !!raw.completed\n      const priority = raw.priority || 'medium'\n      //  time  \"HH:MM - HH:MM+1h\"\n      let timeDisplay = ''\n      if (typeof raw.time === 'string' && raw.time.trim()) {\n        timeDisplay = raw.time\n      } else if (raw.startTime && raw.endTime) {\n        // /\n        timeDisplay = `${this.formatTime(raw.startTime)} - ${this.formatTime(raw.endTime)}`\n      }\n      //  raw.date raw.startTime raw.createdAt\n      let dateObj = null\n      if (raw.date) {\n        dateObj = this.parseToLocalDate(raw.date)\n      } else if (raw.startTime) {\n        dateObj = this.parseToLocalDate(raw.startTime)\n      } else if (raw.createdAt) {\n        dateObj = this.parseToLocalDate(raw.createdAt)\n      }\n      if (!id || !title) return null\n      return {\n        id,\n        title,\n        time: timeDisplay,\n        date: dateObj,\n        priority,\n        completed\n      }\n    },\n    parseToLocalDate(input) {\n      if (!input) return null\n      if (input instanceof Date) return input\n      //  'YYYY-MM-DD'  ISO \n      try {\n        if (typeof input === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(input)) {\n          const [y, m, d] = input.split('-').map(n => parseInt(n, 10))\n          return new Date(y, m - 1, d)\n        }\n        const d = new Date(input)\n        return isNaN(d.getTime()) ? null : d\n      } catch (e) {\n        return null\n      }\n    },\n    formatTime(input) {\n      const d = new Date(input)\n      if (isNaN(d.getTime())) return ''\n      const hh = String(d.getHours()).padStart(2, '0')\n      const mm = String(d.getMinutes()).padStart(2, '0')\n      return `${hh}:${mm}`\n    },\n    switchView(view) {\n      this.currentView = view\n    },\n    previousPeriod() {\n      if (this.currentView === 'week') {\n        this.currentDate = new Date(this.currentDate.getTime() - 7 * 24 * 60 * 60 * 1000)\n      } else {\n        this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1, 1)\n      }\n    },\n    nextPeriod() {\n      if (this.currentView === 'week') {\n        this.currentDate = new Date(this.currentDate.getTime() + 7 * 24 * 60 * 60 * 1000)\n      } else {\n        this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 1)\n      }\n    },\n    getStartOfWeek(date) {\n      const d = new Date(date)\n      const day = d.getDay()\n      const diff = d.getDate() - day + (day === 0 ? -6 : 1) // Adjust for Monday start\n      return new Date(d.setDate(diff))\n    },\n    formatDate(date) {\n      return `${date.getMonth() + 1}${date.getDate()}`\n    },\n    formatDateText(date) {\n      const weekDayNames = ['', '', '', '', '', '', '']\n      return `${date.getMonth() + 1}${date.getDate()} ${weekDayNames[date.getDay()]}`\n    },\n    isSelectedDate(date) {\n      return date.toDateString() === this.selectedDate.toDateString()\n    },\n    isCurrentMonth(date) {\n      return date.getMonth() === this.currentDate.getMonth()\n    },\n    selectDate(date) {\n      this.selectedDate = date\n      if (this.currentView === 'week') {\n        this.currentDate = date\n      }\n    },\n    getTaskCount(date) {\n      return this.tasks.filter(task => task && task.date && task.date.toDateString() === date.toDateString()).length\n    },\n    getTasksForDate(date) {\n      return this.tasks.filter(task => task && task.date && task.date.toDateString() === date.toDateString())\n    },\n    async toggleTask(task) {\n      const prev = task.completed\n      task.completed = !task.completed\n      try {\n        await api.tasks.toggleTaskStatus(task.id)\n        // \n        if (task.completed) {\n          playRandomVoice('encourage')\n        } else {\n          // \n          // playRandomVoice('criticize')\n        }\n      } catch (e) {\n        task.completed = prev\n      }\n    },\n    openPomodoro(task) {\n      const query = { task: task.title, from: '/calendar' }\n      if (task.id) query.taskId = task.id\n      this.$router.push({ path: '/pomodoro', query })\n    },\n    openAddTask() {\n      // Navigate to AI Secretary for adding tasks\n      this.$router.push('/ai-secretary')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.calendar-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: #f2f2f7;\n}\n\n.header {\n  background: #fff;\n  padding: 20px 30px;\n  border-bottom: 0.5px solid #e5e5ea;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.header-title {\n  font-size: 28px;\n  font-weight: 700;\n  color: #1d1d1f;\n}\n\n.view-toggle {\n  display: flex;\n  gap: 8px;\n  background: #f2f2f7;\n  border-radius: 20px;\n  padding: 4px;\n}\n\n.toggle-btn {\n  padding: 8px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 16px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #8e8e93;\n}\n\n.toggle-btn.active {\n  background: #007aff;\n  color: white;\n}\n\n.week-nav {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.nav-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  background: #f2f2f7;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #007aff;\n}\n\n.nav-btn:hover {\n  background: #e5e5ea;\n}\n\n.week-range {\n  font-size: 16px;\n  font-weight: 600;\n  color: #1d1d1f;\n}\n\n.week-dates {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 8px;\n  text-align: center;\n}\n\n.content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px 30px 100px;\n}\n\n.day-section {\n  background: white;\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.day-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #f2f2f7;\n}\n\n.day-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1d1d1f;\n}\n\n.day-date {\n  font-size: 14px;\n  color: #8e8e93;\n}\n\n.task-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.month-view {\n  flex: 1;\n  padding: 20px 30px 100px;\n  overflow-y: auto;\n}\n\n.month-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 8px;\n  background: white;\n  border-radius: 16px;\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.month-content {\n  margin-top: 20px;\n}\n\n.add-task-btn {\n  position: fixed;\n  bottom: 100px;\n  right: 30px;\n  width: 56px;\n  height: 56px;\n  border-radius: 28px;\n  background: #007aff;\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);\n  transition: all 0.2s;\n  z-index: 100;\n}\n\n.add-task-btn:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 16px rgba(0, 122, 255, 0.4);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 16px 20px;\n  }\n  \n  .header-title {\n    font-size: 24px;\n  }\n  \n  .content {\n    padding: 16px 20px 100px;\n  }\n  \n  .month-view {\n    padding: 16px 20px 100px;\n    overflow-y: auto;\n  }\n  \n  .day-section {\n    padding: 16px;\n  }\n  \n  .week-nav {\n    padding: 0 10px;\n  }\n}\n</style>","<template>\n  <div \n    class=\"date-cell\" \n    :class=\"{\n      today: isToday,\n      selected: isSelected,\n      'other-month': isOtherMonth\n    }\"\n    @click=\"$emit('select', date)\"\n  >\n    <div v-if=\"showWeekDay\" class=\"week-day-name\">{{ weekDayName }}</div>\n    <div class=\"date-number\">{{ date.getDate() }}</div>\n    <div \n      v-if=\"hasMultipleTasks\" \n      class=\"task-indicator multiple\"\n    ></div>\n    <div \n      v-else-if=\"hasTasks\" \n      class=\"task-indicator\"\n    ></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CalendarCell',\n  props: {\n    date: {\n      type: Date,\n      required: true\n    },\n    isSelected: {\n      type: Boolean,\n      default: false\n    },\n    isOtherMonth: {\n      type: Boolean,\n      default: false\n    },\n    taskCount: {\n      type: Number,\n      default: 0\n    },\n    showWeekDay: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['select'],\n  computed: {\n    isToday() {\n      const today = new Date()\n      return this.date.toDateString() === today.toDateString()\n    },\n    hasTasks() {\n      return this.taskCount > 0\n    },\n    hasMultipleTasks() {\n      return this.taskCount > 2\n    },\n    weekDayName() {\n      const names = ['', '', '', '', '', '', '']\n      return names[this.date.getDay()]\n    }\n  }\n}\n</script>\n\n<style scoped>\n.date-cell {\n  width: 100%;\n  height: auto;\n  cursor: pointer;\n  transition: background-color 0.2s, color 0.2s, box-shadow 0.2s;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.week-day-name {\n  font-size: 12px;\n  color: #8e8e93;\n  line-height: 16px;\n  margin-bottom: 4px;\n}\n\n/*  */\n.date-number {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  font-size: 15px;\n  font-weight: 500;\n  color: #333;\n}\n\n.date-cell:not(.selected):hover .date-number {\n  background: #e6f0ff;\n}\n\n/*  */\n.date-cell.selected .date-number {\n  background: #007aff;\n  color: #fff;\n}\n\n/*  */\n.date-cell.today:not(.selected) .date-number {\n  box-shadow: inset 0 0 0 2px #007aff;\n  background: transparent;\n}\n\n/*  */\n.date-cell.other-month .date-number {\n  color: #bbb;\n}\n\n/*  */\n.task-indicator {\n  position: absolute;\n  bottom: 3px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 4px;\n  height: 4px;\n  border-radius: 2px;\n  background: #ff3b30;\n}\n\n.task-indicator.multiple {\n  width: 12px;\n  background: linear-gradient(90deg, #ff3b30 0%, #ff9500 50%, #34c759 100%);\n}\n\n@media (max-width: 430px) {\n  .date-number {\n    width: 36px;\n    height: 36px;\n    font-size: 14px;\n  }\n}\n</style>","import { render } from \"./CalendarCell.vue?vue&type=template&id=4c307306&scoped=true\"\nimport script from \"./CalendarCell.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarCell.vue?vue&type=script&lang=js\"\n\nimport \"./CalendarCell.vue?vue&type=style&index=0&id=4c307306&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c307306\"]])\n\nexport default __exports__","import { render } from \"./Calendar.vue?vue&type=template&id=7edf2a92&scoped=true\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js\"\n\nimport \"./Calendar.vue?vue&type=style&index=0&id=7edf2a92&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7edf2a92\"]])\n\nexport default __exports__","<template>\n  <div class=\"ai-secretary-container\">\n    <AIHeader \n      :assistant=\"assistant\" \n      @openSettings=\"openSettingsModal\" \n    />\n    \n    <!--  -->\n    <div v-if=\"connectionStatus === 'connecting'\" class=\"connection-status connecting\">\n      <font-awesome-icon icon=\"spinner\" spin />\n      <span>{{ connectionStatusText }}</span>\n    </div>\n    \n    <!--  -->\n    <div v-if=\"showError\" class=\"error-banner\" @click=\"reconnect\">\n      <font-awesome-icon icon=\"exclamation-circle\" />\n      <span>{{ errorMessage }}</span>\n      <small></small>\n    </div>\n    \n    <div class=\"chat-container\">\n      <MessageCard \n        v-for=\"message in messages\" \n        :key=\"message.id\"\n        :message=\"message\"\n      />\n      \n      <!-- Typing indicator -->\n      <div v-if=\"isProcessing\" class=\"message ai-message\">\n        <div class=\"avatar\">\n          <font-awesome-icon icon=\"robot\" />\n        </div>\n        <div class=\"message-content\">\n          <div class=\"typing-indicator\">\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Quick Actions -->\n    <div class=\"quick-actions\">\n      <button \n        v-for=\"action in quickActions\"\n        :key=\"action.id\"\n        class=\"quick-action-btn\"\n        @click=\"sendQuickMessage(action.text)\"\n      >\n        <font-awesome-icon :icon=\"action.icon\" />\n        <span>{{ action.label }}</span>\n      </button>\n    </div>\n    \n    <MessageInput @sendMessage=\"sendMessage\" @sendVoiceMessage=\"sendVoiceMessage\" @aiReply=\"handleAIReply\" />\n    \n    <!-- AI -->\n    <AssistantSettingsModal\n      :visible=\"showSettingsModal\"\n      :assistant=\"assistant\"\n      @close=\"closeSettingsModal\"\n      @save=\"saveAssistantSettings\"\n    />\n\n    <!--  -->\n    <VoiceRecognitionStatus\n      :show=\"showVoiceStatus\"\n      :type=\"voiceStatusType\"\n      :title=\"voiceStatusTitle\"\n      :message=\"voiceStatusMessage\"\n      :progress=\"voiceStatusProgress\"\n      :auto-close=\"voiceStatusAutoClose\"\n      @close=\"hideVoiceStatus\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport AIHeader from '../components/AIsecretary/Header.vue'\nimport MessageCard from '../components/AIsecretary/MessageCard.vue'\nimport MessageInput from '../components/AIsecretary/MessageInput.vue'\nimport AssistantSettingsModal from '../components/AIsecretary/AssistantSettingsModal.vue'\nimport VoiceRecognitionStatus from '../components/AIsecretary/VoiceRecognitionStatus.vue'\n\n// AI\nimport messageService from '../AIsiri/services/messageService.js'\nimport aisiriService from '../AIsiri/services/aiApi.js'\nimport aiAssistantService from '../AIsiri/services/aiAssistantService.js'\nimport speechRecognitionService from '../AIsiri/services/speechRecognitionService.js'\nimport { QUICK_ACTIONS } from '../AIsiri/types/index.js'\nimport { log } from '../AIsiri/utils/logger.js'\n\nexport default {\n  name: 'AiSecretary',\n  components: {\n    AIHeader,\n    MessageCard,\n    MessageInput,\n    AssistantSettingsModal,\n    VoiceRecognitionStatus\n  },\n  data() {\n    return {\n      isTyping: false,\n      messages: [],\n      quickActions: QUICK_ACTIONS,\n      messageService: messageService,\n      // \n      connectionStatus: 'connecting', // connecting, connected, error\n      // \n      errorMessage: null,\n      // AI\n      assistant: null,\n      showSettingsModal: false,\n      // \n      showVoiceStatus: false,\n      voiceStatusType: 'processing',\n      voiceStatusTitle: '',\n      voiceStatusMessage: '',\n      voiceStatusProgress: 0,\n      voiceStatusAutoClose: 3000\n    }\n  },\n  methods: {\n    /**\n     * \n     */\n    async sendMessage(message) {\n      // \n      if (typeof message === 'string') {\n        // \n        if (!message || !message.trim()) {\n          log.warn('')\n          return\n        }\n\n        try {\n          log.user('', { message: message })\n          \n          // \n          this.isTyping = true\n          \n          //  - \n          await this.messageService.processUserInput(message.trim())\n          \n          // \n          this.updateMessages()\n          \n          // \n          await this.increaseHeartValue()\n          \n        } catch (error) {\n          log.error('', error)\n          this.handleError('')\n        } finally {\n          this.isTyping = false\n          this.$nextTick(() => {\n            this.scrollToBottom()\n          })\n        }\n      } else if (message && message.type === 'image') {\n        // \n        try {\n          log.user('', { \n            fileName: message.fileName, \n            fileSize: message.fileSize,\n            imageUrl: message.imageUrl \n          })\n          \n          // \n          await this.messageService.addUserMessage(` ${message.fileName} (${this.formatFileSize(message.fileSize)})`, 'IMAGE', { imageUrl: message.imageUrl })\n          \n          // \n          this.updateMessages()\n          \n          // \n          this.$nextTick(() => {\n            this.scrollToBottom()\n          })\n          \n        } catch (error) {\n          log.error('', error)\n          this.handleError('')\n        }\n      } else {\n        log.warn('')\n        return\n      }\n    },\n\n    /**\n     * \n     */\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    },\n\n    /**\n     * \n     */\n    async sendVoiceMessage(voiceData) {\n      try {\n        log.user('', { \n          duration: voiceData.duration,\n          transcription: voiceData.transcription \n        })\n        \n        // AI\n        if (voiceData.transcription) {\n          // \n          this.isTyping = true;\n          \n          // \n          await this.messageService.processVoiceInput(voiceData);\n          \n          // \n          this.updateMessages();\n          \n          // \n          await this.increaseHeartValue();\n        }\n        \n      } catch (error) {\n        log.error('', error);\n        this.handleError('');\n      } finally {\n        this.isTyping = false;\n        this.$nextTick(() => {\n          this.scrollToBottom();\n        });\n      }\n    },\n\n\n\n    /**\n     * \n     */\n    async sendQuickMessage(text) {\n      log.user('', { message: text })\n      await this.sendMessage(text)\n    },\n\n    /**\n     * \n     */\n    updateMessages() {\n      this.messages = this.messageService.getMessages()\n      log.debug('', { messageCount: this.messages.length })\n    },\n\n    /**\n     * \n     */\n    handleError(message) {\n      this.errorMessage = message\n      this.connectionStatus = 'error'\n      \n      // 3\n      setTimeout(() => {\n        this.errorMessage = null\n        this.connectionStatus = 'connected'\n      }, 3000)\n    },\n\n    /**\n     * \n     */\n    async checkConnection() {\n      try {\n        log.api('AIsiri')\n        this.connectionStatus = 'connecting'\n        \n        const response = await aisiriService.healthCheck()\n        \n        if (response.success) {\n          this.connectionStatus = 'connected'\n          log.success('AIsiri')\n        } else {\n          throw new Error('')\n        }\n        \n      } catch (error) {\n        log.error('', error)\n        this.connectionStatus = 'error'\n        this.errorMessage = 'AIsiri'\n      }\n    },\n\n    /**\n     * \n     */\n    async reconnect() {\n      log.info('AIsiri')\n      await this.checkConnection()\n    },\n\n    /**\n     * \n     */\n    clearMessages() {\n      log.user('')\n      this.messageService.clearMessages()\n      this.updateMessages()\n    },\n\n    /**\n     * \n     */\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const chatContainer = document.querySelector('.chat-container')\n        if (chatContainer) {\n          chatContainer.scrollTop = chatContainer.scrollHeight\n        }\n      })\n    },\n\n    /**\n     * \n     */\n    exportChatHistory() {\n      const history = this.messageService.exportMessages()\n      log.table(history, '')\n      \n      // JSON\n      const blob = new Blob([JSON.stringify(history, null, 2)], { type: 'application/json' })\n      const url = URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `aisiri_chat_history_${new Date().toISOString().slice(0, 10)}.json`\n      a.click()\n      URL.revokeObjectURL(url)\n    },\n\n    /**\n     * \n     */\n    async increaseHeartValue() {\n      try {\n        await aiAssistantService.increaseHeartValue()\n        log.info('')\n      } catch (error) {\n        log.error(':', error)\n        // \n      }\n    },\n\n    /**\n     * \n     */\n    openSettingsModal() {\n      this.showSettingsModal = true\n    },\n\n    /**\n     * \n     */\n    closeSettingsModal() {\n      this.showSettingsModal = false\n    },\n\n    /**\n     * AI\n     */\n    async saveAssistantSettings(newName) {\n      try {\n        await aiAssistantService.updateAssistantName(newName)\n        log.success('AI:', newName)\n        // \n        this.$toast?.success?.(`AI\"${newName}\"`) || \n        console.log(`AI\"${newName}\"`)\n      } catch (error) {\n        log.error('AI:', error)\n        // \n        this.$toast?.error?.(error.message || '') || \n        console.error(':', error.message)\n        throw error\n      }\n    },\n\n    /**\n     * AI\n     */\n    async initializeAIAssistant() {\n      try {\n        // AI\n        aiAssistantService.addListener(this.updateAssistantFromService)\n        \n        // AI\n        await aiAssistantService.initialize()\n        this.assistant = aiAssistantService.getCurrentAssistant()\n        \n        log.success('AI:', this.assistant)\n      } catch (error) {\n        log.error('AI:', error)\n        // \n        this.assistant = {\n          id: 'default',\n          name: 'AI',\n          heartValue: 0,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString()\n        }\n      }\n    },\n\n    /**\n     * AI\n     */\n    updateAssistantFromService(assistant) {\n      this.assistant = assistant\n      log.debug('AI:', assistant)\n    },\n\n    /**\n     * \n     */\n    showVoiceStatusBar(type, title, message, progress = 0, autoClose = 3000) {\n      this.voiceStatusType = type\n      this.voiceStatusTitle = title\n      this.voiceStatusMessage = message\n      this.voiceStatusProgress = progress\n      this.voiceStatusAutoClose = autoClose\n      this.showVoiceStatus = true\n      \n      log.info('', { type, title, message, progress })\n    },\n\n    /**\n     * \n     */\n    hideVoiceStatus() {\n      this.showVoiceStatus = false\n      log.info('')\n    },\n\n    /**\n     * \n     */\n    updateVoiceStatusProgress(progress) {\n      this.voiceStatusProgress = progress\n    },\n\n    /**\n     * AI\n     */\n    async handleAIReply(replyContent) {\n      try {\n        log.info('AI', { content: replyContent })\n        \n        // AI\n        await this.messageService.addAIReply(replyContent)\n        \n        // \n        this.updateMessages()\n        \n        // \n        this.$nextTick(() => {\n          this.scrollToBottom()\n        })\n        \n        log.success('AI')\n        \n      } catch (error) {\n        log.error('AI', error)\n        this.handleError('AI')\n      }\n    },\n\n    /**\n     * \n     */\n    setupVoiceRecognitionListener() {\n      // \n      const checkStatus = () => {\n        const isProcessing = speechRecognitionService.getProcessingStatus()\n        \n        if (isProcessing && !this.showVoiceStatus) {\n          this.showVoiceStatusBar(\n            'processing',\n            '',\n            '...',\n            0\n          )\n        } else if (!isProcessing && this.showVoiceStatus && this.voiceStatusType === 'processing') {\n          this.hideVoiceStatus()\n        }\n      }\n      \n      // \n      this.voiceStatusInterval = setInterval(checkStatus, 500)\n    }\n  },\n  async mounted() {\n    log.info('AIsiri')\n    \n    try {\n      // 1. AI\n      await this.initializeAIAssistant()\n      \n      // 2. \n      this.updateMessages()\n      \n      // 3. \n      await this.checkConnection()\n      \n      // 4. \n      this.setupVoiceRecognitionListener()\n      \n      // 5. \n      this.scrollToBottom()\n      \n      log.success('AIsiri')\n      \n    } catch (error) {\n      log.error('', error)\n      this.handleError('')\n    }\n  },\n  \n  beforeUnmount() {\n    log.info('AIsiri')\n    // AI\n    aiAssistantService.removeListener(this.updateAssistantFromService)\n    \n    // \n    if (this.voiceStatusInterval) {\n      clearInterval(this.voiceStatusInterval)\n    }\n  },\n  \n  watch: {\n    // \n    messages: {\n      handler() {\n        this.$nextTick(() => {\n          this.scrollToBottom()\n        })\n      },\n      deep: true\n    },\n    \n    // \n    connectionStatus(newStatus) {\n      log.info(`: ${newStatus}`)\n    }\n  },\n  \n  computed: {\n    // \n    isProcessing() {\n      return this.messageService.isCurrentlyProcessing() || this.isTyping\n    },\n    \n    // \n    connectionStatusText() {\n      const statusMap = {\n        connecting: '...',\n        connected: '',\n        error: ''\n      }\n      return statusMap[this.connectionStatus] || ''\n    },\n    \n    // \n    showError() {\n      return this.connectionStatus === 'error' && this.errorMessage\n    }\n  }\n}\n</script>\n\n<style scoped>\n:root {\n    --primary-bg: #f7f7f7;\n    --chat-bg: #f7f7f7;\n    --white: #ffffff;\n    --text-primary: #000000;\n    --text-secondary: #666666;\n    --text-time: #999999;\n    --blue: #007aff;\n    --green: #07c160;\n    --border: #e5e5e5;\n    --shadow: 0 1px 3px rgba(0,0,0,0.1);\n    --shadow-up: 0 -1px 3px rgba(0,0,0,0.1);\n}\n\n.ai-secretary-container {\n  height: 100vh;\n  background: var(--primary-bg);\n  display: flex;\n  flex-direction: column;\n}\n\n.chat-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  padding-bottom: 160px; /* Adjust for input and quick actions */\n}\n\n.message {\n  display: flex;\n  margin-bottom: 16px;\n  animation: fadeIn 0.3s ease-in;\n}\n\n.ai-message {\n  justify-content: flex-start;\n}\n\n.user-message {\n  justify-content: flex-end;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  margin-right: 12px;\n  flex-shrink: 0;\n}\n\n.user-avatar {\n  background: linear-gradient(135deg, #34c759 0%, #30d158 100%);\n  margin-right: 0;\n  margin-left: 12px;\n}\n\n.message-content {\n  max-width: 80%;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 12px 16px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.user-message .message-content {\n  background: rgba(0, 122, 255, 0.9);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(0, 122, 255, 0.3);\n  color: white;\n}\n\n.message-text {\n  font-size: 16px;\n  line-height: 1.4;\n  word-wrap: break-word;\n}\n\n.typing-indicator {\n  display: flex;\n  gap: 4px;\n}\n\n.typing-indicator span {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #8e8e93;\n  animation: typing 1.4s infinite ease-in-out;\n}\n\n.typing-indicator span:nth-child(1) { animation-delay: -0.32s; }\n.typing-indicator span:nth-child(2) { animation-delay: -0.16s; }\n\n.quick-actions {\n  position: fixed;\n  bottom: 85px;\n  left: 16px;\n  display: flex;\n  gap: 12px;\n  overflow-x: auto;\n  background: transparent;\n  max-width: calc(100% - 32px);\n  padding: 8px 0;\n  /*  */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n  scroll-behavior: smooth;\n}\n\n.quick-actions::-webkit-scrollbar {\n  display: none; /* Chrome, Safari, Edge */\n}\n\n.quick-action-btn {\n  pointer-events: all;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border: none;\n  border-radius: 20px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  min-width: 88px;\n  height: 76px;\n  flex-shrink: 0;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.quick-action-btn:hover {\n  transform: translateY(-4px) scale(1.02);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n  background: rgba(255, 255, 255, 1);\n}\n\n.quick-action-btn:active {\n  transform: translateY(-1px) scale(0.98);\n}\n\n.quick-action-btn > svg {\n  font-size: 22px;\n  color: #4a90e2;\n  margin-bottom: 2px;\n  transition: color 0.2s ease;\n}\n\n.quick-action-btn:hover > svg {\n  color: #007aff;\n}\n\n.quick-action-btn span {\n  font-size: 12px;\n  font-weight: 600;\n  color: #1d1d1f;\n  text-align: center;\n  line-height: 1.2;\n  white-space: nowrap;\n}\n\n\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes typing {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n\n/*  */\n.connection-status {\n  padding: 8px 16px;\n  background: #f8f9fa;\n  border-bottom: 1px solid #e9ecef;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: #6c757d;\n}\n\n.connection-status.connecting {\n  background: #e3f2fd;\n  color: #1976d2;\n}\n\n.connection-status svg {\n  font-size: 16px;\n}\n\n/*  */\n.error-banner {\n  padding: 12px 16px;\n  background: #ffebee;\n  border-bottom: 1px solid #ffcdd2;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.error-banner:hover {\n  background: #ffcdd2;\n}\n\n.error-banner svg {\n  color: #d32f2f;\n  font-size: 16px;\n}\n\n.error-banner span {\n  flex: 1;\n  color: #d32f2f;\n  font-weight: 500;\n}\n\n.error-banner small {\n  color: #757575;\n  font-size: 12px;\n}\n\n@media (max-width: 430px) {\n  .chat-container {\n    padding: 16px;\n    padding-bottom: 160px;\n  }\n  \n  .message-content {\n    max-width: 85%;\n  }\n  \n  .quick-actions {\n    bottom: 80px; /* Adjust for smaller screens */\n    left: 12px;\n    max-width: calc(100% - 24px);\n    gap: 10px;\n  }\n  \n\n  \n  .quick-action-btn {\n    min-width: 80px;\n    height: 72px;\n    padding: 10px 12px;\n    border-radius: 16px;\n  }\n  \n  .quick-action-btn > svg {\n    font-size: 20px;\n  }\n  \n  .quick-action-btn span {\n    font-size: 11px;\n    font-weight: 500;\n  }\n}\n</style>","<template>\r\n  <header class=\"header\">\r\n    <div class=\"back-btn\" @click=\"goBack\">\r\n      <font-awesome-icon icon=\"chevron-left\" />\r\n    </div>\r\n    \r\n    <div class=\"title-section\">\r\n      <h1 class=\"title\">{{ assistantName }}</h1>\r\n      <div class=\"heart-value\" v-if=\"assistant\">\r\n        <font-awesome-icon icon=\"heart\" class=\"heart-icon\" />\r\n        <span class=\"heart-number\">{{ assistant.heartValue }}</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"settings-btn\" @click=\"openSettings\">\r\n      <font-awesome-icon icon=\"cog\" />\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AIHeader',\r\n  props: {\r\n    assistant: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  computed: {\r\n    assistantName() {\r\n      return this.assistant?.name || 'AI'\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      window.history.back()\r\n    },\r\n    \r\n    openSettings() {\r\n      this.$emit('openSettings')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.header {\r\n  background: var(--white);\r\n  padding: 28px 16px 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n  border-bottom: 1px solid var(--border);\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.back-btn, .settings-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--blue);\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.back-btn:hover, .settings-btn:hover {\r\n  background: rgba(0, 122, 255, 0.1);\r\n  border-radius: 6px;\r\n}\r\n\r\n.title-section {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.title {\r\n  font-size: 17px;\r\n  font-weight: 500;\r\n  color: var(--text-primary);\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\n.heart-value {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 8px;\r\n  background: rgba(255, 107, 107, 0.1);\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 107, 107, 0.2);\r\n}\r\n\r\n.heart-icon {\r\n  color: #ff6b6b;\r\n  font-size: 12px;\r\n}\r\n\r\n.heart-number {\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #ff6b6b;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .header {\r\n    padding: 24px 12px 8px;\r\n  }\r\n  \r\n  .title {\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .heart-value {\r\n    padding: 2px 6px;\r\n  }\r\n  \r\n  .heart-icon {\r\n    font-size: 10px;\r\n  }\r\n  \r\n  .heart-number {\r\n    font-size: 10px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=b5ecfaae&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=b5ecfaae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b5ecfaae\"]])\n\nexport default __exports__","<template>\n  <div class=\"message\"\n    :class=\"{ 'user-message': message.isUser, 'ai-message': !message.isUser }\">\n    <div v-if=\"!message.isUser\" class=\"avatar\">\n      <font-awesome-icon icon=\"robot\" />\n    </div>\n    <div class=\"message-content\">\n      <!--  -->\n      <div v-if=\"isTextMessage\" class=\"message-text\">{{ message.content }}</div>\n      \n      <!--  -->\n      <div v-else-if=\"isImageMessage\" class=\"image-message\">\n        <img :src=\"extractImageUrl(message.content)\" :alt=\"''\" class=\"message-image\" />\n      </div>\n      \n      <!--  -->\n      <div v-else-if=\"isVoiceMessage\" class=\"voice-message\">\n        <div class=\"voice-content\">\n          <div class=\"voice-icon\">\n            <font-awesome-icon icon=\"play\" />\n          </div>\n          <div class=\"voice-duration\">{{ formatDuration(message.duration || 0) }}</div>\n        </div>\n        <!--  -->\n      </div>\n      \n      <!--  -->\n      <div v-else-if=\"isQuestionsMessage\" class=\"questions-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div class=\"questions-list\">\n          <div \n            v-for=\"(question, index) in message.metadata.questions\"\n            :key=\"index\"\n            class=\"question-item\"\n          >\n            <span class=\"question-number\">{{ index + 1 }}</span>\n            <span class=\"question-text\">{{ question }}</span>\n          </div>\n        </div>\n        <div class=\"questions-tip\">\n          <font-awesome-icon icon=\"lightbulb\" />\n          <span></span>\n        </div>\n      </div>\n      \n      <!--  -->\n      <div v-else-if=\"isTaskCreatedMessage\" class=\"task-created-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div v-if=\"message.metadata.task\" class=\"task-info\">\n          <div class=\"task-title\">\n            <font-awesome-icon icon=\"check-circle\" />\n            <span>{{ message.metadata.task.title }}</span>\n          </div>\n          <div class=\"task-details\">\n            <div class=\"task-detail\">\n              <span class=\"label\"></span>\n              <span class=\"value priority\" :class=\"message.metadata.task.priority\">\n                {{ getPriorityText(message.metadata.task.priority) }}\n              </span>\n            </div>\n            <div class=\"task-detail\">\n              <span class=\"label\"></span>\n              <span class=\"value\">{{ getTimeBlockText(message.metadata.task.timeBlock) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!--  -->\n      <div v-else-if=\"isPlanMessage\" class=\"plan-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div v-if=\"message.metadata.plan\" class=\"plan-info\">\n          <div class=\"plan-overview\">{{ message.metadata.plan.plan_overview }}</div>\n          <div class=\"plan-summary\" v-if=\"message.metadata.summary\">\n            <div class=\"summary-item\">\n              <font-awesome-icon icon=\"folder\" />\n              <span>{{ message.metadata.summary.collections_count }}</span>\n            </div>\n            <div class=\"summary-item\">\n              <font-awesome-icon icon=\"tasks\" />\n              <span>{{ message.metadata.summary.tasks_count }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!--  -->\n      <div v-else-if=\"isDynamicAdjustmentMessage\" class=\"dynamic-adjustment-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div v-if=\"message.metadata.adjustmentSummary\" class=\"adjustment-summary\">\n          <div class=\"adjustment-header\">\n            <font-awesome-icon icon=\"magic\" />\n            <span></span>\n          </div>\n          <div class=\"adjustment-stats\">\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.modified_tasks > 0\">\n              <font-awesome-icon icon=\"edit\" />\n              <span> {{ message.metadata.adjustmentSummary.modified_tasks }} </span>\n            </div>\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.postponed_tasks > 0\">\n              <font-awesome-icon icon=\"clock\" />\n              <span> {{ message.metadata.adjustmentSummary.postponed_tasks }} </span>\n            </div>\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.new_tasks > 0\">\n              <font-awesome-icon icon=\"plus-circle\" />\n              <span> {{ message.metadata.adjustmentSummary.new_tasks }} </span>\n            </div>\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.cancelled_tasks > 0\">\n              <font-awesome-icon icon=\"times-circle\" />\n              <span> {{ message.metadata.adjustmentSummary.cancelled_tasks }} </span>\n            </div>\n          </div>\n          <div v-if=\"message.metadata.userState\" class=\"user-state-info\">\n            <div class=\"state-indicator\">\n              <span class=\"state-label\"></span>\n              <span class=\"state-value\" :class=\"getStateClass(message.metadata.userState.primaryState)\">\n                {{ getStateText(message.metadata.userState.primaryState) }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!--  -->\n      <div v-else-if=\"isErrorMessage\" class=\"error-container\">\n        <div class=\"message-text error-text\">\n          <font-awesome-icon icon=\"exclamation-circle\" />\n          <span>{{ message.content }}</span>\n        </div>\n      </div>\n      \n      <!--  -->\n      <div v-else class=\"message-text\">{{ message.content || message.text }}</div>\n    </div>\n    <div v-if=\"message.isUser\" class=\"avatar user-avatar\">\n      <font-awesome-icon icon=\"user\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { MESSAGE_TYPES, utils } from '../../AIsiri/types/index.js'\n\nexport default {\n  name: 'MessageCard',\n  props: {\n    message: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    // \n    isTextMessage() {\n      return !this.message.type || this.message.type === MESSAGE_TYPES.TEXT\n    },\n    \n    isQuestionsMessage() {\n      return this.message.type === MESSAGE_TYPES.QUESTIONS\n    },\n    \n    isTaskCreatedMessage() {\n      return this.message.type === MESSAGE_TYPES.TASK_CREATED\n    },\n    \n    isPlanMessage() {\n      return this.message.type === MESSAGE_TYPES.PLAN\n    },\n    \n    isErrorMessage() {\n      return this.message.type === MESSAGE_TYPES.ERROR\n    },\n    \n    isDynamicAdjustmentMessage() {\n      return this.message.type === MESSAGE_TYPES.DYNAMIC_ADJUSTMENT\n    },\n    \n    isVoiceMessage() {\n      return this.message.type === MESSAGE_TYPES.VOICE\n    },\n    \n    isImageMessage() {\n      // IMAGE \n      return this.message.type === 'IMAGE' || (this.message.content && this.message.content.startsWith(' '))\n    }\n  },\n  \n  methods: {\n    // \n    getPriorityText(priority) {\n      return utils.getPriorityName(priority)\n    },\n    \n    // \n    getTimeBlockText(timeBlock) {\n      if (!timeBlock) return ''\n      \n      const typeName = utils.getTimeBlockName(timeBlock.timeBlockType)\n      if (timeBlock.startTime && timeBlock.endTime) {\n        return `${typeName} (${timeBlock.startTime}-${timeBlock.endTime})`\n      }\n      return typeName\n    },\n    \n    // \n    getStateText(state) {\n      const stateMap = {\n        tired: '',\n        busy: '',\n        stressed: '',\n        motivated: '',\n        sick: '',\n        normal: ''\n      }\n      return stateMap[state] || state\n    },\n    \n    // \n    getStateClass(state) {\n      return `state-${state}`\n    },\n    \n    // \n    formatDuration(seconds) {\n      if (seconds < 60) {\n        return `${seconds}\"`;\n      } else {\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins}:${secs.toString().padStart(2, '0')}`;\n      }\n    },\n    \n    // URL\n    extractImageUrl(content) {\n      // metadataURL\n      if (this.message.metadata && this.message.metadata.imageUrl) {\n        return this.message.metadata.imageUrl;\n      }\n      \n      // \n      if (content && content.startsWith('[]')) {\n        return content.substring(4); // []URL\n      }\n      \n      return '';\n    }\n  }\n}\n</script>\n\n<style scoped>\n.message {\n  display: flex;\n  margin-bottom: 16px;\n  animation: fadeIn 0.3s ease-in;\n}\n\n.ai-message {\n  justify-content: flex-start;\n}\n\n.user-message {\n  justify-content: flex-end;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  margin-right: 12px;\n  flex-shrink: 0;\n}\n\n.user-avatar {\n  background: linear-gradient(135deg, #34c759 0%, #30d158 100%);\n  margin-right: 0;\n  margin-left: 12px;\n}\n\n.message-content {\n  max-width: 80%;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 12px 16px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.user-message .message-content {\n  background: rgba(0, 122, 255, 0.9);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(0, 122, 255, 0.3);\n  color: white;\n}\n\n.message-text {\n  font-size: 16px;\n  line-height: 1.4;\n  word-wrap: break-word;\n}\n\n/*  */\n.image-message {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.message-image {\n  max-width: 100%;\n  max-height: 300px;\n  border-radius: 8px;\n  object-fit: cover;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.image-caption {\n  font-size: 12px;\n  color: #666;\n  text-align: center;\n  padding: 4px 8px;\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 4px;\n  margin-top: 4px;\n}\n\n/*  */\n.voice-message {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.voice-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 0;\n}\n\n.voice-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.voice-icon:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(1.1);\n}\n\n.voice-icon svg {\n  font-size: 14px;\n}\n\n.voice-duration {\n  font-size: 14px;\n  font-weight: 500;\n  color: rgba(255, 255, 255, 0.9);\n  min-width: 30px;\n}\n\n.voice-transcription {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.8);\n  line-height: 1.3;\n  padding: 8px 12px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  margin-top: 4px;\n}\n\n/*  */\n.questions-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.questions-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.question-item {\n  display: flex;\n  gap: 8px;\n  padding: 8px 12px;\n  background: rgba(0, 122, 255, 0.05);\n  border-radius: 8px;\n  border-left: 3px solid #007aff;\n}\n\n.question-number {\n  font-weight: 600;\n  color: #007aff;\n  min-width: 20px;\n}\n\n.question-text {\n  flex: 1;\n  line-height: 1.4;\n}\n\n.questions-tip {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background: rgba(255, 193, 7, 0.1);\n  border-radius: 8px;\n  font-size: 14px;\n  color: #856404;\n}\n\n.questions-tip svg {\n  color: #ffc107;\n}\n\n/*  */\n.task-created-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.task-info {\n  background: rgba(40, 167, 69, 0.05);\n  border-radius: 8px;\n  padding: 12px;\n  border-left: 3px solid #28a745;\n}\n\n.task-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.task-title svg {\n  color: #28a745;\n}\n\n.task-details {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.task-detail {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n}\n\n.task-detail .label {\n  color: #6c757d;\n  min-width: 70px;\n}\n\n.task-detail .value {\n  font-weight: 500;\n}\n\n.priority.high {\n  color: #dc3545;\n}\n\n.priority.medium {\n  color: #ffc107;\n}\n\n.priority.low {\n  color: #28a745;\n}\n\n/*  */\n.plan-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.plan-info {\n  background: rgba(23, 162, 184, 0.05);\n  border-radius: 8px;\n  padding: 12px;\n  border-left: 3px solid #17a2b8;\n}\n\n.plan-overview {\n  font-size: 14px;\n  color: #495057;\n  margin-bottom: 8px;\n  line-height: 1.4;\n}\n\n.plan-summary {\n  display: flex;\n  gap: 16px;\n}\n\n.summary-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #17a2b8;\n}\n\n.summary-item svg {\n  font-size: 16px;\n}\n\n/*  */\n.error-container {\n  background: rgba(220, 53, 69, 0.05);\n  border-radius: 8px;\n  padding: 12px;\n  border-left: 3px solid #dc3545;\n}\n\n.error-text {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #721c24;\n}\n\n.error-text svg {\n  color: #dc3545;\n  font-size: 16px;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>","/**\n * AIsiri AI\n */\n\n/**\n * \n */\nexport const QUICK_ACTIONS = [\n  {\n    id: 'create-task',\n    label: '',\n    text: '',\n    icon: 'plus'\n  },\n  {\n    id: 'schedule-planning',\n    label: '',\n    text: '',\n    icon: 'calendar'\n  },\n  {\n    id: 'goal-planning',\n    label: '',\n    text: '',\n    icon: 'bullseye'\n  },\n  {\n    id: 'habit-formation',\n    label: '',\n    text: '',\n    icon: 'sync'\n  },\n  {\n    id: 'emotional-support',\n    label: '',\n    text: '',\n    icon: 'heart'\n  }\n]\n\n/**\n * \n */\nexport const MESSAGE_TYPES = {\n  TEXT: 'text',                    // \n  VOICE: 'voice',                  // \n  TASK_CREATED: 'task_created',    // \n  SCHEDULE_ADJUSTED: 'schedule_adjusted', // \n  EMOTIONAL_SUPPORT: 'emotional_support', // \n  ERROR: 'error',                  // \n  TYPING: 'typing'                 // \n}\n\n/**\n * \n */\nexport const SENDERS = {\n  USER: 'user',\n  AI: 'ai',\n  SYSTEM: 'system'\n}\n\n/**\n * \n */\nexport const DISPATCH_RESPONSE_TYPES = {\n  TASK_CREATION: 'TASK_CREATION',\n  SCHEDULE_PLANNING: 'SCHEDULE_PLANNING',\n  CONVERSATION: 'CONVERSATION',\n  EMOTIONAL_SUPPORT: 'EMOTIONAL_SUPPORT',\n  EXTERNAL_TOOL: 'EXTERNAL_TOOL'\n}\n\n/**\n * \n */\nexport const SERVICE_STATUS = {\n  PENDING: 'pending',\n  EXECUTING: 'executing',\n  COMPLETED: 'completed',\n  FAILED: 'failed'\n}\n\n/**\n * \n */\nexport const DEVICE_PLATFORMS = {\n  WEB: 'web',\n  MOBILE: 'mobile',\n  DESKTOP: 'desktop'\n}\n\n/**\n * \n */\nexport const CLASSIFICATION_TYPES = {\n  SIMPLE_TODO: 'simple_todo',\n  GOAL_PLANNING: 'goal_planning',\n  HABIT_FORMATION: 'habit_formation'\n}\n\n/**\n * \n */\nexport const TIME_BLOCKS = {\n  MORNING: 'morning',      // 06:00-09:00\n  FORENOON: 'forenoon',    // 09:00-12:00\n  AFTERNOON: 'afternoon',  // 12:00-18:00\n  EVENING: 'evening',      // 18:00-23:00\n  UNSCHEDULED: 'unscheduled'\n}\n\n/**\n * \n */\nexport const PRIORITIES = {\n  LOW: 'low',\n  MEDIUM: 'medium',\n  HIGH: 'high'\n}\n\n/**\n * \n */\nexport const QUADRANTS = {\n  URGENT_IMPORTANT: 1,      // \n  IMPORTANT: 2,             // \n  URGENT: 3,                // \n  NEITHER: 4                // \n}\n\n/**\n * API\n */\nexport const API_STATUS = {\n  SUCCESS: 'success',\n  ERROR: 'error',\n  LOADING: 'loading',\n  IDLE: 'idle'\n}\n\n/**\n * \n */\nexport const SUGGESTIONS = [\n  {\n    id: 1,\n    icon: 'clock',\n    title: '',\n    description: '',\n    action: ''\n  },\n  {\n    id: 2,\n    icon: 'brain',\n    title: '',\n    description: '',\n    action: ''\n  },\n  {\n    id: 3,\n    icon: 'heart',\n    title: '',\n    description: '',\n    action: ''\n  },\n  {\n    id: 4,\n    icon: 'chart-line',\n    title: '',\n    description: '',\n    action: ''\n  }\n]\n\n/**\n * \n */\nexport class Message {\n  constructor({\n    id,\n    content,\n    sender = SENDERS.AI,\n    type = MESSAGE_TYPES.TEXT,\n    timestamp = new Date(),\n    metadata = {}\n  }) {\n    this.id = id\n    this.content = content\n    this.sender = sender\n    this.type = type\n    this.timestamp = timestamp\n    this.metadata = metadata\n    this.isUser = sender === SENDERS.USER\n  }\n}\n\n/**\n * API\n */\nexport class AIResponse {\n  constructor({\n    success = false,\n    type = null,\n    result = null,\n    error = null,\n    timestamp = new Date()\n  }) {\n    this.success = success\n    this.type = type\n    this.result = result\n    this.error = error\n    this.timestamp = timestamp\n  }\n}\n\n/**\n * \n */\nexport class Task {\n  constructor({\n    id,\n    title,\n    description = '',\n    priority = PRIORITIES.MEDIUM,\n    quadrant = QUADRANTS.IMPORTANT,\n    timeBlock = {},\n    completed = false,\n    dueDate = null,\n    tags = [],\n    userId,\n    collectionId\n  }) {\n    this.id = id\n    this.title = title\n    this.description = description\n    this.priority = priority\n    this.quadrant = quadrant\n    this.timeBlock = {\n      timeBlockType: TIME_BLOCKS.UNSCHEDULED,\n      startTime: '',\n      endTime: '',\n      ...timeBlock\n    }\n    this.completed = completed\n    this.dueDate = dueDate\n    this.tags = tags\n    this.userId = userId\n    this.collectionId = collectionId\n  }\n}\n\n/**\n * \n */\nexport class Collection {\n  constructor({\n    id,\n    name,\n    description = '',\n    expanded = false,\n    userId,\n    tasks = []\n  }) {\n    this.id = id\n    this.name = name\n    this.description = description\n    this.expanded = expanded\n    this.userId = userId\n    this.tasks = tasks\n  }\n}\n\n// \nexport const utils = {\n  /**\n   * \n   */\n  formatTime(date) {\n    return new Intl.DateTimeFormat('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date)\n  },\n\n  /**\n   * \n   */\n  formatDate(date) {\n    return new Intl.DateTimeFormat('zh-CN', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    }).format(date)\n  },\n\n  /**\n   * \n   */\n  getTimeBlockName(timeBlockType) {\n    const names = {\n      [TIME_BLOCKS.MORNING]: '',\n      [TIME_BLOCKS.FORENOON]: '',\n      [TIME_BLOCKS.AFTERNOON]: '',\n      [TIME_BLOCKS.EVENING]: '',\n      [TIME_BLOCKS.UNSCHEDULED]: ''\n    }\n    return names[timeBlockType] || ''\n  },\n\n  /**\n   * \n   */\n  getPriorityName(priority) {\n    const names = {\n      [PRIORITIES.LOW]: '',\n      [PRIORITIES.MEDIUM]: '',\n      [PRIORITIES.HIGH]: ''\n    }\n    return names[priority] || ''\n  },\n\n  /**\n   * \n   */\n  getQuadrantName(quadrant) {\n    const names = {\n      [QUADRANTS.URGENT_IMPORTANT]: '',\n      [QUADRANTS.IMPORTANT]: '',\n      [QUADRANTS.URGENT]: '',\n      [QUADRANTS.NEITHER]: ''\n    }\n    return names[quadrant] || ''\n  }\n}","import { render } from \"./MessageCard.vue?vue&type=template&id=0922388e&scoped=true\"\nimport script from \"./MessageCard.vue?vue&type=script&lang=js\"\nexport * from \"./MessageCard.vue?vue&type=script&lang=js\"\n\nimport \"./MessageCard.vue?vue&type=style&index=0&id=0922388e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0922388e\"]])\n\nexport default __exports__","<template>\n  <div>\n    <!--  -->\n    <div class=\"input-area\" :class=\"{ 'expanded': showPlusMenu }\">\n      <div class=\"input-container\">\n        <!--  -->\n        <button \n          class=\"voice-btn\" \n          @click=\"toggleVoiceMode\"\n          :class=\"{ 'active': isVoiceMode, 'processing': isProcessing }\"\n          :disabled=\"isProcessing\"\n          :title=\"isVoiceMode ? '' : ''\"\n        >\n          <font-awesome-icon \n            :icon=\"isVoiceMode ? 'keyboard' : 'microphone'\" \n            :class=\"{ 'pulse': isProcessing }\"\n          />\n        </button>\n\n        <!--  -->\n        <input \n          ref=\"fileInput\"\n          type=\"file\" \n          accept=\"audio/*\"\n          style=\"display: none\"\n          @change=\"handleFileSelect\"\n        >\n\n        <!--  -->\n        <input \n          ref=\"imageInput\"\n          type=\"file\" \n          accept=\"image/*\"\n          style=\"display: none\"\n          @change=\"handleImageSelect\"\n        >\n\n        <!--  -->\n        <div class=\"dynamic-input-area\">\n          <!--  -->\n          <input \n            v-if=\"!isVoiceMode\"\n            v-model=\"inputText\"\n            type=\"text\" \n            placeholder=\"...\"\n            class=\"message-input\"\n            @keypress.enter=\"sendMessage\"\n            :disabled=\"isProcessing\"\n          />\n          \n          <!--  -->\n          <div \n            v-else\n            class=\"voice-input-area\"\n            @touchstart=\"startVoiceInput\"\n            @touchend=\"endVoiceInput\"\n            @touchmove=\"handleTouchMove\"\n            @mousedown=\"startVoiceInput\"\n            @mouseup=\"endVoiceInput\"\n            @mouseleave=\"cancelVoiceInput\"\n            :class=\"{ 'listening': isListening }\"\n          >\n            <font-awesome-icon icon=\"microphone\" class=\"voice-area-icon\" />\n            <span class=\"voice-placeholder\">{{ getVoicePlaceholderText() }}</span>\n          </div>\n        </div>\n\n        <!--  -->\n        <button \n          class=\"send-btn\"\n          @click=\"sendMessage\"\n          :disabled=\"!inputText.trim() || isProcessing\"\n        >\n          <font-awesome-icon icon=\"paper-plane\" />\n        </button>\n\n        <!--  -->\n        <button \n          class=\"plus-btn\"\n          @click=\"togglePlusMenu\"\n          :disabled=\"isProcessing\"\n          :class=\"{ 'active': showPlusMenu }\"\n          title=\"\"\n        >\n          <font-awesome-icon icon=\"plus\" />\n        </button>\n      </div>\n\n      <!--  -->\n      <div v-if=\"isProcessing\" class=\"recognition-status\">\n        <div class=\"status-content\">\n          <font-awesome-icon icon=\"spinner\" spin />\n          <span>{{ recognitionStatusText }}</span>\n        </div>\n      </div>\n\n      <!--  -->\n      <div v-if=\"recognitionResult && !isProcessing\" class=\"recognition-preview\">\n        <div class=\"preview-header\">\n          <font-awesome-icon icon=\"microphone\" />\n          <span></span>\n          <button class=\"preview-close\" @click=\"clearRecognitionResult\">\n            <font-awesome-icon icon=\"times\" />\n          </button>\n        </div>\n        <div class=\"preview-content\">\n          <p class=\"preview-text\">{{ recognitionResult.transcription }}</p>\n          <div class=\"preview-actions\">\n            <button class=\"preview-btn preview-btn-edit\" @click=\"editRecognitionResult\">\n              <font-awesome-icon icon=\"edit\" />\n              \n            </button>\n            <button class=\"preview-btn preview-btn-send\" @click=\"sendRecognitionResult\">\n              <font-awesome-icon icon=\"paper-plane\" />\n              \n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!--  -  -->\n    <div v-if=\"showPlusMenu\" class=\"function-panel\">\n      <div class=\"function-buttons\">\n        <div class=\"function-button\" @click=\"openPhotoLibrary\">\n          <div class=\"button-icon\">\n            <font-awesome-icon icon=\"images\" />\n          </div>\n          <span class=\"button-text\"></span>\n        </div>\n        <div class=\"function-button\" @click=\"openCamera\">\n          <div class=\"button-icon\">\n            <font-awesome-icon icon=\"camera\" />\n          </div>\n          <span class=\"button-text\"></span>\n        </div>\n      </div>\n    </div>\n\n    <!--  -->\n    <ImageAnalysisModal\n      :visible=\"showImageAnalysisModal\"\n      :preSelectedFile=\"selectedFile\"\n      @close=\"closeImageAnalysisModal\"\n      @analysisComplete=\"handleImageAnalysisComplete\"\n      @showToast=\"showToast\"\n    />\n  </div>\n</template>\n\n<script>\nimport speechRecognitionService from '../../AIsiri/services/speechRecognitionService.js'\nimport { log } from '../../AIsiri/utils/logger.js'\nimport ImageAnalysisModal from './ImageAnalysisModal.vue'\n\nexport default {\n  name: 'MessageInput',\n  components: {\n    ImageAnalysisModal\n  },\n  data() {\n    return {\n      inputText: '',\n      isListening: false,\n      isProcessing: false,\n      recognitionResult: null,\n      recognitionStatusText: '...',\n      selectedFile: null,\n      showImageAnalysisModal: false,\n      // \n      mediaRecorder: null,\n      audioChunks: [],\n      recordingTime: 0,\n      recordingTimer: null,\n      stream: null,\n      // \n      touchStartY: 0,\n      touchStartTime: 0,\n      shouldCancel: false,\n      // \n      isVoiceMode: false,\n      // \n      showPlusMenu: false\n    }\n  },\n  mounted() {\n    // \n    document.addEventListener('click', this.handleGlobalClick);\n  },\n  beforeUnmount() {\n    // \n    document.removeEventListener('click', this.handleGlobalClick);\n    // \n    if (this.isProcessing) {\n      speechRecognitionService.resetProcessingStatus();\n    }\n    // \n    if (this.stream) {\n      this.stream.getTracks().forEach(track => track.stop());\n    }\n    // \n    this.stopRecordingTimer();\n  },\n  methods: {\n    /**\n     * \n     */\n    sendMessage() {\n      if (!this.inputText.trim() || this.isProcessing) return;\n      \n      log.user('', { message: this.inputText })\n      this.$emit('sendMessage', this.inputText);\n      this.inputText = '';\n    },\n\n    /**\n     * /\n     */\n    toggleVoiceMode() {\n      if (this.isProcessing) return;\n      \n      this.isVoiceMode = !this.isVoiceMode;\n      \n      if (this.isVoiceMode) {\n        // \n        this.showToast('', 'info');\n        // \n        this.$nextTick(() => {\n          const voiceArea = this.$el.querySelector('.voice-input-area');\n          if (voiceArea) voiceArea.focus();\n        });\n      } else {\n        // \n        this.showToast('', 'info');\n        // \n        this.$nextTick(() => {\n          const textInput = this.$el.querySelector('.message-input');\n          if (textInput) textInput.focus();\n        });\n      }\n    },\n\n    /**\n     * \n     */\n    async startVoiceInput(event) {\n      if (this.isProcessing || !this.isVoiceMode) return;\n      \n      // \n      if (event.type === 'touchstart') {\n        this.touchStartY = event.touches[0].clientY;\n        this.touchStartTime = Date.now();\n      } else {\n        this.touchStartY = event.clientY;\n        this.touchStartTime = Date.now();\n      }\n      \n      this.shouldCancel = false;\n      \n      await this.startRecording();\n    },\n\n    /**\n     * \n     */\n    endVoiceInput() {\n      if (!this.isListening) return;\n      \n      // \n      if (this.shouldCancel) {\n        this.cancelRecording();\n      } else {\n        this.stopVoiceInput();\n      }\n    },\n\n    /**\n     * \n     */\n    handleTouchMove(event) {\n      if (!this.isListening) return;\n      \n      const currentY = event.touches[0].clientY;\n      const deltaY = this.touchStartY - currentY;\n      \n      // 50px\n      if (deltaY > 50) {\n        this.shouldCancel = true;\n      } else {\n        this.shouldCancel = false;\n      }\n    },\n\n    /**\n     * \n     */\n    cancelVoiceInput() {\n      if (this.isListening) {\n        this.cancelRecording();\n      }\n    },\n\n    /**\n     * \n     */\n    async startRecording() {\n      try {\n        log.info('')\n        \n        // \n        this.stream = await navigator.mediaDevices.getUserMedia({ \n          audio: {\n            echoCancellation: true,\n            noiseSuppression: true,\n            sampleRate: 44100\n          } \n        });\n        \n        // MediaRecorder - \n        let mimeType = 'audio/wav';\n        \n        // \n        if (MediaRecorder.isTypeSupported('audio/wav')) {\n          mimeType = 'audio/wav';\n        } else if (MediaRecorder.isTypeSupported('audio/mp4')) {\n          mimeType = 'audio/mp4';\n        } else if (MediaRecorder.isTypeSupported('audio/webm;codecs=opus')) {\n          mimeType = 'audio/webm;codecs=opus';\n        } else if (MediaRecorder.isTypeSupported('audio/webm')) {\n          mimeType = 'audio/webm';\n        }\n        \n        this.mediaRecorder = new MediaRecorder(this.stream, {\n          mimeType: mimeType\n        });\n        \n        // \n        this.audioChunks = [];\n        this.recordingTime = 0;\n        \n        // \n        this.mediaRecorder.start();\n        this.isListening = true;\n        \n        // \n        this.startRecordingTimer();\n        \n        // \n        this.mediaRecorder.ondataavailable = (event) => {\n          if (event.data.size > 0) {\n            this.audioChunks.push(event.data);\n          }\n        };\n        \n        // \n        this.mediaRecorder.onstop = () => {\n          this.handleRecordingComplete();\n        };\n        \n        log.success('')\n        \n      } catch (error) {\n        log.error('', error);\n        this.showToast('', 'error');\n        \n        // \n        this.fallbackToFileInput();\n      }\n    },\n\n    /**\n     * \n     */\n    stopVoiceInput() {\n      if (this.mediaRecorder && this.isListening) {\n        log.info('')\n        this.mediaRecorder.stop();\n        this.isListening = false;\n        this.stopRecordingTimer();\n        \n        // \n        if (this.stream) {\n          this.stream.getTracks().forEach(track => track.stop());\n          this.stream = null;\n        }\n      }\n    },\n\n    /**\n     * \n     */\n    cancelRecording() {\n      if (this.mediaRecorder && this.isListening) {\n        log.info('')\n        this.mediaRecorder.stop();\n        this.isListening = false;\n        this.stopRecordingTimer();\n        \n        // \n        if (this.stream) {\n          this.stream.getTracks().forEach(track => track.stop());\n          this.stream = null;\n        }\n        \n        // \n        this.audioChunks = [];\n        this.recordingTime = 0;\n        \n        // \n        this.shouldCancel = false;\n        \n        this.showToast('', 'info');\n      }\n    },\n\n    /**\n     * \n     */\n    startRecordingTimer() {\n      this.recordingTimer = setInterval(() => {\n        this.recordingTime++;\n      }, 1000);\n    },\n\n    /**\n     * \n     */\n    stopRecordingTimer() {\n      if (this.recordingTimer) {\n        clearInterval(this.recordingTimer);\n        this.recordingTimer = null;\n      }\n    },\n\n\n\n    /**\n     * \n     */\n    async handleRecordingComplete() {\n      try {\n        if (this.audioChunks.length === 0) {\n          this.showToast('', 'error');\n          return;\n        }\n\n        // Blob\n        const audioBlob = new Blob(this.audioChunks, { type: this.mediaRecorder.mimeType });\n        \n        // \n        const convertedAudioFile = await this.convertAudioFormat(audioBlob);\n        \n        log.info('', { \n          fileName: convertedAudioFile.name, \n          fileSize: convertedAudioFile.size,\n          duration: this.recordingTime,\n          originalType: this.mediaRecorder.mimeType,\n          convertedType: convertedAudioFile.type\n        });\n\n        // \n        if (this.isVoiceMode) {\n          await this.sendVoiceMessage(convertedAudioFile);\n        } else {\n          await this.processAudioFile(convertedAudioFile);\n        }\n        \n      } catch (error) {\n        log.error('', error);\n        this.showToast(`: ${error.message}`, 'error');\n      } finally {\n        // \n        this.audioChunks = [];\n        this.recordingTime = 0;\n        this.mediaRecorder = null;\n      }\n    },\n\n    /**\n     * \n     */\n    async convertAudioFormat(audioBlob) {\n      try {\n        // \n        const supportedTypes = ['audio/wav', 'audio/mpeg', 'audio/mp4', 'audio/aac', 'audio/flac'];\n        if (supportedTypes.includes(audioBlob.type)) {\n          return new File([audioBlob], `recording_${Date.now()}.wav`, { type: audioBlob.type });\n        }\n\n        // \n        const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        const arrayBuffer = await audioBlob.arrayBuffer();\n        const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n        \n        // WAV\n        const wavBlob = this.audioBufferToWav(audioBuffer);\n        \n        // File\n        const wavFile = new File([wavBlob], `recording_${Date.now()}.wav`, { \n          type: 'audio/wav' \n        });\n        \n        log.info('', { \n          originalType: audioBlob.type, \n          convertedType: 'audio/wav',\n          originalSize: audioBlob.size,\n          convertedSize: wavFile.size\n        });\n        \n        return wavFile;\n        \n      } catch (error) {\n        log.error('', error);\n        // \n        this.showToast('', 'warning');\n        return new File([audioBlob], `recording_${Date.now()}.wav`, { type: 'audio/wav' });\n      }\n    },\n\n    /**\n     * AudioBufferWAV\n     */\n    audioBufferToWav(buffer) {\n      const length = buffer.length;\n      const numberOfChannels = buffer.numberOfChannels;\n      const sampleRate = buffer.sampleRate;\n      const arrayBuffer = new ArrayBuffer(44 + length * numberOfChannels * 2);\n      const view = new DataView(arrayBuffer);\n      \n      // WAV\n      const writeString = (offset, string) => {\n        for (let i = 0; i < string.length; i++) {\n          view.setUint8(offset + i, string.charCodeAt(i));\n        }\n      };\n      \n      writeString(0, 'RIFF');\n      view.setUint32(4, 36 + length * numberOfChannels * 2, true);\n      writeString(8, 'WAVE');\n      writeString(12, 'fmt ');\n      view.setUint32(16, 16, true);\n      view.setUint16(20, 1, true);\n      view.setUint16(22, numberOfChannels, true);\n      view.setUint32(24, sampleRate, true);\n      view.setUint32(28, sampleRate * numberOfChannels * 2, true);\n      view.setUint16(32, numberOfChannels * 2, true);\n      view.setUint16(34, 16, true);\n      writeString(36, 'data');\n      view.setUint32(40, length * numberOfChannels * 2, true);\n      \n      // \n      let offset = 44;\n      for (let i = 0; i < length; i++) {\n        for (let channel = 0; channel < numberOfChannels; channel++) {\n          const sample = Math.max(-1, Math.min(1, buffer.getChannelData(channel)[i]));\n          view.setInt16(offset, sample < 0 ? sample * 0x8000 : sample * 0x7FFF, true);\n          offset += 2;\n        }\n      }\n      \n      return new Blob([arrayBuffer], { type: 'audio/wav' });\n    },\n\n    /**\n     * \n     */\n    async sendVoiceMessage(audioFile) {\n      try {\n        this.isProcessing = true;\n        this.recognitionStatusText = '...';\n        \n        log.info('', { fileName: audioFile.name, fileSize: audioFile.size });\n\n        // \n        const validation = speechRecognitionService.validateAudioFile(audioFile);\n        if (!validation.isValid) {\n          throw new Error(validation.errors.join(', '));\n        }\n\n        // \n        this.recognitionStatusText = '...';\n        const result = await speechRecognitionService.recognizeVoice(audioFile);\n        \n        if (result.success) {\n          // \n          this.$emit('sendVoiceMessage', {\n            type: 'voice',\n            audioFile: audioFile,\n            transcription: result.transcription,\n            audioUrl: result.audioUrl,\n            duration: this.recordingTime\n          });\n          \n          log.success('', { transcription: result.transcription });\n          this.showToast('', 'success');\n        } else {\n          throw new Error('');\n        }\n      } catch (error) {\n        log.error('', error);\n        this.recognitionStatusText = '';\n        this.showToast(`: ${error.message}`, 'error');\n      } finally {\n        this.isProcessing = false;\n        this.isListening = false;\n        this.selectedFile = null;\n        \n        // \n        if (this.$refs.fileInput) {\n          this.$refs.fileInput.value = '';\n        }\n      }\n    },\n\n    /**\n     * \n     */\n    async processAudioFile(audioFile) {\n      try {\n        this.isProcessing = true;\n        this.recognitionStatusText = '...';\n        \n        log.info('', { fileName: audioFile.name, fileSize: audioFile.size });\n\n        // \n        const validation = speechRecognitionService.validateAudioFile(audioFile);\n        if (!validation.isValid) {\n          throw new Error(validation.errors.join(', '));\n        }\n\n        // \n        this.recognitionStatusText = '...';\n        const result = await speechRecognitionService.recognizeVoice(audioFile);\n        \n        if (result.success) {\n          this.recognitionResult = result;\n          this.recognitionStatusText = '';\n          log.success('', { transcription: result.transcription });\n          \n          // \n          this.inputText = result.transcription;\n          \n          // \n          this.showToast('', 'success');\n        } else {\n          throw new Error('');\n        }\n      } catch (error) {\n        log.error('', error);\n        this.recognitionStatusText = '';\n        this.showToast(`: ${error.message}`, 'error');\n      } finally {\n        this.isProcessing = false;\n        this.isListening = false;\n        this.selectedFile = null;\n        \n        // \n        if (this.$refs.fileInput) {\n          this.$refs.fileInput.value = '';\n        }\n      }\n    },\n\n    /**\n     * \n     */\n    fallbackToFileInput() {\n      log.info('')\n      this.$refs.fileInput.click();\n    },\n\n    /**\n     * \n     */\n    async handleFileSelect(event) {\n      const file = event.target.files[0];\n      if (!file) {\n        this.stopVoiceInput();\n        return;\n      }\n\n      try {\n        this.selectedFile = file;\n        await this.processAudioFile(file);\n      } catch (error) {\n        log.error('', error);\n        this.showToast(`: ${error.message}`, 'error');\n      }\n    },\n\n    /**\n     * \n     */\n    editRecognitionResult() {\n      if (this.recognitionResult) {\n        this.inputText = this.recognitionResult.transcription;\n        this.clearRecognitionResult();\n        // \n        this.$nextTick(() => {\n          const input = this.$el.querySelector('.message-input');\n          if (input) input.focus();\n        });\n      }\n    },\n\n    /**\n     * \n     */\n    sendRecognitionResult() {\n      if (this.recognitionResult) {\n        this.inputText = this.recognitionResult.transcription;\n        this.sendMessage();\n        this.clearRecognitionResult();\n      }\n    },\n\n    /**\n     * \n     */\n    clearRecognitionResult() {\n      this.recognitionResult = null;\n    },\n\n    /**\n     * \n     */\n    getVoiceButtonIcon() {\n      if (this.isProcessing) {\n        return 'spinner';\n      } else if (this.isListening) {\n        return 'microphone-slash';\n      } else {\n        return 'microphone';\n      }\n    },\n\n    /**\n     * \n     */\n    getVoiceButtonTitle() {\n      if (this.isProcessing) {\n        return '...';\n      } else if (this.isListening) {\n        return '';\n      } else {\n        return '';\n      }\n    },\n\n    /**\n     * \n     */\n    getVoicePlaceholderText() {\n      if (this.isListening) {\n        return '';\n      } else {\n        return '';\n      }\n    },\n\n    /**\n     * \n     */\n    showToast(message, type = 'info') {\n      // toastconsole\n      if (this.$toast) {\n        this.$toast[type]?.(message) || this.$toast(message);\n      } else {\n        console.log(`[${type.toUpperCase()}] ${message}`);\n      }\n    },\n\n    /**\n     * \n     */\n    handleGlobalClick(event) {\n      // \n      if (event.target.closest('.plus-btn')) {\n        return;\n      }\n      // \n      if (event.target.closest('.function-panel')) {\n        return;\n      }\n      // \n      if (this.showPlusMenu) {\n        this.showPlusMenu = false;\n      }\n    },\n\n    /**\n     * \n     */\n    togglePlusMenu() {\n      this.showPlusMenu = !this.showPlusMenu;\n      log.info('', { show: this.showPlusMenu });\n    },\n\n    /**\n     * \n     */\n    openPhotoLibrary() {\n      this.showPlusMenu = false;\n      this.$refs.imageInput.click();\n      log.info('');\n    },\n\n    /**\n     * \n     */\n    openCamera() {\n      this.showPlusMenu = false;\n      // \n      const cameraInput = document.createElement('input');\n      cameraInput.type = 'file';\n      cameraInput.accept = 'image/*';\n      cameraInput.capture = 'camera';\n      cameraInput.style.display = 'none';\n      \n      cameraInput.onchange = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n          this.handleImageSelect({ target: { files: [file] } });\n        }\n        // \n        document.body.removeChild(cameraInput);\n      };\n      \n      document.body.appendChild(cameraInput);\n      cameraInput.click();\n      log.info('');\n    },\n\n    /**\n     * \n     */\n    async handleImageSelect(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n      \n      log.info('', { fileName: file.name, fileSize: file.size, fileType: file.type });\n      \n      // \n      if (!file.type.startsWith('image/')) {\n        this.showToast('', 'error');\n        return;\n      }\n      \n      try {\n        this.isProcessing = true;\n        this.recognitionStatusText = '...';\n        \n        // OSSURL\n        const imageUrl = await this.uploadImageToOSS(file);\n        \n        // URL\n        this.recognitionStatusText = '...';\n        const analysis = await this.analyzeImageByURL(imageUrl, '');\n        \n        if (analysis && analysis.content) {\n          // AI\n          \n          // 1. \n          const userImageMessage = {\n            type: 'image',\n            fileName: file.name,\n            fileSize: file.size,\n            imageUrl: imageUrl\n          };\n          this.$emit('sendMessage', userImageMessage);\n          \n          // 2. AI\n          this.$emit('aiReply', analysis.content);\n          \n          this.showToast('', 'success');\n          \n          // \n          log.info('AI', { \n            fileName: file.name,\n            imageUrl: imageUrl,\n            analysisContent: analysis.content\n          });\n        } else {\n          throw new Error('');\n        }\n        \n      } catch (error) {\n        log.error('', error);\n        this.showToast(`: ${error.message}`, 'error');\n      } finally {\n        this.isProcessing = false;\n        this.selectedFile = null;\n        \n        // \n        if (this.$refs.imageInput) {\n          this.$refs.imageInput.value = '';\n        }\n      }\n    },\n\n    /**\n     * \n     */\n    openImageAnalysis() {\n      this.showImageAnalysisModal = true;\n      log.info('');\n    },\n\n    /**\n     * \n     */\n    closeImageAnalysisModal() {\n      this.showImageAnalysisModal = false;\n      log.info('');\n    },\n\n    /**\n     * \n     */\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    },\n\n    /**\n     * OSS\n     */\n    async uploadImageToOSS(file) {\n      try {\n        const formData = new FormData();\n        formData.append('image', file);\n        \n        const response = await fetch('/api/image-analysis/upload', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}` // \n          },\n          body: formData\n        });\n        \n        if (!response.ok) {\n          throw new Error('');\n        }\n        \n        const result = await response.json();\n        \n        if (result.success && result.imageUrl) {\n          log.info('', { imageUrl: result.imageUrl });\n          return result.imageUrl;\n        } else {\n          log.error(':', result);\n          throw new Error(result.error || '');\n        }\n      } catch (error) {\n        log.error('', error);\n        throw new Error(`: ${error.message}`);\n      }\n    },\n\n    /**\n     * URL\n     */\n    async analyzeImageByURL(imageUrl, prompt) {\n      try {\n        const response = await fetch('/api/image-analysis/analyze-url', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            imageUrl: imageUrl,\n            prompt: prompt || ''\n          })\n        });\n        \n        if (!response.ok) {\n          throw new Error('');\n        }\n        \n        const result = await response.json();\n        \n        // \n        log.info('API', { \n          success: result.success, \n          hasAnalysis: !!result.analysis,\n          resultKeys: Object.keys(result),\n          result: result\n        });\n        \n        if (result.success && result.analysis) {\n          log.info('', { analysis: result.analysis });\n          return result.analysis;\n        } else if (result.success && result.praise && result.praise.content) {\n          // result.praise.content\n          log.info('praise', { praise: result.praise });\n          return { content: result.praise.content };\n        } else if (result.success && result.content) {\n          // result.contentresult.analysis\n          log.info('content', { content: result.content });\n          return { content: result.content };\n        } else if (result.success && result.data) {\n          // result.data\n          log.info('data', { data: result.data });\n          return result.data;\n        } else {\n          log.error('', { result });\n          throw new Error(result.error || '');\n        }\n      } catch (error) {\n        log.error('', error);\n        throw new Error(`: ${error.message}`);\n      }\n    },\n\n    /**\n     * \n     */\n    handleImageAnalysisComplete(result) {\n      log.info('', result);\n      \n      // \n      const analysisMessage = ` \\n\\n${result.analysis.content}`;\n      this.$emit('sendMessage', analysisMessage);\n      \n      // \n      this.closeImageAnalysisModal();\n      \n      // \n      this.showToast('', 'success');\n    }\n  }\n}\n</script>\n\n<style scoped>\n.input-area {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n  padding: 8px 16px 8px;\n  z-index: 1000;\n}\n\n.input-container {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.voice-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  border: none;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #667eea;\n  position: relative;\n}\n\n.voice-btn.active {\n  background: #ff9500;\n  color: white;\n}\n\n.voice-btn:hover:not(:disabled) {\n  background: #e5e5ea;\n  transform: scale(1.05);\n}\n\n.voice-btn.listening {\n  background: #ff3b30;\n  color: white;\n  animation: pulse 1.5s infinite;\n}\n\n.voice-btn.processing {\n  background: #007aff;\n  color: white;\n  cursor: not-allowed;\n}\n\n.voice-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.voice-btn .pulse {\n  animation: spin 1s linear infinite;\n}\n\n.message-input {\n  width: 100%;\n  border: none;\n  outline: none;\n  font-size: 16px;\n  padding: 12px;\n  background: transparent;\n  border-radius: 20px;\n  background: #f2f2f7;\n  transition: all 0.2s;\n  box-sizing: border-box;\n}\n\n.message-input:focus {\n  background: #ffffff;\n  box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);\n}\n\n.message-input:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.message-input::placeholder {\n  color: #8e8e93;\n}\n\n/*  */\n.dynamic-input-area {\n  flex: 1;\n  position: relative;\n  min-width: 0; /* flex */\n}\n\n/*  */\n.voice-input-area {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 12px;\n  background: #f2f2f7;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-height: 44px;\n  user-select: none;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.voice-input-area:hover {\n  background: #e5e5ea;\n}\n\n.voice-input-area.listening {\n  background: #ff8e8e;\n  color: white;\n  /*  */\n}\n\n.voice-input-area .voice-area-icon {\n  font-size: 18px;\n  color: #667eea;\n}\n\n.voice-input-area.listening .voice-area-icon {\n  color: white;\n}\n\n.voice-input-area .voice-placeholder {\n  font-size: 16px;\n  color: #8e8e93;\n  font-weight: 500;\n}\n\n.voice-input-area.listening .voice-placeholder {\n  color: white;\n}\n\n.send-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  border: none;\n  background: #007aff;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.send-btn:disabled {\n  background: #e5e5ea;\n  color: #8e8e93;\n  cursor: not-allowed;\n}\n\n.send-btn:not(:disabled):hover {\n  background: #0056d3;\n  transform: scale(1.05);\n}\n\n/*  -  */\n.plus-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  border: none;\n  background: #f2f2f7;\n  color: #8e8e93;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.plus-btn:hover:not(:disabled) {\n  background: #e5e5ea;\n  color: #007aff;\n  transform: scale(1.05);\n}\n\n.plus-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.plus-btn svg {\n  font-size: 16px;\n}\n\n/*  */\n.input-area.expanded {\n  transform: translateY(-120px);\n  transition: transform 0.3s ease-out;\n}\n\n/*  */\n.plus-btn.active {\n  background: #007aff;\n  color: white;\n  transform: rotate(45deg);\n}\n\n/*  -  */\n.function-panel {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #f7f7f7;\n  border-top: 1px solid #d0d0d0;\n  padding: 16px 20px 20px 20px;\n  z-index: 999;\n  animation: slideUp 0.3s ease-out;\n  height: 120px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.function-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 30px;\n  max-width: 300px;\n  margin: 0 auto;\n}\n\n.function-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 100px;\n}\n\n.function-button:hover {\n  transform: scale(1.05);\n}\n\n.button-icon {\n  width: 60px;\n  height: 60px;\n  border-radius: 16px;\n  background: #4285f4;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 19px;\n  box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);\n}\n\n.button-text {\n  font-size: 14px;\n  color: #333;\n  font-weight: 600;\n  text-align: center;\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.menu-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #333;\n  font-size: 14px;\n  font-weight: 500;\n  min-width: 120px;\n}\n\n.menu-item:hover {\n  background: #f2f2f7;\n  transform: scale(1.02);\n}\n\n.menu-item svg {\n  font-size: 16px;\n  color: #007aff;\n  width: 20px;\n  text-align: center;\n}\n\n/*  */\n\n/*  */\n.recognition-status {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background: rgba(0, 122, 255, 0.1);\n  border-top: 1px solid rgba(0, 122, 255, 0.2);\n  padding: 8px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.status-content {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #007aff;\n  font-size: 14px;\n}\n\n.status-content svg {\n  font-size: 16px;\n}\n\n/*  */\n.recognition-preview {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(20px);\n  border-top: 1px solid rgba(0, 122, 255, 0.2);\n  border-radius: 16px 16px 0 0;\n  margin: 0 8px;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.preview-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background: rgba(0, 122, 255, 0.1);\n  border-bottom: 1px solid rgba(0, 122, 255, 0.1);\n  color: #007aff;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.preview-header svg {\n  font-size: 16px;\n}\n\n.preview-close {\n  margin-left: auto;\n  background: none;\n  border: none;\n  color: #007aff;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.preview-close:hover {\n  background: rgba(0, 122, 255, 0.1);\n}\n\n.preview-content {\n  padding: 16px;\n}\n\n.preview-text {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #333;\n  background: #f8f9fa;\n  padding: 12px;\n  border-radius: 8px;\n  border-left: 4px solid #007aff;\n}\n\n.preview-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.preview-btn {\n  flex: 1;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.preview-btn-edit {\n  background: #f2f2f7;\n  color: #666;\n}\n\n.preview-btn-edit:hover {\n  background: #e5e5ea;\n}\n\n.preview-btn-send {\n  background: #007aff;\n  color: white;\n}\n\n.preview-btn-send:hover {\n  background: #0056d3;\n}\n\n/*  */\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/*  */\n@media (max-width: 430px) {\n  .input-area {\n    padding: 8px 12px 8px;\n  }\n  \n  .voice-btn,\n  .send-btn {\n    width: 36px;\n    height: 36px;\n  }\n  \n  .message-input {\n    font-size: 15px;\n    padding: 10px;\n  }\n  \n  .preview-content {\n    padding: 12px;\n  }\n  \n  .preview-text {\n    font-size: 15px;\n    padding: 10px;\n  }\n  \n  .preview-btn {\n    padding: 8px 12px;\n    font-size: 13px;\n  }\n}\n</style>","/**\n * \n * \n */\n\n// \nconst LOG_LEVELS = {\n  DEBUG: 0,\n  INFO: 1,\n  WARN: 2,\n  ERROR: 3\n}\n\n// \nconst CURRENT_LEVEL = process.env.NODE_ENV === 'production' ? LOG_LEVELS.WARN : LOG_LEVELS.DEBUG\n\n// \nconst COLORS = {\n  DEBUG: 'color: #6c757d;',           // \n  INFO: 'color: #007bff;',            //   \n  WARN: 'color: #ffc107;',            // \n  ERROR: 'color: #dc3545;',           // \n  SUCCESS: 'color: #28a745;',         // \n  API: 'color: #17a2b8;',             // \n  USER: 'color: #6f42c1;',            // \n  AI: 'color: #fd7e14;'               // \n}\n\n// \nconst ICONS = {\n  DEBUG: '',\n  INFO: '',\n  WARN: '',\n  ERROR: '',\n  SUCCESS: '',\n  API: '',\n  USER: '',\n  AI: '',\n  TIME: '',\n  DATA: '',\n  PROCESS: ''\n}\n\nclass Logger {\n  constructor(context = 'AI') {\n    this.context = context\n    this.startTime = Date.now()\n    this.sessionId = this.generateSessionId()\n    \n    this.log('INFO', '', { sessionId: this.sessionId })\n  }\n\n  generateSessionId() {\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 6)}`\n  }\n\n  formatTimestamp() {\n    return new Date().toLocaleTimeString('zh-CN', { \n      hour12: false,\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      fractionalSecondDigits: 3\n    })\n  }\n\n  shouldLog(level) {\n    return LOG_LEVELS[level] >= CURRENT_LEVEL\n  }\n\n  log(level, message, data = null) {\n    if (!this.shouldLog(level)) return\n\n    const timestamp = this.formatTimestamp()\n    const icon = ICONS[level] || ''\n    const color = COLORS[level] || ''\n    \n    const prefix = `${icon} [${timestamp}] [${this.context}]`\n    \n    if (data) {\n      console.groupCollapsed(`%c${prefix} ${message}`, color)\n      console.log(':', data)\n      console.groupEnd()\n    } else {\n      console.log(`%c${prefix} ${message}`, color)\n    }\n  }\n\n  debug(message, data = null) {\n    this.log('DEBUG', message, data)\n  }\n\n  info(message, data = null) {\n    this.log('INFO', message, data)\n  }\n\n  warn(message, data = null) {\n    this.log('WARN', message, data)\n  }\n\n  error(message, error = null) {\n    const data = error ? {\n      message: error.message,\n      stack: error.stack,\n      name: error.name\n    } : null\n    this.log('ERROR', message, data)\n  }\n\n  success(message, data = null) {\n    this.log('SUCCESS', message, data)\n  }\n\n  // \n  api(operation, data = null) {\n    this.log('API', `API: ${operation}`, data)\n  }\n\n  user(action, data = null) {\n    this.log('USER', `: ${action}`, data)\n  }\n\n  ai(action, data = null) {\n    this.log('AI', `AI: ${action}`, data)\n  }\n\n  time(operation) {\n    const timestamp = this.formatTimestamp()\n    console.time(`${ICONS.TIME} [${timestamp}] ${operation}`)\n  }\n\n  timeEnd(operation) {\n    const timestamp = this.formatTimestamp()\n    console.timeEnd(`${ICONS.TIME} [${timestamp}] ${operation}`)\n  }\n\n  // \n  group(title, callback) {\n    const timestamp = this.formatTimestamp()\n    console.group(`${ICONS.PROCESS} [${timestamp}] ${title}`)\n    \n    if (typeof callback === 'function') {\n      try {\n        callback()\n      } finally {\n        console.groupEnd()\n      }\n    }\n  }\n\n  groupEnd() {\n    console.groupEnd()\n  }\n\n  // \n  table(data, title = null) {\n    if (title) {\n      this.info(title)\n    }\n    console.table(data)\n  }\n\n  // \n  performance(operation, startTime) {\n    const duration = Date.now() - startTime\n    const level = duration > 1000 ? 'WARN' : duration > 500 ? 'INFO' : 'DEBUG'\n    this.log(level, `: ${operation}  ${duration}ms`)\n  }\n\n  // \n  getStats() {\n    const uptime = Date.now() - this.startTime\n    return {\n      sessionId: this.sessionId,\n      uptime,\n      context: this.context,\n      startTime: new Date(this.startTime).toISOString()\n    }\n  }\n}\n\n// \nconst logger = new Logger('AI')\n\n// \nexport default logger\nexport { Logger }\n\n// \nexport const log = {\n  debug: (msg, data) => logger.debug(msg, data),\n  info: (msg, data) => logger.info(msg, data),\n  warn: (msg, data) => logger.warn(msg, data),\n  error: (msg, error) => logger.error(msg, error),\n  success: (msg, data) => logger.success(msg, data),\n  api: (op, data) => logger.api(op, data),\n  user: (action, data) => logger.user(action, data),\n  ai: (action, data) => logger.ai(action, data),\n  time: (op) => logger.time(op),\n  timeEnd: (op) => logger.timeEnd(op),\n  group: (title, cb) => logger.group(title, cb),\n  table: (data, title) => logger.table(data, title),\n  performance: (op, start) => logger.performance(op, start)\n}","/**\r\n * \r\n * \r\n */\r\n\r\nimport { getSpeechRecognitionApiUrl } from '../../config/api.js'\r\nimport { log } from '../utils/logger.js'\r\n\r\n// API\r\nconst API_ENDPOINTS = {\r\n  RECOGNIZE: '/speech-recognition/recognize',        // \r\n  UPLOAD_ONLY: '/speech-recognition/upload',        // \r\n  RECOGNIZE_URL: '/speech-recognition/recognize-url' // URL\r\n}\r\n\r\n// token\r\nfunction getToken() {\r\n  return localStorage.getItem('token') || localStorage.getItem('userToken') || ''\r\n}\r\n\r\n// ID\r\nfunction getCurrentUserId() {\r\n  try {\r\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\r\n    return user?._id || user?.id || null\r\n  } catch (_) {\r\n    return null\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nclass SpeechRecognitionService {\r\n  constructor() {\r\n    this.userId = getCurrentUserId()\r\n    this.isProcessing = false\r\n    log.info('', { userId: this.userId })\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  checkAuth() {\r\n    const token = getToken()\r\n    if (!token) {\r\n      throw new Error('')\r\n    }\r\n    return token\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {File} audioFile - \r\n   * @returns {Promise<Object>} \r\n   */\r\n  async recognizeVoice(audioFile) {\r\n    try {\r\n      this.isProcessing = true\r\n      log.info('', { fileName: audioFile.name, fileSize: audioFile.size })\r\n\r\n      // \r\n      const allowedTypes = ['audio/mpeg', 'audio/wav', 'audio/mp4', 'audio/aac', 'audio/flac', 'audio/ogg', 'audio/webm']\r\n      if (!allowedTypes.includes(audioFile.type)) {\r\n        throw new Error(' MP3, WAV, M4A, AAC, FLAC, OGG, WEBM ')\r\n      }\r\n\r\n      // 10MB\r\n      if (audioFile.size > 10 * 1024 * 1024) {\r\n        throw new Error('10MB')\r\n      }\r\n\r\n      const token = this.checkAuth()\r\n\r\n      // FormData\r\n      const formData = new FormData()\r\n      formData.append('audio', audioFile)\r\n\r\n      // \r\n      const response = await fetch(getSpeechRecognitionApiUrl(API_ENDPOINTS.RECOGNIZE), {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: formData\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`)\r\n      }\r\n\r\n      const result = await response.json()\r\n      \r\n      if (result.success) {\r\n        log.success('', { \r\n          transcription: result.data.transcription,\r\n          audioUrl: result.data.audioUrl \r\n        })\r\n        return {\r\n          success: true,\r\n          transcription: result.data.transcription,  // \r\n          audioUrl: result.data.audioUrl,           // URL\r\n          ossKey: result.data.ossKey               // OSS\r\n        }\r\n      } else {\r\n        throw new Error(result.error || result.message || '')\r\n      }\r\n    } catch (error) {\r\n      log.error('', error)\r\n      throw error\r\n    } finally {\r\n      this.isProcessing = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {File} audioFile - \r\n   * @returns {Promise<Object>} \r\n   */\r\n  async uploadAudioOnly(audioFile) {\r\n    try {\r\n      this.isProcessing = true\r\n      log.info('', { fileName: audioFile.name, fileSize: audioFile.size })\r\n\r\n      const token = this.checkAuth()\r\n\r\n      const formData = new FormData()\r\n      formData.append('audio', audioFile)\r\n\r\n      const response = await fetch(getSpeechRecognitionApiUrl(API_ENDPOINTS.UPLOAD_ONLY), {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: formData\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`)\r\n      }\r\n\r\n      const result = await response.json()\r\n      \r\n      if (result.success) {\r\n        log.success('', { \r\n          audioUrl: result.data.audioUrl,\r\n          ossKey: result.data.ossKey \r\n        })\r\n        return {\r\n          success: true,\r\n          audioUrl: result.data.audioUrl,\r\n          ossKey: result.data.ossKey\r\n        }\r\n      } else {\r\n        throw new Error(result.error || result.message || '')\r\n      }\r\n    } catch (error) {\r\n      log.error('', error)\r\n      throw error\r\n    } finally {\r\n      this.isProcessing = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * URL\r\n   * @param {string} audioUrl - URL\r\n   * @returns {Promise<Object>} \r\n   */\r\n  async recognizeFromUrl(audioUrl) {\r\n    try {\r\n      this.isProcessing = true\r\n      log.info('URL', { audioUrl })\r\n\r\n      const token = this.checkAuth()\r\n\r\n      const response = await fetch(getSpeechRecognitionApiUrl(API_ENDPOINTS.RECOGNIZE_URL), {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ audioUrl })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`)\r\n      }\r\n\r\n      const result = await response.json()\r\n      \r\n      if (result.success) {\r\n        log.success('URL', { \r\n          transcription: result.data.transcription \r\n        })\r\n        return {\r\n          success: true,\r\n          transcription: result.data.transcription,\r\n          audioUrl: result.data.audioUrl\r\n        }\r\n      } else {\r\n        throw new Error(result.error || result.message || '')\r\n      }\r\n    } catch (error) {\r\n      log.error('URL', error)\r\n      throw error\r\n    } finally {\r\n      this.isProcessing = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {File} file - \r\n   * @returns {Object} \r\n   */\r\n  validateAudioFile(file) {\r\n    const allowedTypes = ['audio/mpeg', 'audio/wav', 'audio/mp4', 'audio/aac', 'audio/flac', 'audio/ogg', 'audio/webm']\r\n    const maxSize = 100 * 1024 * 1024 // 100MB\r\n\r\n    const validation = {\r\n      isValid: true,\r\n      errors: []\r\n    }\r\n\r\n    if (!file) {\r\n      validation.isValid = false\r\n      validation.errors.push('')\r\n      return validation\r\n    }\r\n\r\n    if (!allowedTypes.includes(file.type)) {\r\n      validation.isValid = false\r\n      validation.errors.push(' MP3, WAV, M4A, AAC, FLAC, OGG ')\r\n    }\r\n\r\n    if (file.size > maxSize) {\r\n      validation.isValid = false\r\n      validation.errors.push('10MB')\r\n    }\r\n\r\n    return validation\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getProcessingStatus() {\r\n    return this.isProcessing\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  resetProcessingStatus() {\r\n    this.isProcessing = false\r\n  }\r\n}\r\n\r\n// \r\nconst speechRecognitionService = new SpeechRecognitionService()\r\n\r\nexport default speechRecognitionService\r\n\r\n// \r\nexport { SpeechRecognitionService }\r\n","<template>\n  <Teleport to=\"body\">\n    <div v-if=\"visible\" class=\"image-analysis-modal\" @click.self=\"closeModal\">\n      <div class=\"modal-content\">\n      <!--  -->\n      <div class=\"modal-header\">\n        <h3> </h3>\n        <button class=\"close-btn\" @click=\"closeModal\">\n          <font-awesome-icon icon=\"times\" />\n        </button>\n      </div>\n\n      <!--  -->\n      <div class=\"modal-body\">\n              <!--  -->\n      <div class=\"upload-area\">\n          <!--  -->\n          <div \n            class=\"upload-area\"\n            :class=\"{ \n              'dragover': isDragOver, \n              'has-image': selectedFile,\n              'uploading': isUploading \n            }\"\n            @drop=\"handleDrop\"\n            @dragover.prevent=\"isDragOver = true\"\n            @dragleave.prevent=\"isDragOver = false\"\n            @click=\"triggerFileSelect\"\n          >\n            <div v-if=\"!selectedFile\" class=\"upload-placeholder\">\n              <font-awesome-icon icon=\"cloud-upload-alt\" class=\"upload-icon\" />\n              <p class=\"upload-text\"></p>\n              <p class=\"upload-hint\"> JPEGPNGGIFWebPBMP  10MB</p>\n            </div>\n            \n            <div v-else class=\"image-preview\">\n              <img :src=\"previewUrl\" :alt=\"selectedFile.name\" class=\"preview-image\" />\n              <div class=\"image-info\">\n                <p class=\"image-name\">{{ selectedFile.name }}</p>\n                <p class=\"image-size\">{{ formatFileSize(selectedFile.size) }}</p>\n              </div>\n              <button class=\"remove-image\" @click.stop=\"removeImage\">\n                <font-awesome-icon icon=\"times\" />\n              </button>\n            </div>\n\n            <div v-if=\"isUploading\" class=\"upload-progress\">\n              <font-awesome-icon icon=\"spinner\" spin />\n              <span>...</span>\n            </div>\n          </div>\n\n          <!--  -->\n          <input \n            ref=\"fileInput\"\n            type=\"file\" \n            accept=\"image/*\"\n            style=\"display: none\"\n            @change=\"handleFileSelect\"\n          >\n        </div>\n\n        <!--  -->\n        <div class=\"prompt-section\">\n          <label class=\"prompt-label\">\n            <font-awesome-icon icon=\"comment\" />\n            \n          </label>\n          <textarea \n            v-model=\"customPrompt\"\n            placeholder=\"...\"\n            class=\"prompt-input\"\n            rows=\"3\"\n            :disabled=\"isUploading\"\n          ></textarea>\n        </div>\n\n        <!--  -->\n        <div v-if=\"analysisResult\" class=\"analysis-result\">\n          <h4> </h4>\n          <div class=\"result-content\">\n            <p class=\"result-text\">{{ analysisResult.analysis.content }}</p>\n            <div class=\"result-meta\">\n              <span class=\"token-info\">\n                <font-awesome-icon icon=\"info-circle\" />\n                 Token: {{ analysisResult.analysis.usage.total_tokens }}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!--  -->\n        <div v-if=\"errorMessage\" class=\"error-message\">\n          <font-awesome-icon icon=\"exclamation-triangle\" />\n          {{ errorMessage }}\n        </div>\n      </div>\n\n      <!--  -->\n      <div class=\"modal-footer\">\n        <button class=\"btn btn-secondary\" @click=\"closeModal\">\n          \n        </button>\n        <button \n          v-if=\"activeTab === 'upload' && selectedFile\"\n          class=\"btn btn-primary\"\n          @click=\"analyzeImage\"\n          :disabled=\"isUploading\"\n        >\n          <font-awesome-icon v-if=\"isUploading\" icon=\"spinner\" spin />\n          <span v-else></span>\n        </button>\n      </div>\n    </div>\n  </div>\n</Teleport>\n</template>\n\n<script>\nimport imageAnalysisService from '../../AIsiri/services/imageAnalysisService.js'\nimport { log } from '../../AIsiri/utils/logger.js'\n\nexport default {\n  name: 'ImageAnalysisModal',\n  emits: ['close', 'analysisComplete', 'showToast'],\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    preSelectedFile: {\n      type: File,\n      default: null\n    }\n  },\n  data() {\n    return {\n      selectedFile: null,\n      previewUrl: '',\n      customPrompt: '',\n      isDragOver: false,\n      isUploading: false,\n      analysisResult: null,\n      errorMessage: ''\n    }\n  },\n  watch: {\n    preSelectedFile: {\n      handler(newFile) {\n        if (newFile) {\n          this.selectFile(newFile);\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    /**\n     * \n     */\n    closeModal() {\n      this.$emit('close')\n      this.resetForm()\n    },\n\n    /**\n     * \n     */\n    resetForm() {\n      this.selectedFile = null\n      this.previewUrl = ''\n      this.customPrompt = ''\n      this.isDragOver = false\n      this.isUploading = false\n      this.analysisResult = null\n      this.errorMessage = ''\n    },\n\n    /**\n     * \n     */\n    triggerFileSelect() {\n      if (!this.selectedFile && !this.isUploading) {\n        this.$refs.fileInput.click()\n      }\n    },\n\n    /**\n     * \n     */\n    handleFileSelect(event) {\n      const file = event.target.files[0]\n      if (file) {\n        this.selectFile(file)\n      }\n    },\n\n    /**\n     * \n     */\n    handleDrop(event) {\n      event.preventDefault()\n      this.isDragOver = false\n      \n      const files = event.dataTransfer.files\n      if (files.length > 0) {\n        this.selectFile(files[0])\n      }\n    },\n\n    /**\n     * \n     */\n    selectFile(file) {\n      // \n      const validation = imageAnalysisService.validateImageFile(file)\n      if (!validation.isValid) {\n        this.showError(validation.errors.join(', '))\n        return\n      }\n\n      this.selectedFile = file\n      this.previewUrl = URL.createObjectURL(file)\n      this.errorMessage = ''\n      this.analysisResult = null\n    },\n\n    /**\n     * \n     */\n    removeImage() {\n      if (this.previewUrl) {\n        URL.revokeObjectURL(this.previewUrl)\n      }\n      this.selectedFile = null\n      this.previewUrl = ''\n      this.analysisResult = null\n    },\n\n    /**\n     * \n     */\n    async analyzeImage() {\n      if (!this.selectedFile) return\n\n      try {\n        this.isUploading = true\n        this.errorMessage = ''\n        this.analysisResult = null\n\n        log.info('', { \n          fileName: this.selectedFile.name,\n          customPrompt: this.customPrompt \n        })\n\n        const result = await imageAnalysisService.uploadAndAnalyze(\n          this.selectedFile, \n          this.customPrompt\n        )\n\n        this.analysisResult = result\n        this.showSuccess('')\n        \n        // \n        this.$emit('analysisComplete', result)\n      } catch (error) {\n        log.error('', error)\n        this.showError(error.message || '')\n      } finally {\n        this.isUploading = false\n      }\n    },\n\n\n\n    /**\n     * \n     */\n    formatFileSize(bytes) {\n      return imageAnalysisService.formatFileSize(bytes)\n    },\n\n    /**\n     * \n     */\n    showSuccess(message) {\n      this.$emit('showToast', message, 'success')\n    },\n\n    /**\n     * \n     */\n    showError(message) {\n      this.errorMessage = message\n    }\n  },\n\n  beforeUnmount() {\n    // URL\n    if (this.previewUrl) {\n      URL.revokeObjectURL(this.previewUrl)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.image-analysis-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 9999;\n  /* flexbox */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  box-sizing: border-box;\n}\n\n.modal-content {\n  background: white;\n  border-radius: 16px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow: hidden;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  position: relative;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 24px;\n  border-bottom: 1px solid #e5e5ea;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #1d1d1f;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 18px;\n  color: #8e8e93;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 8px;\n  transition: all 0.2s;\n}\n\n.close-btn:hover {\n  background: #f2f2f7;\n  color: #1d1d1f;\n}\n\n.modal-body {\n  padding: 24px;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n\n\n/*  */\n.upload-area {\n  border: 2px dashed #d1d1d6;\n  border-radius: 12px;\n  padding: 40px 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  background: #fafafa;\n}\n\n.upload-area:hover:not(.uploading) {\n  border-color: #007aff;\n  background: #f0f8ff;\n}\n\n.upload-area.dragover {\n  border-color: #007aff;\n  background: #e6f3ff;\n  transform: scale(1.02);\n}\n\n.upload-area.has-image {\n  border-style: solid;\n  border-color: #34c759;\n  background: #f0fff4;\n  padding: 20px;\n}\n\n.upload-area.uploading {\n  border-color: #007aff;\n  background: #f0f8ff;\n  cursor: not-allowed;\n}\n\n.upload-placeholder {\n  color: #8e8e93;\n}\n\n.upload-icon {\n  font-size: 48px;\n  color: #d1d1d6;\n  margin-bottom: 16px;\n}\n\n.upload-text {\n  font-size: 16px;\n  font-weight: 600;\n  margin: 0 0 8px 0;\n  color: #1d1d1f;\n}\n\n.upload-hint {\n  font-size: 14px;\n  margin: 0;\n  color: #8e8e93;\n}\n\n/*  */\n.image-preview {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.preview-image {\n  width: 80px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 8px;\n  border: 2px solid #e5e5ea;\n}\n\n.image-info {\n  flex: 1;\n  text-align: left;\n}\n\n.image-name {\n  font-size: 14px;\n  font-weight: 600;\n  margin: 0 0 4px 0;\n  color: #1d1d1f;\n  word-break: break-all;\n}\n\n.image-size {\n  font-size: 12px;\n  margin: 0;\n  color: #8e8e93;\n}\n\n.remove-image {\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  background: #ff3b30;\n  color: white;\n  border: none;\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  transition: all 0.2s;\n}\n\n.remove-image:hover {\n  background: #d70015;\n  transform: scale(1.1);\n}\n\n/*  */\n.upload-progress {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #007aff;\n  font-size: 14px;\n  margin-top: 16px;\n}\n\n/* URL */\n.url-input-container {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.url-input {\n  flex: 1;\n  padding: 12px 16px;\n  border: 1px solid #d1d1d6;\n  border-radius: 8px;\n  font-size: 14px;\n  outline: none;\n  transition: all 0.2s;\n}\n\n.url-input:focus {\n  border-color: #007aff;\n  box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);\n}\n\n.analyze-url-btn {\n  padding: 12px 20px;\n  background: #007aff;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.analyze-url-btn:hover:not(:disabled) {\n  background: #0056d3;\n}\n\n.analyze-url-btn:disabled {\n  background: #e5e5ea;\n  color: #8e8e93;\n  cursor: not-allowed;\n}\n\n/*  */\n.prompt-section {\n  margin-bottom: 20px;\n}\n\n.prompt-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 8px;\n}\n\n.prompt-input {\n  width: 100%;\n  padding: 12px 16px;\n  border: 1px solid #d1d1d6;\n  border-radius: 8px;\n  font-size: 14px;\n  outline: none;\n  resize: vertical;\n  min-height: 80px;\n  transition: all 0.2s;\n  font-family: inherit;\n}\n\n.prompt-input:focus {\n  border-color: #007aff;\n  box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);\n}\n\n/*  */\n.analysis-result {\n  background: #f8f9fa;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 20px;\n  border-left: 4px solid #007aff;\n}\n\n.analysis-result h4 {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #1d1d1f;\n}\n\n.result-text {\n  margin: 0 0 16px 0;\n  font-size: 14px;\n  line-height: 1.6;\n  color: #1d1d1f;\n}\n\n.result-meta {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.token-info {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 12px;\n  color: #8e8e93;\n}\n\n/*  */\n.error-message {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: #fff5f5;\n  color: #dc2626;\n  padding: 12px 16px;\n  border-radius: 8px;\n  border: 1px solid #fecaca;\n  margin-bottom: 20px;\n  font-size: 14px;\n}\n\n/*  */\n.modal-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 20px 24px;\n  border-top: 1px solid #e5e5ea;\n  background: #fafafa;\n}\n\n.btn {\n  padding: 12px 24px;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.btn-secondary {\n  background: #f2f2f7;\n  color: #1d1d1f;\n}\n\n.btn-secondary:hover {\n  background: #e5e5ea;\n}\n\n.btn-primary {\n  background: #007aff;\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: #0056d3;\n}\n\n.btn-primary:disabled {\n  background: #e5e5ea;\n  color: #8e8e93;\n  cursor: not-allowed;\n}\n\n/*  */\n@media (max-width: 600px) {\n  .image-analysis-modal {\n    padding: 10px;\n  }\n  \n  .modal-content {\n    max-height: 95vh;\n    width: calc(100% - 20px);\n    max-width: none;\n  }\n  \n  .modal-body {\n    padding: 16px;\n    max-height: 70vh;\n  }\n  \n  .upload-area {\n    padding: 30px 16px;\n  }\n  \n  .upload-area.has-image {\n    padding: 16px;\n  }\n  \n  .preview-image {\n    width: 60px;\n    height: 60px;\n  }\n  \n  .url-input-container {\n    flex-direction: column;\n  }\n  \n  .analyze-url-btn {\n    width: 100%;\n    justify-content: center;\n  }\n}\n</style>\n","/**\r\n * \r\n * VL\r\n */\r\n\r\nimport { log } from '../utils/logger.js'\r\n\r\n// token\r\nfunction getToken() {\r\n  return localStorage.getItem('token') || ''\r\n}\r\n\r\n// \r\nfunction logAPI(operation, data) {\r\n  const timestamp = new Date().toISOString()\r\n  console.log(`\\n ===  ${operation} API ===`)\r\n  console.log(` : ${timestamp}`)\r\n  console.log(` :`, data)\r\n}\r\n\r\nfunction logResponse(operation, response) {\r\n  console.log(` :`, response)\r\n  console.log(` ===  ${operation} API ===\\n`)\r\n}\r\n\r\n// API\r\nasync function makeAPIRequest(endpoint, data = null, method = 'GET') {\r\n  const url = endpoint.startsWith('/') ? endpoint : `/${endpoint}`\r\n  \r\n  try {\r\n    logAPI(endpoint, data)\r\n    \r\n    const token = getToken()\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    if (token) headers['Authorization'] = `Bearer ${token}`\r\n    \r\n    const options = {\r\n      method,\r\n      headers\r\n    }\r\n    \r\n    if (data && method !== 'GET') {\r\n      options.body = JSON.stringify(data)\r\n    }\r\n    \r\n    const response = await fetch(url, options)\r\n    \r\n    if (!response.ok) {\r\n      if (response.status === 401) {\r\n        console.warn(' token')\r\n        throw new Error('')\r\n      }\r\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`)\r\n    }\r\n    \r\n    const result = await response.json()\r\n    logResponse(endpoint, result)\r\n    \r\n    return result\r\n  } catch (error) {\r\n    console.error(` API ${endpoint}:`, error.message)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nclass ImageAnalysisService {\r\n  constructor() {\r\n    this.supportedFormats = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/bmp']\r\n    this.maxFileSize = 50 * 1024 * 1024 // 50MB\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  validateImageFile(file) {\r\n    const errors = []\r\n    \r\n    if (!file) {\r\n      errors.push('')\r\n      return { isValid: false, errors }\r\n    }\r\n    \r\n    if (!this.supportedFormats.includes(file.type)) {\r\n      errors.push(`: ${file.type}: ${this.supportedFormats.join(', ')}`)\r\n    }\r\n    \r\n    if (file.size > this.maxFileSize) {\r\n      errors.push(`: ${(file.size / 1024 / 1024).toFixed(2)}MB: ${this.maxFileSize / 1024 / 1024}MB`)\r\n    }\r\n    \r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  async uploadAndAnalyze(file, customPrompt = '') {\r\n    try {\r\n      // \r\n      const validation = this.validateImageFile(file)\r\n      if (!validation.isValid) {\r\n        throw new Error(validation.errors.join(', '))\r\n      }\r\n\r\n      log.info('', { \r\n        fileName: file.name, \r\n        fileSize: file.size, \r\n        fileType: file.type,\r\n        customPrompt \r\n      })\r\n\r\n      // FormData\r\n      const formData = new FormData()\r\n      formData.append('image', file)\r\n      if (customPrompt) {\r\n        formData.append('custom_prompt', customPrompt)\r\n      }\r\n\r\n      // API\r\n      const response = await fetch('/api/image-analysis/upload-analyze', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${getToken()}`\r\n        },\r\n        body: formData\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.error || errorData.message || `HTTP ${response.status}`)\r\n      }\r\n\r\n      const result = await response.json()\r\n      \r\n      if (result.success) {\r\n        log.success('', { \r\n          imageUrl: result.imageUrl,\r\n          analysis: result.analysis \r\n        })\r\n        return result\r\n      } else {\r\n        throw new Error(result.error || '')\r\n      }\r\n    } catch (error) {\r\n      log.error('', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * URL\r\n   */\r\n  async analyzeImageUrl(imageUrl, customPrompt = '') {\r\n    try {\r\n      if (!imageUrl || !imageUrl.trim()) {\r\n        throw new Error('URL')\r\n      }\r\n\r\n      log.info('', { imageUrl, customPrompt })\r\n\r\n      const payload = {\r\n        image_url: imageUrl.trim()\r\n      }\r\n      \r\n      if (customPrompt) {\r\n        payload.custom_prompt = customPrompt\r\n      }\r\n\r\n      const result = await makeAPIRequest('/api/image-analysis/analyze-url', payload, 'POST')\r\n      \r\n      if (result.success) {\r\n        log.success('', { \r\n          imageUrl: result.imageUrl,\r\n          analysis: result.analysis \r\n        })\r\n        return result\r\n      } else {\r\n        throw new Error(result.error || '')\r\n      }\r\n    } catch (error) {\r\n      log.error('', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getSupportedFormats() {\r\n    return this.supportedFormats\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getMaxFileSize() {\r\n    return this.maxFileSize\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  formatFileSize(bytes) {\r\n    if (bytes === 0) return '0 Bytes'\r\n    const k = 1024\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k))\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\r\n  }\r\n}\r\n\r\n// \r\nconst imageAnalysisService = new ImageAnalysisService()\r\n\r\nexport default imageAnalysisService\r\n\r\n\r\n\r\n","import { render } from \"./ImageAnalysisModal.vue?vue&type=template&id=408617e0&scoped=true\"\nimport script from \"./ImageAnalysisModal.vue?vue&type=script&lang=js\"\nexport * from \"./ImageAnalysisModal.vue?vue&type=script&lang=js\"\n\nimport \"./ImageAnalysisModal.vue?vue&type=style&index=0&id=408617e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-408617e0\"]])\n\nexport default __exports__","import { render } from \"./MessageInput.vue?vue&type=template&id=5d09d33d&scoped=true\"\nimport script from \"./MessageInput.vue?vue&type=script&lang=js\"\nexport * from \"./MessageInput.vue?vue&type=script&lang=js\"\n\nimport \"./MessageInput.vue?vue&type=style&index=0&id=5d09d33d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5d09d33d\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"visible\" class=\"modal-overlay\" @click=\"closeModal\">\r\n    <div class=\"modal-content\" @click.stop>\r\n      <div class=\"modal-header\">\r\n        <h3>AI</h3>\r\n        <button class=\"close-btn\" @click=\"closeModal\">\r\n          <font-awesome-icon icon=\"times\" />\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"modal-body\">\r\n        <div class=\"setting-item\">\r\n          <label for=\"assistant-name\"></label>\r\n          <div class=\"input-group\">\r\n            <input\r\n              id=\"assistant-name\"\r\n              v-model=\"assistantName\"\r\n              type=\"text\"\r\n              placeholder=\"AI\"\r\n              maxlength=\"50\"\r\n              class=\"name-input\"\r\n            />\r\n            <span class=\"char-count\">{{ assistantName.length }}/50</span>\r\n          </div>\r\n          <small class=\"help-text\">AI</small>\r\n        </div>\r\n        \r\n        <div class=\"setting-item\">\r\n          <label></label>\r\n          <div class=\"heart-value-display\">\r\n            <font-awesome-icon icon=\"heart\" class=\"heart-icon\" />\r\n            <span class=\"heart-number\">{{ currentHeartValue }}</span>\r\n            <span class=\"heart-text\"></span>\r\n          </div>\r\n          <small class=\"help-text\"></small>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"modal-footer\">\r\n        <button class=\"btn btn-secondary\" @click=\"closeModal\"></button>\r\n        <button \r\n          class=\"btn btn-primary\" \r\n          @click=\"saveSettings\"\r\n          :disabled=\"!assistantName.trim() || isSaving\"\r\n        >\r\n          <font-awesome-icon v-if=\"isSaving\" icon=\"spinner\" spin />\r\n          {{ isSaving ? '...' : '' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AssistantSettingsModal',\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    assistant: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      assistantName: '',\r\n      isSaving: false\r\n    }\r\n  },\r\n  computed: {\r\n    currentHeartValue() {\r\n      return this.assistant?.heartValue || 0\r\n    }\r\n  },\r\n  watch: {\r\n    visible(newVal) {\r\n      if (newVal && this.assistant) {\r\n        this.assistantName = this.assistant.name || ''\r\n      }\r\n    },\r\n    assistant: {\r\n      handler(newVal) {\r\n        if (newVal && this.visible) {\r\n          this.assistantName = newVal.name || ''\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('close')\r\n    },\r\n    \r\n    async saveSettings() {\r\n      if (!this.assistantName.trim()) {\r\n        return\r\n      }\r\n      \r\n      try {\r\n        this.isSaving = true\r\n        await this.$emit('save', this.assistantName.trim())\r\n        this.closeModal()\r\n      } catch (error) {\r\n        console.error(':', error)\r\n      } finally {\r\n        this.isSaving = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  padding: 20px;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 16px;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  max-height: 90vh;\r\n  overflow: hidden;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.modal-header {\r\n  padding: 20px 24px 16px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modal-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.close-btn:hover {\r\n  background: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n.modal-body {\r\n  padding: 24px;\r\n}\r\n\r\n.setting-item {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.setting-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.setting-item label {\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #333;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.input-group {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.name-input {\r\n  flex: 1;\r\n  padding: 12px 16px;\r\n  border: 2px solid #e5e5e5;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.name-input:focus {\r\n  outline: none;\r\n  border-color: #007aff;\r\n}\r\n\r\n.char-count {\r\n  position: absolute;\r\n  right: 12px;\r\n  font-size: 12px;\r\n  color: #999;\r\n  background: white;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.help-text {\r\n  display: block;\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 6px;\r\n}\r\n\r\n.heart-value-display {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 16px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.heart-icon {\r\n  color: #ff6b6b;\r\n  font-size: 20px;\r\n}\r\n\r\n.heart-number {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #ff6b6b;\r\n}\r\n\r\n.heart-text {\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 16px 24px 24px;\r\n  border-top: 1px solid #f0f0f0;\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.btn {\r\n  padding: 12px 24px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-secondary {\r\n  background: #f8f9fa;\r\n  color: #666;\r\n}\r\n\r\n.btn-secondary:hover:not(:disabled) {\r\n  background: #e9ecef;\r\n}\r\n\r\n.btn-primary {\r\n  background: #007aff;\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover:not(:disabled) {\r\n  background: #0056cc;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .modal-content {\r\n    margin: 20px;\r\n    max-height: calc(100vh - 40px);\r\n  }\r\n  \r\n  .modal-header,\r\n  .modal-body,\r\n  .modal-footer {\r\n    padding: 16px 20px;\r\n  }\r\n  \r\n  .btn {\r\n    padding: 10px 20px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./AssistantSettingsModal.vue?vue&type=template&id=65f84830&scoped=true\"\nimport script from \"./AssistantSettingsModal.vue?vue&type=script&lang=js\"\nexport * from \"./AssistantSettingsModal.vue?vue&type=script&lang=js\"\n\nimport \"./AssistantSettingsModal.vue?vue&type=style&index=0&id=65f84830&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65f84830\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"voice-recognition-status\" v-if=\"showStatus\">\r\n    <div class=\"status-container\" :class=\"statusType\">\r\n      <div class=\"status-icon\">\r\n        <font-awesome-icon \r\n          :icon=\"statusIcon\" \r\n          :class=\"{ 'spin': isProcessing, 'pulse': isSuccess }\"\r\n        />\r\n      </div>\r\n      <div class=\"status-content\">\r\n        <div class=\"status-title\">{{ statusTitle }}</div>\r\n        <div class=\"status-message\">{{ statusMessage }}</div>\r\n        <div v-if=\"showProgress\" class=\"progress-bar\">\r\n          <div class=\"progress-fill\" :style=\"{ width: progressPercent + '%' }\"></div>\r\n        </div>\r\n      </div>\r\n      <button v-if=\"showClose\" class=\"status-close\" @click=\"closeStatus\">\r\n        <font-awesome-icon icon=\"times\" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'VoiceRecognitionStatus',\r\n  props: {\r\n    // \r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // : processing, success, error\r\n    type: {\r\n      type: String,\r\n      default: 'processing'\r\n    },\r\n    // \r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    // \r\n    message: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    //  (0-100)\r\n    progress: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    // \r\n    closable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //  ()\r\n    autoClose: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      autoCloseTimer: null\r\n    }\r\n  },\r\n  computed: {\r\n    showStatus() {\r\n      return this.show && this.isVisible\r\n    },\r\n    statusType() {\r\n      return `status-${this.type}`\r\n    },\r\n    statusIcon() {\r\n      const iconMap = {\r\n        processing: 'spinner',\r\n        success: 'check-circle',\r\n        error: 'exclamation-circle',\r\n        warning: 'exclamation-triangle'\r\n      }\r\n      return iconMap[this.type] || 'info-circle'\r\n    },\r\n    statusTitle() {\r\n      if (this.title) return this.title\r\n      \r\n      const titleMap = {\r\n        processing: '',\r\n        success: '',\r\n        error: '',\r\n        warning: ''\r\n      }\r\n      return titleMap[this.type] || ''\r\n    },\r\n    statusMessage() {\r\n      return this.message\r\n    },\r\n    showProgress() {\r\n      return this.type === 'processing' && this.progress > 0\r\n    },\r\n    progressPercent() {\r\n      return Math.min(Math.max(this.progress, 0), 100)\r\n    },\r\n    showClose() {\r\n      return this.closable && this.type !== 'processing'\r\n    },\r\n    isProcessing() {\r\n      return this.type === 'processing'\r\n    },\r\n    isSuccess() {\r\n      return this.type === 'success'\r\n    }\r\n  },\r\n  watch: {\r\n    show(newVal) {\r\n      if (newVal) {\r\n        this.showStatusBar()\r\n      } else {\r\n        this.hideStatusBar()\r\n      }\r\n    },\r\n    type(newType) {\r\n      if (newType === 'success' || newType === 'error') {\r\n        this.setupAutoClose()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    showStatusBar() {\r\n      this.isVisible = true\r\n      this.$emit('show')\r\n    },\r\n    hideStatusBar() {\r\n      this.isVisible = false\r\n      this.$emit('hide')\r\n    },\r\n    closeStatus() {\r\n      this.hideStatusBar()\r\n      this.$emit('close')\r\n    },\r\n    setupAutoClose() {\r\n      if (this.autoClose > 0) {\r\n        this.clearAutoCloseTimer()\r\n        this.autoCloseTimer = setTimeout(() => {\r\n          this.closeStatus()\r\n        }, this.autoClose)\r\n      }\r\n    },\r\n    clearAutoCloseTimer() {\r\n      if (this.autoCloseTimer) {\r\n        clearTimeout(this.autoCloseTimer)\r\n        this.autoCloseTimer = null\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.show) {\r\n      this.showStatusBar()\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    this.clearAutoCloseTimer()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.voice-recognition-status {\r\n  position: fixed;\r\n  top: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  z-index: 9999;\r\n  max-width: 90vw;\r\n  width: 400px;\r\n}\r\n\r\n.status-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 16px 20px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  animation: slideDown 0.3s ease-out;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.status-container:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.status-icon {\r\n  flex-shrink: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n}\r\n\r\n.status-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.status-title {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  margin-bottom: 4px;\r\n  color: inherit;\r\n}\r\n\r\n.status-message {\r\n  font-size: 13px;\r\n  color: inherit;\r\n  opacity: 0.8;\r\n  line-height: 1.4;\r\n}\r\n\r\n.progress-bar {\r\n  margin-top: 8px;\r\n  height: 4px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: currentColor;\r\n  border-radius: 2px;\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.status-close {\r\n  flex-shrink: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  border: none;\r\n  background: none;\r\n  color: inherit;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  transition: all 0.2s ease;\r\n  opacity: 0.7;\r\n}\r\n\r\n.status-close:hover {\r\n  opacity: 1;\r\n  background: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n/*  */\r\n.status-processing {\r\n  background: rgba(0, 122, 255, 0.95);\r\n  color: white;\r\n  border-color: rgba(0, 122, 255, 0.3);\r\n}\r\n\r\n.status-success {\r\n  background: rgba(52, 199, 89, 0.95);\r\n  color: white;\r\n  border-color: rgba(52, 199, 89, 0.3);\r\n}\r\n\r\n.status-error {\r\n  background: rgba(255, 59, 48, 0.95);\r\n  color: white;\r\n  border-color: rgba(255, 59, 48, 0.3);\r\n}\r\n\r\n.status-warning {\r\n  background: rgba(255, 149, 0, 0.95);\r\n  color: white;\r\n  border-color: rgba(255, 149, 0, 0.3);\r\n}\r\n\r\n/*  */\r\n.status-icon .spin {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.status-icon .pulse {\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n  }\r\n}\r\n\r\n@keyframes slideDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-50%) translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(-50%) translateY(0);\r\n  }\r\n}\r\n\r\n/*  */\r\n@media (max-width: 480px) {\r\n  .voice-recognition-status {\r\n    top: 16px;\r\n    left: 16px;\r\n    right: 16px;\r\n    transform: none;\r\n    width: auto;\r\n    max-width: none;\r\n  }\r\n  \r\n  .status-container {\r\n    padding: 14px 16px;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .status-icon {\r\n    width: 20px;\r\n    height: 20px;\r\n    font-size: 18px;\r\n  }\r\n  \r\n  .status-title {\r\n    font-size: 13px;\r\n  }\r\n  \r\n  .status-message {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .status-close {\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./VoiceRecognitionStatus.vue?vue&type=template&id=20a1b3fc&scoped=true\"\nimport script from \"./VoiceRecognitionStatus.vue?vue&type=script&lang=js\"\nexport * from \"./VoiceRecognitionStatus.vue?vue&type=script&lang=js\"\n\nimport \"./VoiceRecognitionStatus.vue?vue&type=style&index=0&id=20a1b3fc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20a1b3fc\"]])\n\nexport default __exports__","/**\n * AIsiri  API\n * \n */\n\nimport { getAisiriApiUrl } from '../../config/api.js'\n\n// API\nconst API_CONFIG = {\n  baseURL: getAisiriApiUrl(''),\n  timeout: 300000, // 5\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}\n\n// ID\nfunction getCurrentUserId() {\n  try {\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\n    return user?._id || user?.id || null\n  } catch (_) {\n    return null\n  }\n}\n\n// token\nfunction getToken() {\n  return localStorage.getItem('token') || ''\n}\n\n// \nfunction logAPI(operation, data) {\n  const timestamp = new Date().toISOString()\n  console.log(`\\n === ${operation} API ===`)\n  console.log(` : ${timestamp}`)\n  console.log(` :`, data)\n}\n\nfunction logResponse(operation, response) {\n  console.log(` :`, response)\n  console.log(` === ${operation} API ===\\n`)\n}\n\n// API\nasync function makeAPIRequest(endpoint, data = null, method = 'GET') {\n  const url = `${API_CONFIG.baseURL}${endpoint}`\n  \n  try {\n    logAPI(endpoint, data)\n    \n    const controller = new AbortController()\n    const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout)\n    \n    const token = getToken()\n    const headers = { ...API_CONFIG.headers }\n    if (token) headers['Authorization'] = `Bearer ${token}`\n    \n    const options = {\n      method,\n      headers,\n      signal: controller.signal\n    }\n    \n    if (data && method !== 'GET') {\n      options.body = JSON.stringify(data)\n    }\n    \n    const response = await fetch(url, options)\n    clearTimeout(timeoutId)\n    \n    if (!response.ok) {\n      if (response.status === 401) {\n        console.warn(' token')\n        if (typeof window !== 'undefined') {\n          window.location.href = '/auth/login'\n        }\n      }\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n    }\n    \n    const result = await response.json()\n    logResponse(endpoint, result)\n    \n    return result\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      console.error(` API ${endpoint}: ${API_CONFIG.timeout}ms`)\n      throw new Error(`${API_CONFIG.timeout}`)\n    }\n    console.error(` API ${endpoint}:`, error.message)\n    throw error\n  }\n}\n\n/**\n * AIsiri\n */\nclass AIsiriService {\n  constructor() {\n    this.userId = getCurrentUserId()\n    this.sessionId = this.generateSessionId()\n    console.log(` AIsiriID: ${this.userId}`)\n  }\n\n  /**\n   * ID\n   */\n  generateSessionId() {\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n  }\n\n  ensureUserIdOrRedirect() {\n    this.userId = getCurrentUserId()\n    if (!this.userId && typeof window !== 'undefined') {\n      console.warn(' [AIsiri] ')\n      window.location.href = '/auth/login'\n      return false\n    }\n    return true\n  }\n\n  /**\n   * \n   */\n  async healthCheck() {\n    return await makeAPIRequest('/dispatch/status')\n  }\n\n  /**\n   *  - \n   * @param {string} userInput - \n   * @param {string} sessionId - ID\n   * @returns {Promise<Object>} \n   */\n  async dispatch(userInput, sessionId = null) {\n    console.log(`\\n AIsiri: \"${userInput}\"`)\n    if (!this.ensureUserIdOrRedirect()) return\n    \n    const data = {\n      userInput: userInput.trim(),\n      sessionId: sessionId || this.sessionId,\n      deviceInfo: {\n        platform: 'web',\n        version: '2.0.0'\n      }\n    }\n    \n    const result = await makeAPIRequest('/dispatch', data, 'POST')\n    \n    // \n    if (result.success) {\n      console.log(` `)\n      console.log(` : ${result.data.intents?.join(', ') || ''}`)\n      console.log(` : ${result.data.servicesExecuted?.join(', ') || ''}`)\n      \n      // \n      if (result.data.servicesExecuted) {\n        result.data.servicesExecuted.forEach(service => {\n          console.log(` : ${service}`)\n        })\n      }\n      \n      // \n      if (result.data.taskCreated) {\n        console.log(` : ${result.data.taskCreated.title}`)\n      }\n      \n      // \n      if (result.data.scheduleAdjusted) {\n        console.log(` `)\n      }\n      \n      // \n      if (result.data.emotionalSupport) {\n        console.log(` : ${result.data.emotionalSupport}`)\n      }\n    }\n    \n    return result\n  }\n\n  /**\n   * \n   */\n  async getStatus() {\n    return await makeAPIRequest('/dispatch/status')\n  }\n\n  /**\n   * ID\n   */\n  resetUserId() {\n    this.userId = getCurrentUserId()\n    console.log(` ID: ${this.userId}`)\n  }\n\n  /**\n   * ID\n   */\n  getCurrentSessionId() {\n    return this.sessionId\n  }\n\n  /**\n   * \n   */\n  createNewSession() {\n    this.sessionId = this.generateSessionId()\n    console.log(` : ${this.sessionId}`)\n    return this.sessionId\n  }\n}\n\n// \nconst aisiriService = new AIsiriService()\n\nexport default aisiriService\n\n// \nexport { AIsiriService }","/**\n * AIsiri \n * \n */\n\nimport aisiriService from './aiApi.js'\nimport { MESSAGE_TYPES, SENDERS } from '../types/index.js'\n\n/**\n * ID\n */\nfunction generateMessageId() {\n  return `msg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n}\n\n/**\n * \n */\nfunction createMessage(content, sender = SENDERS.AI, type = MESSAGE_TYPES.TEXT, metadata = {}) {\n  return {\n    id: generateMessageId(),\n    content,\n    sender,\n    type,\n    timestamp: new Date(),\n    metadata,\n    isUser: sender === SENDERS.USER\n  }\n}\n\n/**\n * \n */\nclass MessageService {\n  constructor() {\n    this.messages = []\n    this.isProcessing = false\n    this.currentSessionId = null\n    \n    // \n    this.addWelcomeMessage()\n    \n    console.log(' AIsiri')\n  }\n\n  /**\n   * \n   */\n  addWelcomeMessage() {\n    const welcomeMessage = createMessage(\n      'AI',\n      SENDERS.AI,\n      MESSAGE_TYPES.TEXT\n    )\n    this.messages.push(welcomeMessage)\n  }\n\n  /**\n   * \n   */\n  getMessages() {\n    return [...this.messages]\n  }\n\n  /**\n   * \n   */\n  addUserMessage(content, type = MESSAGE_TYPES.TEXT, metadata = {}) {\n    // \n    let messageType = type\n    if (content && content.startsWith(' ')) {\n      messageType = 'IMAGE' // \n    }\n    \n    const message = createMessage(content, SENDERS.USER, messageType, metadata)\n    this.messages.push(message)\n    \n    console.log(` : ${content}`)\n    return message\n  }\n\n  /**\n   * AI\n   */\n  addAIMessage(content, type = MESSAGE_TYPES.TEXT, metadata = {}) {\n    const message = createMessage(content, SENDERS.AI, type, metadata)\n    this.messages.push(message)\n    \n    console.log(` AI: ${content.substring(0, 50)}${content.length > 50 ? '...' : ''}`)\n    return message\n  }\n\n  /**\n   * AI\n   */\n  addAIReply(content, type = MESSAGE_TYPES.TEXT, metadata = {}) {\n    const message = createMessage(content, SENDERS.AI, type, metadata)\n    this.messages.push(message)\n    \n    console.log(` AI: ${content.substring(0, 50)}${content.length > 50 ? '...' : ''}`)\n    return message\n  }\n\n  /**\n   * \n   */\n  addVoiceMessage(voiceData, isUser = false) {\n    const message = {\n      id: Date.now() + Math.random(),\n      type: MESSAGE_TYPES.VOICE,\n      isUser: isUser,\n      timestamp: new Date(),\n      duration: voiceData.transcription ? Math.ceil(voiceData.transcription.length / 5) : 3, // \n      transcription: voiceData.transcription || '',\n      audioUrl: voiceData.audioUrl || '',\n      audioFile: voiceData.audioFile || null\n    }\n    \n    this.messages.push(message)\n    console.log(` ${isUser ? '' : 'AI'}: ${voiceData.transcription?.substring(0, 50) || ''}...`)\n    \n    return message\n  }\n\n  /**\n   * \n   */\n  addSystemMessage(content) {\n    const message = createMessage(content, SENDERS.SYSTEM, MESSAGE_TYPES.TEXT)\n    this.messages.push(message)\n    \n    console.log(`  : ${content}`)\n    return message\n  }\n\n  /**\n   *  - \n   */\n  async processUserInput(userInput) {\n    if (this.isProcessing) {\n      console.log(' ...')\n      return\n    }\n\n    try {\n      this.isProcessing = true\n      \n      // 1. \n      this.addUserMessage(userInput)\n      \n      // 2. AIsiri\n      console.log('\\n ...')\n      const response = await aisiriService.dispatch(userInput, this.currentSessionId)\n      \n      // 3. \n      await this.handleDispatchResponse(response)\n      \n    } catch (error) {\n      console.error(' :', error)\n      this.addAIMessage(\n        '',\n        MESSAGE_TYPES.ERROR,\n        { error: error.message }\n      )\n    } finally {\n      this.isProcessing = false\n    }\n  }\n\n  /**\n   *  - \n   */\n  async processVoiceInput(voiceData) {\n    if (this.isProcessing) {\n      console.log(' ...')\n      return\n    }\n\n    try {\n      this.isProcessing = true\n      \n      // 1. \n      this.addVoiceMessage(voiceData, true) // true\n      \n      // 2. AIsiri\n      console.log('\\n ...')\n      const response = await aisiriService.dispatch(voiceData.transcription, this.currentSessionId)\n      \n      // 3. \n      await this.handleVoiceDispatchResponse(response, voiceData)\n      \n    } catch (error) {\n      console.error(' :', error)\n      this.addVoiceMessage({\n        transcription: '',\n        duration: 3,\n        isUser: false\n      }, false) // falseAI\n    } finally {\n      this.isProcessing = false\n    }\n  }\n\n  /**\n   *  - AI\n   */\n  async handleVoiceDispatchResponse(response) {\n    if (!response.success) {\n      // \n      const errorMessage = response.error || ''\n      this.addAIMessage(errorMessage, MESSAGE_TYPES.ERROR, { apiError: response.error })\n      return\n    }\n\n    const { data } = response\n    \n    // AI\n    this.addAIMessage(data.response, MESSAGE_TYPES.TEXT, {\n      intents: data.intents,\n      servicesExecuted: data.servicesExecuted,\n      taskCreated: data.taskCreated,\n      scheduleAdjusted: data.scheduleAdjusted,\n      emotionalSupport: data.emotionalSupport,\n      processingTime: response.processingTime,\n      isVoiceInput: true // \n    })\n    \n    // \n    if (data.taskCreated) {\n      this.addTaskCreatedMessage(data.taskCreated)\n    }\n\n    // \n    if (data.scheduleAdjusted) {\n      this.addScheduleAdjustedMessage(data.scheduleAdjusted)\n    }\n\n    // \n    if (data.taskCreated || data.scheduleAdjusted) {\n      try {\n        window.dispatchEvent(new CustomEvent('ai-dispatch-completed', {\n          detail: {\n            taskCreated: data.taskCreated,\n            scheduleAdjusted: data.scheduleAdjusted,\n            intents: data.intents\n          }\n        }))\n      } catch (_) {\n        // noop:  window \n      }\n    }\n  }\n\n  /**\n   * \n   */\n  async handleDispatchResponse(response) {\n    if (!response.success) {\n      // \n      const errorMessage = response.error || ''\n      this.addAIMessage(errorMessage, MESSAGE_TYPES.ERROR, { apiError: response.error })\n      return\n    }\n\n    const { data } = response\n    \n    // AI\n    this.addAIMessage(data.response, MESSAGE_TYPES.TEXT, {\n      intents: data.intents,\n      servicesExecuted: data.servicesExecuted,\n      taskCreated: data.taskCreated,\n      scheduleAdjusted: data.scheduleAdjusted,\n      emotionalSupport: data.emotionalSupport,\n      processingTime: response.processingTime\n    })\n\n    // \n    if (data.taskCreated) {\n      this.addTaskCreatedMessage(data.taskCreated)\n    }\n\n    // \n    if (data.scheduleAdjusted) {\n      this.addScheduleAdjustedMessage(data.scheduleAdjusted)\n    }\n\n    // \n    if (data.taskCreated || data.scheduleAdjusted) {\n      try {\n        window.dispatchEvent(new CustomEvent('ai-dispatch-completed', {\n          detail: {\n            taskCreated: data.taskCreated,\n            scheduleAdjusted: data.scheduleAdjusted,\n            intents: data.intents\n          }\n        }))\n      } catch (_) {\n        // noop:  window \n      }\n    }\n  }\n\n  /**\n   * \n   */\n  addTaskCreatedMessage(task) {\n    let message = ` ${task.title}`\n    if (task.scheduledTime) {\n      message += ` ${task.date} ${task.scheduledTime}`\n    }\n    \n    this.addAIMessage(message, MESSAGE_TYPES.TASK_CREATED, {\n      task: task\n    })\n  }\n\n  /**\n   * \n   */\n  addScheduleAdjustedMessage(scheduleInfo) {\n    const message = ' '\n    \n    this.addAIMessage(message, MESSAGE_TYPES.SCHEDULE_ADJUSTED, {\n      scheduleInfo: scheduleInfo\n    })\n  }\n\n  /**\n   * \n   */\n  isCurrentlyProcessing() {\n    return this.isProcessing\n  }\n\n  /**\n   * ID\n   */\n  getCurrentSessionId() {\n    return this.currentSessionId\n  }\n\n  /**\n   * ID\n   */\n  setSessionId(sessionId) {\n    this.currentSessionId = sessionId\n    console.log(` ID: ${sessionId}`)\n  }\n\n  /**\n   * \n   */\n  createNewSession() {\n    this.currentSessionId = aisiriService.createNewSession()\n    console.log(` : ${this.currentSessionId}`)\n    return this.currentSessionId\n  }\n\n  /**\n   * \n   */\n  clearMessages() {\n    this.messages = []\n    this.currentSessionId = null\n    this.addWelcomeMessage()\n    console.log(' ')\n  }\n\n  /**\n   * \n   */\n  exportMessages() {\n    return {\n      messages: this.getMessages(),\n      sessionId: this.currentSessionId,\n      timestamp: new Date().toISOString()\n    }\n  }\n}\n\n// \nconst messageService = new MessageService()\n\nexport default messageService","/**\n * AI\n * AI\n */\n\n\n\n// token\nfunction getToken() {\n  return localStorage.getItem('token') || ''\n}\n\n// \nfunction logAPI(operation, data) {\n  const timestamp = new Date().toISOString()\n  console.log(`\\n === AI ${operation} API ===`)\n  console.log(` : ${timestamp}`)\n  console.log(` :`, data)\n}\n\nfunction logResponse(operation, response) {\n  console.log(` :`, response)\n  console.log(` === AI ${operation} API ===\\n`)\n}\n\n// API\nasync function makeAPIRequest(endpoint, data = null, method = 'GET') {\n  // AIAPI\n  const url = endpoint.startsWith('/') ? endpoint : `/${endpoint}`\n  \n  try {\n    logAPI(endpoint, data)\n    \n    const token = getToken()\n    const headers = {\n      'Content-Type': 'application/json'\n    }\n    if (token) headers['Authorization'] = `Bearer ${token}`\n    \n    const options = {\n      method,\n      headers\n    }\n    \n    if (data && method !== 'GET') {\n      options.body = JSON.stringify(data)\n    }\n    \n    const response = await fetch(url, options)\n    \n    if (!response.ok) {\n      if (response.status === 401) {\n        console.warn(' token')\n        throw new Error('')\n      }\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n    }\n    \n    const result = await response.json()\n    logResponse(endpoint, result)\n    \n    return result\n  } catch (error) {\n    console.error(` AIAPI ${endpoint}:`, error.message)\n    throw error\n  }\n}\n\n/**\n * AI\n */\nclass AIAssistantService {\n  constructor() {\n    this.assistant = null\n    this.listeners = []\n  }\n\n  /**\n   * AI\n   */\n  async getOrCreateAssistant() {\n    try {\n      const response = await makeAPIRequest('/api/ai-assistant', null, 'GET')\n      if (response.success) {\n        this.assistant = response.data\n        this.notifyListeners()\n        return this.assistant\n      } else {\n        throw new Error(response.message || 'AI')\n      }\n    } catch (error) {\n      console.error('AI:', error)\n      throw error\n    }\n  }\n\n  /**\n   * AI\n   */\n  async getAssistantInfo() {\n    try {\n      const response = await makeAPIRequest('/api/ai-assistant/info', null, 'GET')\n      if (response.success) {\n        this.assistant = response.data\n        this.notifyListeners()\n        return this.assistant\n      } else {\n        throw new Error(response.message || 'AI')\n      }\n    } catch (error) {\n      console.error('AI:', error)\n      throw error\n    }\n  }\n\n  /**\n   * AI\n   */\n  async updateAssistantName(name) {\n    try {\n      const response = await makeAPIRequest('/api/ai-assistant/name', { name }, 'PUT')\n      if (response.success) {\n        this.assistant = response.data\n        this.notifyListeners()\n        return this.assistant\n      } else {\n        throw new Error(response.message || 'AI')\n      }\n    } catch (error) {\n      console.error('AI:', error)\n      throw error\n    }\n  }\n\n  /**\n   * \n   */\n  async increaseHeartValue() {\n    try {\n      const response = await makeAPIRequest('/api/ai-assistant/heart', null, 'POST')\n      if (response.success) {\n        this.assistant = response.data\n        this.notifyListeners()\n        return this.assistant\n      } else {\n        throw new Error(response.message || '')\n      }\n    } catch (error) {\n      console.error(':', error)\n      throw error\n    }\n  }\n\n  /**\n   * AI\n   */\n  getCurrentAssistant() {\n    return this.assistant\n  }\n\n  /**\n   * \n   */\n  addListener(listener) {\n    this.listeners.push(listener)\n  }\n\n  /**\n   * \n   */\n  removeListener(listener) {\n    const index = this.listeners.indexOf(listener)\n    if (index > -1) {\n      this.listeners.splice(index, 1)\n    }\n  }\n\n  /**\n   * \n   */\n  notifyListeners() {\n    this.listeners.forEach(listener => {\n      try {\n        listener(this.assistant)\n      } catch (error) {\n        console.error(':', error)\n      }\n    })\n  }\n\n  /**\n   * AI\n   */\n  async initialize() {\n    try {\n      await this.getOrCreateAssistant()\n      console.log(' AI:', this.assistant)\n    } catch (error) {\n      console.error(' AI:', error)\n      // \n      this.assistant = {\n        id: 'default',\n        name: 'AI',\n        heartValue: 0,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      }\n      this.notifyListeners()\n    }\n  }\n}\n\n// \nconst aiAssistantService = new AIAssistantService()\n\nexport default aiAssistantService\n","import { render } from \"./AiSecretary.vue?vue&type=template&id=102246d8&scoped=true\"\nimport script from \"./AiSecretary.vue?vue&type=script&lang=js\"\nexport * from \"./AiSecretary.vue?vue&type=script&lang=js\"\n\nimport \"./AiSecretary.vue?vue&type=style&index=0&id=102246d8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-102246d8\"]])\n\nexport default __exports__","<template>\n  <div class=\"collections-container\">\n    <!-- Header -->\n    <div class=\"header\">\n      <div class=\"header-title\"></div>\n      <button \n        class=\"create-collection-btn\" \n        @click=\"openCreateCollectionModal\" \n        title=\"\"\n      >\n        <font-awesome-icon icon=\"plus\" />\n      </button>\n    </div>\n    \n    <!-- Content -->\n    <div class=\"content\" v-if=\"!loading\">\n      <!-- Collections List -->\n      <template v-if=\"collections.length > 0\">\n        <CollectionCard\n          v-for=\"collection in collections\"\n          :key=\"collection._id\"\n          :collection=\"collection\"\n          @toggle-expansion=\"handleToggleExpansion\"\n          @add-subtask=\"openAddSubtaskModal\"\n          @toggle-subtask=\"handleToggleSubtask\"\n        />\n      </template>\n      \n      <!-- Empty State -->\n      <div v-else class=\"empty-state\">\n        <div class=\"empty-icon\"></div>\n        <div class=\"empty-title\"></div>\n        <div class=\"empty-subtitle\"> + </div>\n      </div>\n    </div>\n    \n    <!-- Loading State -->\n    <div v-else class=\"loading-container\">\n      <LoadingSpinner />\n    </div>\n    \n    <!-- Floating Add Button -->\n    <button class=\"add-collection-btn\" @click=\"openCreateCollectionModal\">\n      <font-awesome-icon icon=\"plus\" />\n    </button>\n    \n    <!-- Tab Bar -->\n    <TabBar />\n    \n    <!-- Collection Modal -->\n    <CollectionModal\n      :visible=\"showCollectionModal\"\n      :collection=\"editingCollection\"\n      @close=\"closeCollectionModal\"\n      @submit=\"handleCollectionSubmit\"\n    />\n    \n    <!-- Subtask Modal -->\n    <SubtaskModal\n      :visible=\"showSubtaskModal\"\n      :collection-id=\"currentCollectionId\"\n      :subtask=\"editingSubtask\"\n      @close=\"closeSubtaskModal\"\n      @submit=\"handleSubtaskSubmit\"\n    />\n  </div>\n</template>\n\n<script>\nimport CollectionCard from '../components/task-collections/CollectionCard.vue'\nimport CollectionModal from '../components/task-collections/CollectionModal.vue'\nimport SubtaskModal from '../components/task-collections/SubtaskModal.vue'\nimport TabBar from '../components/common/TabBar.vue'\nimport LoadingSpinner from '../components/common/LoadingSpinner.vue'\nimport api from '@/api'\nimport collectionApi from '@/api/collections'\n\nexport default {\n  name: 'TaskCollections',\n  components: {\n    CollectionCard,\n    CollectionModal,\n    SubtaskModal,\n    TabBar,\n    LoadingSpinner\n  },\n  data() {\n    return {\n      collections: [],\n      loading: true,\n      \n      // Modal states\n      showCollectionModal: false,\n      showSubtaskModal: false,\n      editingCollection: null,\n      editingSubtask: null,\n      currentCollectionId: ''\n    }\n  },\n  computed: {\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      return user?._id || user?.id || null\n    }\n  },\n  async mounted() {\n    await this.loadCollections();\n  },\n  methods: {\n    // \n    async loadCollections() {\n      try {\n        this.loading = true;\n        console.log(' [TaskCollections] ...');\n        \n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn(' [TaskCollections] ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n        \n        //   \n        const response = await collectionApi.getCollections({ userId });\n        console.log(' [TaskCollections] API:', response);\n        \n        if (response && response.data && response.data.success) {\n          this.collections = response.data.data || [];\n          console.log(' [TaskCollections] :', this.collections.length);\n        } else {\n          const message = response?.data?.message || ''\n          console.error(' [TaskCollections] :', message);\n          this.$toast?.error(message || '');\n        }\n      } catch (error) {\n        console.error(' [TaskCollections] :', error);\n        this.$toast?.error('');\n      } finally {\n        this.loading = false;\n      }\n    },\n    \n    // \n    openCreateCollectionModal() {\n      this.editingCollection = null;\n      this.showCollectionModal = true;\n    },\n    \n    closeCollectionModal() {\n      this.showCollectionModal = false;\n      this.editingCollection = null;\n    },\n    \n    async handleCollectionSubmit(collectionData) {\n      try {\n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn(' [TaskCollections] ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n        \n        let response;\n        //  userId\n        const payload = { ...collectionData, userId }\n        if (collectionData._id) {\n          // \n          response = await collectionApi.updateCollection(collectionData._id, payload);\n        } else {\n          // \n          response = await collectionApi.createCollection(payload);\n        }\n        \n        if (response.data.success) {\n          this.$toast?.success(collectionData._id ? '' : '');\n          this.closeCollectionModal();\n          await this.loadCollections(); // \n        } else {\n          this.$toast?.error(response.data.message || '');\n        }\n      } catch (error) {\n        console.error(':', error);\n        this.$toast?.error('');\n      }\n    },\n    \n    // \n    openAddSubtaskModal(collectionId) {\n      this.currentCollectionId = collectionId;\n      // collectionId\n      this.editingSubtask = {\n        title: '',\n        collectionId: collectionId,\n        priority: 'medium',\n        completed: false\n      };\n      this.showSubtaskModal = true;\n    },\n    \n    openEditSubtaskModal(subtask) {\n      this.currentCollectionId = subtask.collectionId;\n      this.editingSubtask = subtask;\n      this.showSubtaskModal = true;\n    },\n    \n    closeSubtaskModal() {\n      this.showSubtaskModal = false;\n      this.editingSubtask = null;\n      this.currentCollectionId = '';\n    },\n    \n    async handleSubtaskSubmit(subtaskData) {\n      try {\n        console.log(' [TaskCollections] :', subtaskData);\n        \n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn(' [TaskCollections] ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n        \n        // userId\n        const taskPayload = {\n          ...subtaskData,\n          collectionId: this.currentCollectionId,\n          userId\n        };\n        \n        let response;\n        if (subtaskData._id) {\n          // \n          console.log(' [TaskCollections] :', subtaskData._id);\n          response = await api.tasks.updateTask(subtaskData._id, taskPayload);\n        } else {\n          // \n          console.log(' [TaskCollections] ');\n          response = await api.tasks.createTask(taskPayload);\n        }\n        \n        console.log(' [TaskCollections] API:', response);\n        \n        if (response.success) {\n          const message = subtaskData._id ? '' : '';\n          console.log(' [TaskCollections]', message);\n          this.$toast?.success(message);\n          \n          // \n          this.closeSubtaskModal();\n          \n          // \n          console.log(' [TaskCollections] ');\n          await this.loadCollections();\n        } else {\n          console.error(' [TaskCollections] :', response.message);\n          this.$toast?.error(response.message || '');\n        }\n      } catch (error) {\n        console.error(' [TaskCollections] :', error);\n        this.$toast?.error('');\n      }\n    },\n    \n    async handleToggleSubtask(subtaskId) {\n      try {\n        console.log(' [TaskCollections] :', subtaskId);\n        \n        // \n        let targetSubtask = null;\n        \n        for (const collection of this.collections) {\n          if (collection.subtasks) {\n            const subtask = collection.subtasks.find(st => st._id === subtaskId);\n            if (subtask) {\n              targetSubtask = subtask;\n              break;\n            }\n          }\n        }\n        \n        if (!targetSubtask) {\n          console.error(' [TaskCollections] :', subtaskId);\n          return;\n        }\n        \n        const response = await api.tasks.toggleTaskStatus(subtaskId);\n        console.log(' [TaskCollections] :', response);\n        \n        // \n        targetSubtask.completed = !targetSubtask.completed;\n      } catch (error) {\n        console.error(' [TaskCollections] :', error);\n      }\n    },\n    \n    handleToggleExpansion(collectionId) {\n      // /\n      console.log(' [TaskCollections] :', collectionId)\n    }\n  }\n}\n</script>\n\n<style scoped>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.collections-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: #f8f9fe;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n}\n\n.header {\n  background: #fff;\n  padding: 16px 30px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\n  position: sticky;\n  top: 0;\n  z-index: 100;\n}\n\n.header-title {\n  font-size: 32px;\n  font-weight: 700;\n  color: #1d1d1f;\n}\n\n.create-collection-btn {\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  background: linear-gradient(135deg, #4a90e2, #007aff);\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: 18px;\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\n}\n\n.create-collection-btn:hover {\n  transform: translateY(-2px) scale(1.1);\n  box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);\n}\n\n.content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px 16px;\n  padding-bottom: 120px; /*  */\n}\n\n.loading-container {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #8e8e93;\n}\n\n.empty-icon {\n  font-size: 48px;\n  margin-bottom: 16px;\n  color: #d1d1d6;\n}\n\n.empty-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 8px;\n}\n\n.empty-subtitle {\n  font-size: 14px;\n  color: #8e8e93;\n}\n\n.add-collection-btn {\n  position: fixed;\n  bottom: 100px;\n  right: 30px;\n  width: 60px;\n  height: 60px;\n  border-radius: 30px;\n  background: linear-gradient(135deg, #4a90e2, #007aff);\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 100;\n  font-size: 24px;\n}\n\n.add-collection-btn:hover {\n  transform: translateY(-3px) scale(1.1);\n  box-shadow: 0 8px 25px rgba(74, 144, 226, 0.5);\n}\n\n/*  */\n@media (max-width: 768px) {\n  .header {\n    padding: 12px 20px;\n  }\n  \n  .header-title {\n    font-size: 28px;\n  }\n  \n  .content {\n    padding: 16px 12px;\n    padding-bottom: 120px;\n  }\n  \n  .add-collection-btn {\n    bottom: 90px;\n    right: 20px;\n    width: 56px;\n    height: 56px;\n    font-size: 22px;\n  }\n}\n\n/*  */\n@media (max-width: 480px) {\n  .header {\n    padding: 10px 16px;\n  }\n  \n  .header-title {\n    font-size: 24px;\n  }\n  \n  .create-collection-btn {\n    width: 32px;\n    height: 32px;\n    font-size: 16px;\n  }\n  \n  .content {\n    padding: 12px 8px;\n  }\n}\n</style>","<template>\n  <div class=\"collection-card\">\n    <div class=\"collection-header\" @click=\"toggleExpansion\">\n      <div class=\"collection-info\">\n        <div class=\"collection-name\">{{ collection.name }}</div>\n        <div class=\"collection-meta\">\n          <span>{{ collection.subtasks?.length || 0 }}</span>\n          <div class=\"collection-progress\">\n            <span>{{ progressPercentage }}%</span>\n            <div class=\"progress-bar\">\n              <div \n                class=\"progress-fill\" \n                :style=\"{ width: progressPercentage + '%' }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"collection-actions\">\n        <button \n          class=\"add-subtask-btn\" \n          @click.stop=\"$emit('add-subtask', collection._id)\"\n          title=\"\"\n        >\n          <font-awesome-icon icon=\"plus\" />\n        </button>\n        <button \n          class=\"expand-btn\"\n          :class=\"{ expanded: isExpanded }\"\n        >\n          <font-awesome-icon icon=\"chevron-down\" />\n        </button>\n      </div>\n    </div>\n    \n    <div \n      class=\"subtasks\" \n      :class=\"{ expanded: isExpanded }\"\n      :style=\"{ maxHeight: isExpanded ? (collection.subtasks?.length * 70 + 20) + 'px' : '0px' }\"\n    >\n      <template v-if=\"collection.subtasks && collection.subtasks.length > 0\">\n        <SubtaskItem\n          v-for=\"subtask in collection.subtasks\"\n          :key=\"subtask._id\"\n          :subtask=\"subtask\"\n          @toggle-subtask=\"$emit('toggle-subtask', $event)\"\n        />\n      </template>\n      <div v-else class=\"empty-state\">\n        <div class=\"empty-icon\"></div>\n        <div class=\"empty-title\"></div>\n        <div class=\"empty-subtitle\"> + </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubtaskItem from './SubtaskItem.vue'\n\nexport default {\n  name: 'CollectionCard',\n  components: {\n    SubtaskItem\n  },\n  props: {\n    collection: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['toggle-expansion', 'add-subtask', 'toggle-subtask'],\n  data() {\n    return {\n      isExpanded: false\n    }\n  },\n  computed: {\n    progressPercentage() {\n      if (!this.collection.subtasks || this.collection.subtasks.length === 0) {\n        return 0;\n      }\n      const completed = this.collection.subtasks.filter(subtask => subtask.completed).length;\n      return Math.round((completed / this.collection.subtasks.length) * 100);\n    }\n  },\n  methods: {\n    toggleExpansion() {\n      this.isExpanded = !this.isExpanded;\n      this.$emit('toggle-expansion', this.collection._id, this.isExpanded);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.collection-card {\n  background: white;\n  border-radius: 20px;\n  padding: 20px 24px;\n  margin-bottom: 16px;\n  box-shadow: 0 4px 8px rgba(0,0,0,0.04), 0 10px 24px rgba(60, 90, 130, 0.08);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.collection-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 16px rgba(0,0,0,0.06), 0 20px 40px rgba(60, 90, 130, 0.12);\n}\n\n.collection-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  cursor: pointer;\n  position: relative;\n}\n\n.collection-info {\n  flex: 1;\n}\n\n.collection-name {\n  font-size: 20px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 6px;\n}\n\n.collection-meta {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 14px;\n  color: #6b7280;\n}\n\n.collection-progress {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.progress-bar {\n  width: 60px;\n  height: 4px;\n  background: #e5e7eb;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #4a90e2, #007aff);\n  border-radius: 2px;\n  transition: width 0.4s ease-in-out;\n}\n\n.collection-actions {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.add-subtask-btn {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: linear-gradient(135deg, #4a90e2, #007aff);\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: 14px;\n  box-shadow: 0 2px 8px rgba(74, 144, 226, 0.3);\n}\n\n.add-subtask-btn:hover {\n  transform: translateY(-1px) scale(1.1);\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.4);\n}\n\n.expand-btn {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: transparent;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  color: #007aff;\n}\n\n.expand-btn:hover {\n  background: #f8f9fe;\n  transform: scale(1.1);\n}\n\n.expand-btn.expanded {\n  transform: rotate(180deg);\n}\n\n.subtasks {\n  max-height: 0;\n  overflow: hidden;\n  transition: max-height 0.4s ease-in-out;\n}\n\n.subtasks.expanded {\n  max-height: 500px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 40px 20px;\n  color: #8e8e93;\n}\n\n.empty-icon {\n  font-size: 32px;\n  margin-bottom: 12px;\n  color: #d1d1d6;\n}\n\n.empty-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 6px;\n}\n\n.empty-subtitle {\n  font-size: 14px;\n  color: #8e8e93;\n}\n</style>","<template>\n  <div class=\"subtask-item\">\n    <div \n      class=\"subtask-checkbox\" \n      :class=\"{ completed: subtask.completed }\"\n      @click=\"$emit('toggle-subtask', subtask._id)\"\n    >\n      <font-awesome-icon \n        v-if=\"subtask.completed\" \n        icon=\"check\" \n        class=\"check-icon\" \n      />\n    </div>\n    <div class=\"subtask-content\">\n      <div class=\"subtask-name\">{{ subtask.title }}</div>\n      <div class=\"subtask-time\">{{ formatTime(subtask.estimatedTime) || '' }}</div>\n    </div>\n    <div \n      class=\"subtask-priority\" \n      :class=\"`priority-${subtask.priority}`\"\n    >\n      {{ priorityLabels[subtask.priority] || '' }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SubtaskItem',\n  props: {\n    subtask: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['toggle-subtask'],\n  data() {\n    return {\n      priorityLabels: {\n        low: '',\n        medium: '', \n        high: ''\n      }\n    }\n  },\n  methods: {\n    formatTime(minutes) {\n      if (!minutes) return ''\n      if (minutes < 60) return `${minutes} `\n      const hours = Math.floor(minutes / 60)\n      const remaining = minutes % 60\n      return remaining === 0 ? `${hours} ` : `${hours}  ${remaining} `\n    }\n  }\n}\n</script>\n\n<style scoped>\n.subtask-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 16px 0;\n  border-bottom: 0.5px solid #f2f2f7;\n}\n\n.subtask-item:last-child {\n  border-bottom: none;\n}\n\n.subtask-checkbox {\n  width: 22px;\n  height: 22px;\n  border-radius: 11px;\n  border: 2px solid #007aff;\n  background: transparent;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  flex-shrink: 0;\n}\n\n.subtask-checkbox.completed {\n  background: linear-gradient(135deg, #4a90e2, #007aff);\n  border-color: transparent;\n  transform: scale(1.1);\n}\n\n.subtask-checkbox:hover {\n  transform: scale(1.05);\n}\n\n.subtask-content {\n  flex: 1;\n}\n\n.subtask-name {\n  font-size: 16px;\n  font-weight: 500;\n  color: #1d1d1f;\n  margin-bottom: 2px;\n}\n\n.subtask-time {\n  font-size: 14px;\n  color: #6b7280;\n}\n\n.subtask-priority {\n  padding: 6px 10px;\n  border-radius: 12px;\n  font-size: 11px;\n  font-weight: 600;\n  flex-shrink: 0;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.priority-high {\n  background: #ffebee;\n  color: #c62828;\n}\n\n.priority-medium {\n  background: #fff3e0;\n  color: #f57c00;\n}\n\n.priority-low {\n  background: #e8f5e9;\n  color: #2e7d32;\n}\n\n.check-icon {\n  font-size: 12px;\n}\n</style>\n ","import { render } from \"./SubtaskItem.vue?vue&type=template&id=4571580b&scoped=true\"\nimport script from \"./SubtaskItem.vue?vue&type=script&lang=js\"\nexport * from \"./SubtaskItem.vue?vue&type=script&lang=js\"\n\nimport \"./SubtaskItem.vue?vue&type=style&index=0&id=4571580b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4571580b\"]])\n\nexport default __exports__","import { render } from \"./CollectionCard.vue?vue&type=template&id=1161bf3c&scoped=true\"\nimport script from \"./CollectionCard.vue?vue&type=script&lang=js\"\nexport * from \"./CollectionCard.vue?vue&type=script&lang=js\"\n\nimport \"./CollectionCard.vue?vue&type=style&index=0&id=1161bf3c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1161bf3c\"]])\n\nexport default __exports__","<template>\n  <div v-if=\"visible\" class=\"modal\" @click=\"closeModal\">\n    <div class=\"modal-content\" @click.stop>\n      <div class=\"modal-header\">{{ isEditing ? '' : '' }}</div>\n      \n      <form @submit.prevent=\"handleSubmit\">\n        <div class=\"form-group\">\n          <label for=\"collectionName\"></label>\n          <input\n            id=\"collectionName\"\n            type=\"text\"\n            class=\"modal-input\"\n            v-model=\"formData.name\"\n            placeholder=\"\"\n            maxlength=\"50\"\n            required\n            ref=\"nameInput\"\n          />\n        </div>\n        \n        <div class=\"modal-actions\">\n          <button type=\"button\" class=\"modal-btn cancel\" @click=\"closeModal\">\n            \n          </button>\n          <button type=\"submit\" class=\"modal-btn confirm\" :disabled=\"!formData.name.trim()\">\n            {{ isEditing ? '' : '' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CollectionModal',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    collection: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['close', 'submit'],\n  data() {\n    return {\n      formData: {\n        name: ''\n      }\n    }\n  },\n  computed: {\n    isEditing() {\n      return this.collection !== null;\n    }\n  },\n  watch: {\n    visible(newVal) {\n      if (newVal) {\n        this.resetForm();\n        this.$nextTick(() => {\n          this.$refs.nameInput?.focus();\n        });\n        // ESC\n        document.addEventListener('keydown', this.handleKeyDown);\n      } else {\n        // ESC\n        document.removeEventListener('keydown', this.handleKeyDown);\n      }\n    },\n    collection: {\n      handler(newVal) {\n        if (newVal) {\n          this.formData.name = newVal.name || '';\n        } else {\n          this.resetForm();\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    resetForm() {\n      if (this.collection) {\n        this.formData.name = this.collection.name || '';\n      } else {\n        this.formData.name = '';\n      }\n    },\n    handleSubmit() {\n      if (!this.formData.name.trim()) {\n        return;\n      }\n      \n      const submitData = {\n        name: this.formData.name.trim()\n      };\n      \n      if (this.isEditing) {\n        submitData._id = this.collection._id;\n      }\n      \n      this.$emit('submit', submitData);\n    },\n    closeModal() {\n      this.$emit('close');\n    },\n    handleKeyDown(event) {\n      if (event.key === 'Escape') {\n        this.closeModal();\n      }\n    }\n  },\n  beforeUnmount() {\n    // \n    document.removeEventListener('keydown', this.handleKeyDown);\n  }\n}\n</script>\n\n<style scoped>\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(10px);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: fadeIn 0.3s ease-out;\n}\n\n.modal-content {\n  background: white;\n  border-radius: 20px;\n  padding: 32px;\n  width: 90%;\n  max-width: 380px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n  animation: slideUp 0.3s ease-out;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.modal-header {\n  font-size: 20px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 24px;\n  text-align: center;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  font-size: 14px;\n  font-weight: 500;\n  color: #1d1d1f;\n  margin-bottom: 8px;\n}\n\n.modal-input {\n  width: 100%;\n  padding: 16px;\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  font-size: 16px;\n  font-family: 'Inter', sans-serif;\n  transition: border-color 0.2s;\n  box-sizing: border-box;\n}\n\n.modal-textarea {\n  width: 100%;\n  padding: 16px;\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  font-size: 16px;\n  font-family: 'Inter', sans-serif;\n  transition: border-color 0.2s;\n  box-sizing: border-box;\n  resize: vertical;\n  min-height: 80px;\n}\n\n.modal-input:focus,\n.modal-textarea:focus {\n  outline: none;\n  border-color: #007aff;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 24px;\n}\n\n.modal-btn {\n  flex: 1;\n  padding: 12px 24px;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.modal-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.modal-btn.cancel {\n  background: #f3f4f6;\n  color: #6b7280;\n}\n\n.modal-btn.cancel:hover:not(:disabled) {\n  background: #e5e7eb;\n}\n\n.modal-btn.confirm {\n  background: linear-gradient(135deg, #4a90e2, #007aff);\n  color: white;\n}\n\n.modal-btn.confirm:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideUp {\n  from { \n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to { \n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>","import { render } from \"./CollectionModal.vue?vue&type=template&id=5b2698ec&scoped=true\"\nimport script from \"./CollectionModal.vue?vue&type=script&lang=js\"\nexport * from \"./CollectionModal.vue?vue&type=script&lang=js\"\n\nimport \"./CollectionModal.vue?vue&type=style&index=0&id=5b2698ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b2698ec\"]])\n\nexport default __exports__","<template>\n  <teleport to=\"body\">\n    <transition name=\"modal-fade\">\n      <div v-if=\"visible\" class=\"modal-overlay\" @click=\"handleClose\">\n        <transition name=\"modal-slide\">\n          <div class=\"modal-container\" @click.stop>\n            <div class=\"modal-header\">\n              <h2 class=\"modal-title\">{{ isEditing ? '' : '' }}</h2>\n              <button class=\"close-button\" @click=\"handleClose\">\n                <font-awesome-icon icon=\"times\" />\n              </button>\n            </div>\n            \n            <form @submit.prevent=\"handleSubmit\" class=\"modal-form\">\n              <!--  -->\n              <div class=\"form-section\">\n                <label class=\"form-label\"></label>\n                <input \n                  v-model=\"formData.title\"\n                  type=\"text\"\n                  class=\"form-input\"\n                  placeholder=\"\"\n                  maxlength=\"50\"\n                  required\n                  ref=\"titleInput\"\n                >\n              </div>\n\n              <!--  -->\n              <div class=\"form-section\">\n                <label class=\"form-label\"></label>\n                <div class=\"quadrant-selector\">\n                  <div\n                    v-for=\"quadrant in quadrants\"\n                    :key=\"quadrant.id\"\n                    class=\"quadrant-option\"\n                    :class=\"{ active: formData.quadrant === quadrant.id }\"\n                    @click=\"formData.quadrant = quadrant.id\"\n                  >\n                    <div class=\"quadrant-color\" :style=\"{ backgroundColor: quadrant.color }\"></div>\n                    <span>{{ quadrant.label }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <!--  -->\n              <div class=\"form-section\">\n                <label class=\"form-label\"> <span class=\"optional-label\"></span></label>\n                <div class=\"time-row\">\n                  <input \n                    v-model=\"formData.date\"\n                    type=\"date\"\n                    class=\"form-input date-input\"\n                    :min=\"today\"\n                  >\n                  <input \n                    v-model=\"formData.time\"\n                    type=\"time\"\n                    class=\"form-input time-input\"\n                  >\n                </div>\n              </div>\n\n              <!--  -->\n              <div class=\"form-actions\">\n                <button type=\"button\" class=\"btn-secondary\" @click=\"handleClose\">\n                  \n                </button>\n                <button type=\"submit\" class=\"btn-primary\" :disabled=\"!formData.title.trim()\">\n                  {{ isEditing ? '' : '' }}\n                </button>\n              </div>\n            </form>\n          </div>\n        </transition>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script>\nexport default {\n  name: 'SubtaskModal',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    collectionId: {\n      type: String,\n      required: true\n    },\n    subtask: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['close', 'submit'],\n  data() {\n    return {\n      formData: {\n        title: '',\n        date: new Date().toISOString().split('T')[0],\n        time: '',\n        quadrant: 2\n      },\n      quadrants: [\n        { id: 1, label: '', color: '#ff3b30' },\n        { id: 2, label: '', color: '#007aff' },\n        { id: 3, label: '', color: '#ff9500' },\n        { id: 4, label: '', color: '#34c759' }\n      ]\n    }\n  },\n  computed: {\n    isEditing() {\n      return this.subtask !== null;\n    },\n    today() {\n      return new Date().toISOString().split('T')[0];\n    }\n  },\n  watch: {\n    visible(newVal) {\n      if (newVal) {\n        this.resetForm();\n        this.$nextTick(() => {\n          this.$refs.titleInput?.focus();\n        });\n        // ESC\n        document.addEventListener('keydown', this.handleKeyDown);\n      } else {\n        // ESC\n        document.removeEventListener('keydown', this.handleKeyDown);\n      }\n    },\n    subtask: {\n      handler(newVal) {\n        if (newVal) {\n          this.formData.title = newVal.title || '';\n          this.formData.quadrant = newVal.quadrant || 2;\n          this.formData.date = newVal.date ? this.formatDateForInput(newVal.date) : new Date().toISOString().split('T')[0];\n          this.formData.time = newVal.time || '';\n        } else {\n          this.resetForm();\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    resetForm() {\n      if (this.subtask) {\n        this.formData.title = this.subtask.title || '';\n        this.formData.quadrant = this.subtask.quadrant || 2;\n        this.formData.date = this.subtask.date ? this.formatDateForInput(this.subtask.date) : new Date().toISOString().split('T')[0];\n        this.formData.time = this.subtask.time || '';\n      } else {\n        this.formData = {\n          title: '',\n          date: new Date().toISOString().split('T')[0],\n          time: '',\n          quadrant: 2\n        };\n      }\n    },\n    handleSubmit() {\n      if (!this.formData.title.trim()) {\n        return;\n      }\n      \n      console.log(' [SubtaskModal] :', this.formData);\n      \n      const submitData = {\n        title: this.formData.title.trim(),\n        quadrant: this.formData.quadrant,\n        date: this.formData.date,\n        time: this.formData.time,\n        collectionId: this.collectionId,\n        completed: false,\n        createdAt: new Date().toISOString(),\n        // timeBlockType\n        timeBlockType: this.getTimeBlockType(this.formData.time),\n        isScheduled: !!this.formData.time\n      };\n      \n      if (this.isEditing) {\n        submitData._id = this.subtask._id;\n      }\n      \n      console.log(' [SubtaskModal] :', submitData);\n      this.$emit('submit', submitData);\n    },\n    getTimeBlockType(time) {\n      if (!time) return 'unscheduled';\n      \n      const hour = parseInt(time.split(':')[0]);\n      if (hour >= 7 && hour < 12) {\n        return 'morning';\n      } else if (hour >= 12 && hour < 18) {\n        return 'afternoon';\n      } else if (hour >= 18 && hour < 24) {\n        return 'evening';\n      }\n      return 'unscheduled';\n    },\n    handleClose() {\n      console.log(' [SubtaskModal] ');\n      this.$emit('close');\n    },\n    handleKeyDown(event) {\n      if (event.key === 'Escape') {\n        this.handleClose();\n      }\n    },\n    formatDateForInput(date) {\n      if (!date) return '';\n      const d = new Date(date);\n      return d.toISOString().split('T')[0];\n    }\n  },\n  beforeUnmount() {\n    // \n    document.removeEventListener('keydown', this.handleKeyDown);\n  }\n}\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(10px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n}\n\n.modal-container {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 20px;\n  width: 90%;\n  max-width: 380px;\n  max-height: 85vh;\n  overflow: hidden;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 24px 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.modal-title {\n  font-size: 20px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin: 0;\n}\n\n.close-button {\n  width: 32px;\n  height: 32px;\n  border: none;\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: #8e8e93;\n}\n\n.close-button:hover {\n  background: rgba(0, 0, 0, 0.1);\n  color: #1d1d1f;\n}\n\n.modal-form {\n  padding: 0 24px 24px;\n  overflow-y: auto;\n}\n\n.form-section {\n  margin-bottom: 20px;\n}\n\n.form-label {\n  display: block;\n  font-size: 15px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin-bottom: 8px;\n}\n\n.form-input {\n  width: 100%;\n  padding: 12px 16px;\n  font-size: 16px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.8);\n  transition: all 0.2s ease;\n  color: #1d1d1f;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #007aff;\n  background: white;\n  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);\n}\n\n.form-input::placeholder {\n  color: #8e8e93;\n}\n\n/*  */\n.optional-label {\n  font-size: 12px;\n  color: #8e8e93;\n  font-weight: 400;\n  margin-left: 6px;\n}\n\n/*  */\n.time-row {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n}\n\n.date-input,\n.time-input {\n  flex: 1;\n}\n\n.date-input,\n.time-input {\n  -webkit-appearance: none;\n  appearance: none;\n  position: relative;\n  width: 100%;\n}\n\n.date-input::-webkit-calendar-picker-indicator,\n.time-input::-webkit-calendar-picker-indicator {\n  background: none;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n/*  */\n.quadrant-selector {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n}\n\n.quadrant-option {\n  padding: 12px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 12px;\n  background: rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 13px;\n  color: #1d1d1f;\n}\n\n.quadrant-option.active {\n  border-color: currentColor;\n  background: rgba(255, 255, 255, 1);\n  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);\n}\n\n.quadrant-color {\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  flex-shrink: 0;\n}\n\n/*  */\n.form-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 32px;\n  padding-top: 20px;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.btn-primary,\n.btn-secondary {\n  flex: 1;\n  padding: 14px 20px;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.btn-primary {\n  background: #007aff;\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: #0051d5;\n  transform: translateY(-1px);\n}\n\n.btn-primary:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.btn-secondary {\n  background: rgba(0, 0, 0, 0.05);\n  color: #1d1d1f;\n}\n\n.btn-secondary:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n/*  */\n.modal-fade-enter-active,\n.modal-fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-fade-enter-from,\n.modal-fade-leave-to {\n  opacity: 0;\n}\n\n.modal-slide-enter-active,\n.modal-slide-leave-active {\n  transition: all 0.3s ease;\n}\n\n.modal-slide-enter-from {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n\n.modal-slide-leave-to {\n  opacity: 0;\n  transform: scale(0.9) translateY(20px);\n}\n\n/*  */\n@media (max-width: 430px) {\n  .modal-container {\n    width: 95%;\n    margin: 20px;\n    max-height: 90vh;\n  }\n  \n  .modal-header {\n    padding: 16px 20px 12px;\n  }\n  \n  .modal-form {\n    padding: 0 20px 20px;\n  }\n  \n  .quadrant-selector {\n    grid-template-columns: 1fr;\n  }\n}\n</style>","import { render } from \"./SubtaskModal.vue?vue&type=template&id=28337f8e&scoped=true\"\nimport script from \"./SubtaskModal.vue?vue&type=script&lang=js\"\nexport * from \"./SubtaskModal.vue?vue&type=script&lang=js\"\n\nimport \"./SubtaskModal.vue?vue&type=style&index=0&id=28337f8e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28337f8e\"]])\n\nexport default __exports__","<template>\n  <div class=\"loading-container\" :class=\"{ overlay: isOverlay }\">\n    <div class=\"loading-spinner\">\n      <div class=\"spinner-circle\"></div>\n    </div>\n    <div v-if=\"text\" class=\"loading-text\">{{ text }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoadingSpinner',\n  props: {\n    text: {\n      type: String,\n      default: ''\n    },\n    isOverlay: {\n      type: Boolean,\n      default: false\n    }\n  }\n}\n</script>\n\n<style scoped>\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n}\n\n.loading-container.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.9);\n  backdrop-filter: blur(10px);\n  z-index: 1000;\n}\n\n.loading-spinner {\n  margin-bottom: 16px;\n}\n\n.spinner-circle {\n  width: 40px;\n  height: 40px;\n  border: 3px solid #f2f2f7;\n  border-top: 3px solid #007aff;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n.loading-text {\n  font-size: 16px;\n  color: #8e8e93;\n  text-align: center;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n</style>","import { render } from \"./LoadingSpinner.vue?vue&type=template&id=e2a19d38&scoped=true\"\nimport script from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingSpinner.vue?vue&type=script&lang=js\"\n\nimport \"./LoadingSpinner.vue?vue&type=style&index=0&id=e2a19d38&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2a19d38\"]])\n\nexport default __exports__","import { render } from \"./TaskCollections.vue?vue&type=template&id=1228216e&scoped=true\"\nimport script from \"./TaskCollections.vue?vue&type=script&lang=js\"\nexport * from \"./TaskCollections.vue?vue&type=script&lang=js\"\n\nimport \"./TaskCollections.vue?vue&type=style&index=0&id=1228216e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1228216e\"]])\n\nexport default __exports__","<template>\n  <div class=\"stats-page\">\n    <div class=\"content-scroll\">\n      <!--  -->\n      <section class=\"card overview\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon :icon=\"['far','calendar']\" /></span>\n            <span></span>\n          </div>\n          <button class=\"icon-btn\" aria-label=\"share\"><font-awesome-icon icon=\"share-nodes\" /></button>\n        </div>\n        <div class=\"metrics three\">\n          <div class=\"metric\">\n            <div class=\"metric-label\"></div>\n            <div class=\"metric-value\"><span class=\"num\">{{ totalTimes }}</span></div>\n          </div>\n          <div class=\"metric\">\n            <div class=\"metric-label\"></div>\n            <div class=\"metric-value\"><span class=\"num\">{{ totalMinutes }}</span><span class=\"unit\"></span></div>\n          </div>\n          <div class=\"metric\">\n            <div class=\"metric-label\"></div>\n            <div class=\"metric-value\"><span class=\"num\">{{ avgDailyMinutes }}</span><span class=\"unit\"></span></div>\n          </div>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"card today\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon :icon=\"['far','calendar-days']\" /></span>\n            <span></span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftDay(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedDate }}</span>\n            <button class=\"icon-btn\" @click=\"shiftDay(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n        </div>\n        <div class=\"metrics two\">\n          <div class=\"metric\">\n            <div class=\"metric-label\"></div>\n            <div class=\"metric-value\"><span class=\"num\">{{ todayTimes }}</span></div>\n          </div>\n          <div class=\"metric\">\n            <div class=\"metric-label\"></div>\n            <div class=\"metric-value\"><span class=\"num\">{{ todayMinutes }}</span><span class=\"unit\"></span></div>\n          </div>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"card dist\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon icon=\"chart-column\" /></span>\n            <span></span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftDay(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedDate }}</span>\n            <button class=\"icon-btn\" @click=\"shiftDay(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n          <button class=\"icon-btn\" aria-label=\"share\"><font-awesome-icon icon=\"share-nodes\" /></button>\n        </div>\n        <div class=\"tabs\">\n          <button :class=\"['tab', activeRange==='day'?'active':'']\" @click=\"activeRange='day'\"></button>\n          <button :class=\"['tab', activeRange==='week'?'active':'']\" @click=\"activeRange='week'\"></button>\n          <button :class=\"['tab', activeRange==='month'?'active':'']\" @click=\"activeRange='month'\"></button>\n          <button :class=\"['tab', activeRange==='custom'?'active':'']\" @click=\"activeRange='custom'\"></button>\n        </div>\n        <div class=\"empty\">\n          <div class=\"empty-face\"></div>\n          <div class=\"empty-title\"></div>\n          <div class=\"empty-sub\"></div>\n          <button class=\"primary-btn\"></button>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"card bars\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon icon=\"chart-simple\" /></span>\n            <span></span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftMonth(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedMonth }}</span>\n            <button class=\"icon-btn\" @click=\"shiftMonth(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n        </div>\n        <div class=\"bar-chart\">\n          <div class=\"y-scale\">10</div>\n          <div class=\"bars-wrap\">\n            <div\n              v-for=\"(h, i) in hourlyBars\"\n              :key=\"i\"\n              class=\"bar\"\n              :style=\"{ height: Math.round(h*8) + 'px' }\"\n            ></div>\n          </div>\n          <div class=\"x-labels\">\n            <span v-for=\"h in 12\" :key=\"h\">{{ (h-1)*2 }}</span>\n          </div>\n        </div>\n      </section>\n\n      <!--  -->\n      <section class=\"card line\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon :icon=\"['far','calendar']\" /></span>\n            <span></span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftMonth(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedMonth }}</span>\n            <button class=\"icon-btn\" @click=\"shiftMonth(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n          <button class=\"icon-btn\" aria-label=\"share\"><font-awesome-icon icon=\"share-nodes\" /></button>\n        </div>\n        <div class=\"line-chart\">\n          <svg :viewBox=\"'0 0 '+chartW+' '+chartH\" preserveAspectRatio=\"none\">\n            <defs>\n              <linearGradient id=\"area\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"0%\" stop-color=\"#4c8dff\" stop-opacity=\"0.35\"/>\n                <stop offset=\"100%\" stop-color=\"#4c8dff\" stop-opacity=\"0\"/>\n              </linearGradient>\n            </defs>\n            <path :d=\"areaPath\" fill=\"url(#area)\" />\n            <polyline :points=\"polyPoints\" fill=\"none\" stroke=\"#4c8dff\" stroke-width=\"2\"/>\n          </svg>\n          <div class=\"y-scale\">10</div>\n        </div>\n      </section>\n    </div>\n\n    <TabBar />\n  </div>\n</template>\n\n<script>\nimport TabBar from '../components/common/TabBar.vue'\nimport api from '../api'\n\nexport default {\n  name: 'StatisticsView',\n  components: { TabBar },\n  data() {\n    const now = new Date()\n    return {\n      dayCursor: new Date(now.getFullYear(), now.getMonth(), now.getDate()),\n      monthCursor: new Date(now.getFullYear(), now.getMonth(), 1),\n      activeRange: 'day',\n      hourlyBars: Array.from({length:24},()=>0),\n      lineData: [],\n      chartW: 320,\n      chartH: 140,\n      // \n      totalTimes: 0,\n      totalMinutes: 0,\n      avgDailyMinutes: 0,\n      todayTimes: 0,\n      todayMinutes: 0\n    }\n  },\n  computed: {\n    formattedDate() {\n      const y = this.dayCursor.getFullYear()\n      const m = String(this.dayCursor.getMonth() + 1).padStart(2, '0')\n      const d = String(this.dayCursor.getDate()).padStart(2, '0')\n      return `${y}-${m}-${d}`\n    },\n    formattedMonth() {\n      const y = this.monthCursor.getFullYear()\n      const m = String(this.monthCursor.getMonth() + 1).padStart(2, '0')\n      return `${y}${m}`\n    },\n    polyPoints() {\n      const n = this.lineData.length\n      const stepX = this.chartW / (n - 1 || 1)\n      const maxY = Math.max(...this.lineData, 10)\n      return this.lineData\n        .map((v, i) => {\n          const x = i * stepX\n          const y = this.chartH - (v / maxY) * (this.chartH - 4) - 2\n          return `${x},${y}`\n        })\n        .join(' ')\n    },\n    areaPath() {\n      const n = this.lineData.length\n      if (n === 0) return ''\n      const points = this.polyPoints.split(' ')\n      const first = points[0]\n      const last = points[points.length - 1]\n      return `M ${first} L ${points.join(' ')} L ${last.split(',')[0]},${this.chartH} L ${first.split(',')[0]},${this.chartH} Z`\n    }\n  },\n  created() {\n    this.loadAll()\n  },\n  methods: {\n    shiftDay(delta) {\n      const d = new Date(this.dayCursor)\n      d.setDate(d.getDate() + delta)\n      this.dayCursor = d\n      this.loadToday()\n    },\n    shiftMonth(delta) {\n      const d = new Date(this.monthCursor)\n      d.setMonth(d.getMonth() + delta)\n      this.monthCursor = d\n      this.loadMonth()\n    },\n    async loadAll() {\n      await Promise.all([this.loadOverview(), this.loadToday(), this.loadMonth()])\n    },\n    // helpers\n    toISOStart(date) {\n      const d = new Date(date)\n      d.setHours(0,0,0,0)\n      return d.toISOString()\n    },\n    toISOEnd(date) {\n      const d = new Date(date)\n      d.setHours(0,0,0,0)\n      d.setDate(d.getDate() + 1)\n      return d.toISOString()\n    },\n    minutesFromSeconds(s) {\n      const secs = Number(s || 0)\n      return Math.round(secs / 60)\n    },\n    // \n    async loadOverview() {\n      try {\n        const res = await api.pomodoros.getPomodoroStats({})\n        const data = res?.data || res?.data?.data || res || {}\n        const totalSeconds = Number(\n          data.totalFocusSeconds ?? data.totalSeconds ?? data.totalFocusTime ?? 0\n        )\n        const totalTimes = Number(\n          data.totalSessions ?? data.total ?? data.count ?? 0\n        )\n        // 30\n        const avgDailySeconds = Number(\n          data.avgDailyFocusSeconds ?? data.avgDailySeconds ?? 0\n        )\n        let avgDaily = this.minutesFromSeconds(avgDailySeconds)\n        if (!avgDaily) {\n          // 30\n          avgDaily = Math.round(this.minutesFromSeconds(totalSeconds) / 30)\n        }\n        this.totalTimes = totalTimes\n        this.totalMinutes = this.minutesFromSeconds(totalSeconds)\n        this.avgDailyMinutes = avgDaily\n      } catch (_) {\n        // \n      }\n    },\n    // \n    async loadToday() {\n      try {\n        const start = this.toISOStart(this.dayCursor)\n        const end = this.toISOEnd(this.dayCursor)\n        const res = await api.pomodoros.getAllPomodoros({ startDate: start, endDate: end })\n        const list = res?.data || res?.data?.data || res || []\n        const totalSeconds = list.reduce((sum, r) => {\n          const s = Number(r?.actualFocusTime ?? r?.duration ?? 0)\n          return sum + (isFinite(s) ? s : 0)\n        }, 0)\n        this.todayTimes = list.length\n        this.todayMinutes = this.minutesFromSeconds(totalSeconds)\n      } catch (_) {\n        this.todayTimes = 0\n        this.todayMinutes = 0\n      }\n    },\n    //  24  + \n    async loadMonth() {\n      try {\n        const startOfMonth = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth(), 1)\n        const startISO = startOfMonth.toISOString()\n        const endISO = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth() + 1, 1).toISOString()\n        const res = await api.pomodoros.getAllPomodoros({ startDate: startISO, endDate: endISO })\n        const records = res?.data || res?.data?.data || res || []\n        // \n        const hours = Array.from({ length: 24 }, () => 0)\n        // \n        const daysInMonth = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth() + 1, 0).getDate()\n        const dayTotals = Array.from({ length: daysInMonth }, () => 0)\n        records.forEach(r => {\n          const created = new Date(r?.createdAt || r?.startTime || Date.now())\n          const h = created.getHours()\n          const d = created.getDate()\n          const sec = Number(r?.actualFocusTime ?? r?.duration ?? 0)\n          const mins = Math.max(0, Math.round(sec / 60))\n          if (isFinite(h)) hours[h] += mins\n          if (isFinite(d)) dayTotals[d - 1] += mins\n        })\n        //  0-10 \n        const maxHour = Math.max(...hours, 10)\n        this.hourlyBars = hours.map(m => (maxHour ? Math.min(10, (m / maxHour) * 10) : 0))\n        this.lineData = dayTotals\n      } catch (_) {\n        this.hourlyBars = Array.from({ length: 24 }, () => 0)\n        this.lineData = []\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.stats-page {\n  height: 100vh;\n  background: #f5f6fa;\n  display: flex;\n  flex-direction: column;\n}\n\n.content-scroll {\n  flex: 1;\n  overflow-y: auto;\n  padding-bottom: 96px;\n}\n\n.card {\n  background: #fff;\n  margin: 12px 16px;\n  padding: 16px;\n  border-radius: 16px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 700;\n  color: #1f2329;\n}\n\n.icon-box {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  background: #eef2ff;\n  color: #4c6fff;\n  font-size: 12px;\n}\n\n.icon-btn {\n  border: none;\n  background: transparent;\n  color: #7a7f87;\n  font-size: 18px;\n  padding: 4px 6px;\n}\n\n.nav-date {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  color: #7a7f87;\n}\n\n.date-text { color: #4b5563; font-weight: 600; }\n\n.metrics {\n  display: grid;\n  gap: 12px;\n  margin-top: 12px;\n}\n.metrics.two { grid-template-columns: repeat(2, 1fr); }\n.metrics.three { grid-template-columns: repeat(3, 1fr); }\n\n.metric { background: #f8fafc; border-radius: 12px; padding: 14px; text-align: center; }\n.metric-label { color: #89919c; font-size: 12px; margin-bottom: 6px; }\n.metric-value { color: #111827; }\n.metric-value .num { font-size: 26px; font-weight: 800; }\n.metric-value .unit { margin-left: 4px; color: #9aa3af; font-weight: 600; }\n\n.tabs { display: flex; gap: 10px; margin: 12px 0 4px; }\n.tab { padding: 6px 10px; border-radius: 10px; background: #f3f4f6; color: #6b7280; border: none; }\n.tab.active { background: #e8edff; color: #3b5bff; font-weight: 600; }\n\n.empty { text-align: center; padding: 24px 8px; color: #6b7280; }\n.empty-face { font-size: 28px; margin-bottom: 8px; }\n.empty-title { color: #1f2329; font-weight: 700; margin-bottom: 6px; }\n.empty-sub { font-size: 13px; margin-bottom: 14px; }\n.primary-btn { background: #4c6fff; color: #fff; border: none; padding: 10px 14px; border-radius: 12px; font-weight: 700; }\n\n.bar-chart { margin-top: 12px; }\n.bars-wrap { display: grid; grid-template-columns: repeat(24, 1fr); gap: 6px; align-items: end; height: 84px; background: linear-gradient(to top, rgba(76,141,255,0.05), transparent 40%); padding: 8px 6px; border-radius: 8px; }\n.bar { background: #9db7ff; border-radius: 4px; }\n.x-labels { display: grid; grid-template-columns: repeat(12, 1fr); margin-top: 6px; font-size: 12px; color: #9aa3af; }\n.y-scale { font-size: 12px; color: #9aa3af; margin-bottom: 6px; }\n\n.line-chart { margin-top: 12px; position: relative; }\n.line-chart svg { width: 100%; height: 140px; display: block; }\n\n@media (max-width: 430px) {\n  .card { margin: 12px; }\n  .metric-value .num { font-size: 24px; }\n}\n</style>","import { render } from \"./Stats.vue?vue&type=template&id=2fe09a88&scoped=true\"\nimport script from \"./Stats.vue?vue&type=script&lang=js\"\nexport * from \"./Stats.vue?vue&type=script&lang=js\"\n\nimport \"./Stats.vue?vue&type=style&index=0&id=2fe09a88&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fe09a88\"]])\n\nexport default __exports__","<template>\n  <div class=\"app-container\">\n    <!-- Header with Back Button -->\n      <div class=\"header\">\n        <div class=\"header-top\">\n          <div class=\"back-btn\" @click=\"goBack\" title=\"\">\n            <font-awesome-icon icon=\"arrow-left\" />\n          </div>\n          <h1></h1>\n          <div class=\"header-spacer\"></div>\n        </div>\n        <div class=\"task-name\">{{ taskName }}</div>\n      </div>\n\n    <!-- Timer Container -->\n    <div class=\"timer-container\">\n      <TimerCircle\n        :time-left=\"timeLeft\"\n        :total-time=\"modes[currentMode]\"\n        :label=\"modeLabels[currentMode]\"\n      />\n\n      <!-- Timer Controls -->\n      <div class=\"timer-controls\">\n        <div \n          v-if=\"!isRunning\" \n          class=\"control-btn start-btn\" \n          @click=\"startTimer\"\n        >\n          <font-awesome-icon icon=\"play\" />\n        </div>\n        <div \n          v-else \n          class=\"control-btn pause-btn playing\" \n          @click=\"pauseTimer\"\n        >\n          <font-awesome-icon icon=\"pause\" />\n        </div>\n        <div class=\"control-btn stop-btn\" @click=\"showStopModal\">\n          <font-awesome-icon icon=\"stop\" />\n        </div>\n      </div>\n\n      <!-- Session Info -->\n      <div class=\"session-info\">\n        <div class=\"session-count\">: {{ completedPomodoros }}</div>\n        <div class=\"session-message\">{{ sessionMessage }}</div>\n      </div>\n    </div>\n\n    <!-- Motivational Quote -->\n    <div class=\"motivational-quote\">\n      {{ currentQuote }}\n    </div>\n\n    <!-- Stop Modal -->\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"hideStopModal\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h3></h3>\n        </div>\n        <div class=\"modal-body\">\n          <p></p>\n          <div class=\"modal-time-info\">\n            <span>: {{ formatTime(modes[currentMode] - timeLeft) }}</span>\n          </div>\n        </div>\n        <div class=\"modal-actions\">\n          <button class=\"modal-btn abandon-btn\" @click=\"abandonTimer\">\n            <font-awesome-icon icon=\"times\" />\n            \n          </button>\n          <button class=\"modal-btn complete-btn\" @click=\"completeTimer\">\n            <font-awesome-icon icon=\"check\" />\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TimerCircle from '../components/pomodoro/TimerCircle.vue'\nimport pomodoroApi from '../api/pomodoros.js'\nimport api from '@/api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'PomodoroTimer',\n  components: {\n    TimerCircle\n  },\n  data() {\n    return {\n      timer: null,\n      timeLeft: 25 * 60, // 25 minutes in seconds\n      isRunning: false,\n      currentMode: 'pomodoro',\n      completedPomodoros: 0,\n      taskName: '',\n      sessionMessage: '',\n      showModal: false,\n      sessionStartTime: null,\n      currentSessionId: null,\n      fromRoute: '/task', // \n      modes: {\n        pomodoro: 25 * 60,\n        shortBreak: 5 * 60,\n        longBreak: 15 * 60\n      },\n      modeLabels: {\n        pomodoro: '',\n        shortBreak: '',\n        longBreak: ''\n      },\n      quotes: [\n        \"\",\n        \"\",\n        \"\",\n        \"\",\n        \"\",\n        \"\"\n      ],\n      currentQuote: ''\n    }\n  },\n  mounted() {\n    // Get task name from route query\n    const taskFromQuery = this.$route.query.task\n    if (taskFromQuery) {\n      this.taskName = typeof taskFromQuery === 'string' ? taskFromQuery : String(taskFromQuery)\n    }\n    \n    // \n    this.fromRoute = (this.$route.query.from && typeof this.$route.query.from === 'string') ? this.$route.query.from : '/task'\n    \n    // Set initial quote\n    this.currentQuote = this.getRandomQuote()\n    \n    // Set initial time\n    this.timeLeft = this.modes[this.currentMode]\n    \n    // \n    this.loadTodayPomodoros()\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer)\n    }\n  },\n  methods: {\n    startTimer() {\n      if (!this.isRunning) {\n        this.isRunning = true\n        this.sessionStartTime = new Date()\n        \n        this.timer = setInterval(() => {\n          this.timeLeft--\n          \n          if (this.timeLeft <= 0) {\n            this.onTimerComplete()\n          }\n        }, 1000)\n      }\n    },\n    pauseTimer() {\n      if (this.isRunning) {\n        clearInterval(this.timer)\n        this.isRunning = false\n      }\n    },\n    showStopModal() {\n      this.showModal = true\n    },\n    hideStopModal() {\n      this.showModal = false\n    },\n    async abandonTimer() {\n      // \n      await this.savePomodoroRecord(false)\n      // \n      playRandomVoice('criticize')\n      this.resetTimer()\n      this.hideStopModal()\n      this.goBack()\n    },\n    async completeTimer() {\n      // \n      await this.savePomodoroRecord(true)\n      // \n      playRandomVoice('encourage')\n      // taskId\n      try {\n        const taskId = this.$route.query.taskId\n        if (taskId) {\n          console.log(' [Pomodoro] :', taskId)\n          const resp = await api.tasks.updateTask(taskId, { completed: true })\n          console.log(' [Pomodoro] :', resp)\n        } else {\n          console.warn(' [Pomodoro] taskId')\n        }\n      } catch (e) {\n        console.error(' [Pomodoro] :', e)\n      }\n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++\n      }\n      this.resetTimer()\n      this.hideStopModal()\n      this.goBack()\n    },\n    resetTimer() {\n      clearInterval(this.timer)\n      this.isRunning = false\n      this.timeLeft = this.modes[this.currentMode]\n      this.sessionStartTime = null\n    },\n    setMode(mode) {\n      this.currentMode = mode\n      this.timeLeft = this.modes[mode]\n      this.resetTimer()\n    },\n    async onTimerComplete() {\n      clearInterval(this.timer)\n      this.isRunning = false\n      \n      // Play notification sound\n      this.playNotificationSound()\n      \n      // \n      await this.savePomodoroRecord(true)\n      // \n      playRandomVoice('encourage')\n      \n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++\n        \n        // Auto switch to break mode\n        const nextMode = this.completedPomodoros % 4 === 0 ? 'longBreak' : 'shortBreak'\n        this.sessionMessage = nextMode === 'longBreak' ? '' : ''\n        \n        setTimeout(() => {\n          this.setMode(nextMode)\n          // Auto start break timer\n          setTimeout(() => {\n            this.startTimer()\n          }, 1000)\n        }, 2000)\n      } else {\n        // Break finished, back to pomodoro\n        this.sessionMessage = ''\n        setTimeout(() => {\n          this.setMode('pomodoro')\n          // Auto start pomodoro timer\n          setTimeout(() => {\n            this.startTimer()\n          }, 1000)\n        }, 2000)\n      }\n      \n      // Update motivational quote\n      this.currentQuote = this.getRandomQuote()\n    },\n    playNotificationSound() {\n      // Create a simple beep sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)()\n      const oscillator = audioContext.createOscillator()\n      const gainNode = audioContext.createGain()\n      \n      oscillator.connect(gainNode)\n      gainNode.connect(audioContext.destination)\n      \n      oscillator.frequency.value = 800\n      oscillator.type = 'sine'\n      \n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime)\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5)\n      \n      oscillator.start(audioContext.currentTime)\n      oscillator.stop(audioContext.currentTime + 0.5)\n    },\n    getRandomQuote() {\n      return this.quotes[Math.floor(Math.random() * this.quotes.length)]\n    },\n    goBack() {\n      const target = this.fromRoute || '/task'\n      this.$router.replace(target)\n    },\n    formatTime(seconds) {\n      const minutes = Math.floor(seconds / 60)\n      const secs = seconds % 60\n      return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\n    },\n    async savePomodoroRecord(completed) {\n      if (!this.sessionStartTime) return\n      \n      const endTime = new Date()\n      const actualDuration = Math.floor((endTime - this.sessionStartTime) / 1000)\n      const plannedDuration = this.modes[this.currentMode]\n      \n      // \n      let completionStatus = 'normal'\n      if (!completed) {\n        completionStatus = 'abandoned'\n      } else if (actualDuration < plannedDuration) {\n        completionStatus = 'early'\n      }\n      \n      // \n      const y = endTime.getFullYear()\n      const m = String(endTime.getMonth() + 1).padStart(2, '0')\n      const d = String(endTime.getDate()).padStart(2, '0')\n      const localDate = `${y}-${m}-${d}`\n      const hour = endTime.getHours()\n      let timeBlockType = 'evening'\n      if (hour >= 7 && hour < 12) timeBlockType = 'morning'\n      else if (hour >= 12 && hour < 18) timeBlockType = 'afternoon'\n\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      const userId = user?._id || user?.id || null\n      if (!userId) {\n        console.warn(' [Pomodoro] ')\n        this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n        return\n      }\n\n      const pomodoroData = {\n        taskName: this.taskName,\n        mode: this.currentMode,\n        startTime: this.sessionStartTime.toISOString(),\n        endTime: endTime.toISOString(),\n        duration: plannedDuration, // \n        actualFocusTime: actualDuration, // \n        completed: completed,\n        completionStatus: completionStatus,\n        userId,\n        sourceRoute: this.fromRoute,\n        date: localDate,\n        timeBlockType,\n        taskId: this.$route.query.taskId || null\n      }\n      \n      try {\n        const response = await pomodoroApi.createPomodoro(pomodoroData)\n        console.log(':', response.data)\n        \n        // \n        this.sessionMessage = completed ? \n          (completionStatus === 'early' ? '' : '') : \n          ''\n      } catch (error) {\n        console.error(':', error)\n        this.sessionMessage = ''\n      }\n    },\n    async loadTodayPomodoros() {\n      try {\n        const user = JSON.parse(localStorage.getItem('user') || 'null')\n        const userId = user?._id || user?.id || null\n        if (!userId) {\n          console.warn(' [Pomodoro] ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n\n        const today = new Date()\n        const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n        const endOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1)\n        const response = await pomodoroApi.getAllPomodoros({\n          userId,\n          startDate: startOfDay.toISOString(),\n          endDate: endOfDay.toISOString()\n        })\n        const list = response.data?.data || response.data || []\n        const todayPomodoros = list.filter(p => p.mode === 'pomodoro' && p.completed)\n        this.completedPomodoros = todayPomodoros.length\n      } catch (error) {\n        console.error(':', error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .app-container {\n  width: 100%;\n  height: 100vh;\n  /*  */\n  background: \n    linear-gradient(115deg, rgba(45, 104, 240, 0.92) 0%, rgba(128, 75, 216, 0.90) 50%, rgba(180, 70, 190, 0.88) 100%);\n  display: flex;\n  flex-direction: column;\n  color: white;\n  overflow: hidden;\n  position: relative;\n}\n\n.header {\n  padding: 20px 24px;\n  position: relative;\n  z-index: 10;\n}\n\n.header-top {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.back-btn {\n  width: 44px;\n  height: 44px;\n  border-radius: 22px;\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-size: 18px;\n  color: white;\n}\n\n.back-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  transform: scale(1.05);\n}\n\n.back-btn:active {\n  transform: scale(0.95);\n}\n\n.header h1 {\n  font-size: 24px;\n  font-weight: 700;\n  margin: 0;\n  text-align: center;\n  flex: 1;\n}\n\n.header-spacer {\n  width: 44px;\n}\n\n.task-name {\n  font-size: 18px;\n  opacity: 0.9;\n  text-align: center;\n  font-weight: 500;\n}\n\n  .timer-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 24px;\n  position: relative;\n  z-index: 5;\n}\n\n.timer-controls {\n  display: flex;\n  gap: 32px;\n  margin-top: 50px;\n  align-items: center;\n}\n\n  .control-btn {\n  width: 70px;\n  height: 70px;\n  border-radius: 35px;\n  background: rgba(255, 255, 255, 0.18);\n  backdrop-filter: blur(20px);\n  border: 2px solid rgba(255, 255, 255, 0.30);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: 26px;\n  color: white;\n  box-shadow: 0 10px 34px rgba(0, 0, 0, 0.18);\n}\n\n.control-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n}\n\n.control-btn:active {\n  transform: translateY(0) scale(0.98);\n}\n\n  .start-btn {\n  background: rgba(76, 175, 80, 0.35);\n  border-color: rgba(76, 175, 80, 0.55);\n}\n\n.start-btn:hover {\n  background: rgba(76, 175, 80, 0.4);\n}\n\n  .pause-btn {\n  background: rgba(255, 193, 7, 0.35);\n  border-color: rgba(255, 193, 7, 0.55);\n}\n\n.pause-btn:hover {\n  background: rgba(255, 193, 7, 0.4);\n}\n\n  .stop-btn {\n  background: rgba(244, 67, 54, 0.35);\n  border-color: rgba(244, 67, 54, 0.55);\n}\n\n.stop-btn:hover {\n  background: rgba(244, 67, 54, 0.4);\n}\n\n.control-btn.playing {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);\n  }\n}\n\n.session-info {\n  margin-top: 30px;\n  text-align: center;\n  opacity: 0.9;\n}\n\n.session-count {\n  font-size: 18px;\n  margin-bottom: 8px;\n}\n\n.session-message {\n  font-size: 14px;\n  opacity: 0.7;\n}\n\n.motivational-quote {\n  position: absolute;\n  bottom: 120px;\n  left: 24px;\n  right: 24px;\n  text-align: center;\n  font-size: 16px;\n  opacity: 0.8;\n  font-style: italic;\n  padding: 0 20px;\n  z-index: 1;\n}\n\n/* Modal Styles */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.modal-content {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 24px;\n  padding: 32px;\n  max-width: 400px;\n  width: 100%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  animation: modalSlideIn 0.3s ease-out;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(30px) scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.modal-header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.modal-header h3 {\n  font-size: 22px;\n  font-weight: 700;\n  color: #2c3e50;\n  margin: 0;\n}\n\n.modal-body {\n  text-align: center;\n  margin-bottom: 32px;\n}\n\n.modal-body p {\n  font-size: 16px;\n  color: #5a6c7d;\n  margin: 0 0 16px 0;\n  line-height: 1.5;\n}\n\n.modal-time-info {\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 12px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #667eea;\n  font-weight: 600;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n}\n\n.modal-btn {\n  flex: 1;\n  padding: 14px 20px;\n  border: none;\n  border-radius: 16px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  min-height: 52px;\n}\n\n.abandon-btn {\n  background: rgba(244, 67, 54, 0.1);\n  color: #f44336;\n  border: 2px solid rgba(244, 67, 54, 0.2);\n}\n\n.abandon-btn:hover {\n  background: rgba(244, 67, 54, 0.15);\n  transform: translateY(-1px);\n}\n\n.complete-btn {\n  background: rgba(76, 175, 80, 0.1);\n  color: #4caf50;\n  border: 2px solid rgba(76, 175, 80, 0.2);\n}\n\n.complete-btn:hover {\n  background: rgba(76, 175, 80, 0.15);\n  transform: translateY(-1px);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 16px 20px;\n  }\n  \n  .back-btn {\n    width: 40px;\n    height: 40px;\n    font-size: 16px;\n  }\n  \n  .header h1 {\n    font-size: 20px;\n  }\n  \n  .header-spacer {\n    width: 40px;\n  }\n  \n  .task-name {\n    font-size: 16px;\n  }\n  \n  .timer-container {\n    padding: 20px 20px;\n  }\n  \n  .timer-controls {\n    gap: 24px;\n    margin-top: 40px;\n  }\n  \n  .control-btn {\n    width: 60px;\n    height: 60px;\n    font-size: 22px;\n  }\n  \n  .session-info {\n    margin-top: 20px;\n  }\n  \n  .session-count {\n    font-size: 16px;\n  }\n  \n  .session-message {\n    font-size: 13px;\n  }\n  \n  .motivational-quote {\n    bottom: 100px;\n    font-size: 14px;\n    padding: 0 16px;\n  }\n  \n  .modal-content {\n    padding: 24px;\n    margin: 16px;\n  }\n  \n  .modal-header h3 {\n    font-size: 20px;\n  }\n  \n  .modal-body p {\n    font-size: 15px;\n  }\n  \n  .modal-actions {\n    flex-direction: column;\n    gap: 12px;\n  }\n  \n  .modal-btn {\n    min-height: 48px;\n    font-size: 15px;\n  }\n}\n</style>","<template>\n  <div class=\"timer-circle\">\n    <div class=\"timer-progress\" :style=\"progressStyle\"></div>\n    <div class=\"timer-display\">{{ displayTime }}</div>\n    <div class=\"timer-label\">{{ label }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TimerCircle',\n  props: {\n    timeLeft: {\n      type: Number,\n      required: true\n    },\n    totalTime: {\n      type: Number,\n      required: true\n    },\n    label: {\n      type: String,\n      default: ''\n    }\n  },\n  computed: {\n    displayTime() {\n      const minutes = Math.floor(this.timeLeft / 60)\n      const seconds = this.timeLeft % 60\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n    },\n    progressStyle() {\n      const progress = 1 - (this.timeLeft / this.totalTime)\n      const degrees = progress * 360\n      return {\n        background: `conic-gradient(\n          from 0deg,\n          rgba(255, 255, 255, 0.8) 0deg,\n          rgba(255, 255, 255, 0.8) ${degrees}deg,\n          rgba(255, 255, 255, 0.15) ${degrees}deg,\n          rgba(255, 255, 255, 0.15) 360deg\n        )`,\n        transform: 'rotate(-90deg)'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.timer-circle {\n  width: 300px;\n  height: 300px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.08);\n  backdrop-filter: blur(20px);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  box-shadow: \n    0 20px 60px rgba(0, 0, 0, 0.15),\n    inset 0 1px 0 rgba(255, 255, 255, 0.2),\n    0 1px 0 rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.timer-progress {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  right: 8px;\n  bottom: 8px;\n  border-radius: 50%;\n  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  overflow: hidden;\n}\n\n.timer-display {\n  font-size: 52px;\n  font-weight: 700;\n  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Consolas', monospace;\n  margin-bottom: 12px;\n  z-index: 10;\n  color: white;\n  text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);\n  letter-spacing: -1px;\n}\n\n.timer-label {\n  font-size: 18px;\n  opacity: 0.9;\n  z-index: 10;\n  color: white;\n  font-weight: 500;\n  text-shadow: 0 1px 10px rgba(0, 0, 0, 0.2);\n}\n\n@media (max-width: 430px) {\n  .timer-circle {\n    width: 260px;\n    height: 260px;\n  }\n  \n  .timer-display {\n    font-size: 44px;\n  }\n  \n  .timer-label {\n    font-size: 16px;\n  }\n}\n</style>","import { render } from \"./TimerCircle.vue?vue&type=template&id=61dbf9a3&scoped=true\"\nimport script from \"./TimerCircle.vue?vue&type=script&lang=js\"\nexport * from \"./TimerCircle.vue?vue&type=script&lang=js\"\n\nimport \"./TimerCircle.vue?vue&type=style&index=0&id=61dbf9a3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-61dbf9a3\"]])\n\nexport default __exports__","import { render } from \"./Pomodoro.vue?vue&type=template&id=2eb7d17e&scoped=true\"\nimport script from \"./Pomodoro.vue?vue&type=script&lang=js\"\nexport * from \"./Pomodoro.vue?vue&type=script&lang=js\"\n\nimport \"./Pomodoro.vue?vue&type=style&index=0&id=2eb7d17e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2eb7d17e\"]])\n\nexport default __exports__","<template>\n  <div class=\"auth-page\">\n    <div class=\"auth-container\">\n      <!-- Logo -->\n      <AuthLogo />\n\n      <!--  -->\n      <LoginForm\n        v-if=\"currentMode === 'login'\"\n        @switch-mode=\"switchMode\"\n        @submit=\"handleLogin\"\n      />\n\n      <!--  -->\n      <RegisterForm\n        v-else\n        @switch-mode=\"switchMode\"\n        @submit=\"handleRegister\"\n      />\n    </div>\n\n    <!--  -->\n    <div class=\"bg-decoration\">\n      <div class=\"bg-circle bg-circle-1\"></div>\n      <div class=\"bg-circle bg-circle-2\"></div>\n      <div class=\"bg-circle bg-circle-3\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useToast } from 'vue-toastification'\nimport AuthLogo from '../components/login/AuthLogo.vue'\nimport LoginForm from '../components/login/LoginForm.vue'\nimport RegisterForm from '../components/login/RegisterForm.vue'\nimport { useAuthStore } from '../store/auth.js'\n\nexport default {\n  name: 'AuthPage',\n  components: {\n    AuthLogo,\n    LoginForm,\n    RegisterForm\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const toast = useToast()\n    const authStore = useAuthStore()\n\n    // /\n    const currentMode = ref('login')\n\n    // \n    onMounted(() => {\n      console.log(' ')\n      if (authStore.isAuthenticated.value) {\n        console.log(' ')\n        router.replace('/')\n        return\n      }\n\n      // \n      const mode = route.params.mode || 'login'\n      if (['login', 'register'].includes(mode)) {\n        currentMode.value = mode\n        console.log(` : ${mode}`)\n      }\n    })\n\n    // \n    const switchMode = (mode) => {\n      console.log(` : ${currentMode.value} -> ${mode}`)\n      currentMode.value = mode\n      // URL\n      const newPath = `/auth/${mode}`\n      if (route.path !== newPath) {\n        router.replace(newPath)\n      }\n    }\n\n    // \n    const handleLogin = async (credentials) => {\n      console.log(' ')\n      try {\n        const result = await authStore.login(credentials)\n        \n        if (result.success) {\n          toast.success(`${result.user.nickname || result.user.maskedPhoneNumber}`)\n          console.log(' ')\n          \n          // \n          setTimeout(() => {\n            const redirectPath = route.query.redirect || '/'\n            console.log(` : ${redirectPath}`)\n            router.replace(redirectPath)\n          }, 1000)\n        }\n      } catch (error) {\n        console.error(' :', error)\n        const errorMessage = error.response?.data?.message || error.message || ''\n        toast.error(errorMessage)\n        // Unhandled error during execution of component event handler\n      }\n    }\n\n    // \n    const handleRegister = async (userData) => {\n      console.log(' ')\n      try {\n        const result = await authStore.register(userData)\n        \n        if (result.success) {\n          toast.success(`${result.user.nickname || result.user.maskedPhoneNumber}`)\n          console.log(' ')\n          \n          // \n          setTimeout(() => {\n            console.log(' ')\n            router.replace('/')\n          }, 1000)\n        }\n      } catch (error) {\n        console.error(' :', error)\n        const errorMessage = error.response?.data?.message || error.message || ''\n        toast.error(errorMessage)\n        throw error // \n      }\n    }\n\n    return {\n      currentMode,\n      switchMode,\n      handleLogin,\n      handleRegister\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auth-page {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  position: relative;\n  overflow: hidden;\n}\n\n.auth-container {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 24px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n  padding: 48px 40px;\n  width: 100%;\n  max-width: 380px;\n  position: relative;\n  z-index: 10;\n  transition: all 0.3s ease;\n}\n\n.auth-container:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);\n}\n\n/*  */\n.bg-decoration {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 1;\n}\n\n.bg-circle {\n  position: absolute;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.1);\n  animation: float 6s ease-in-out infinite;\n}\n\n.bg-circle-1 {\n  width: 120px;\n  height: 120px;\n  top: 10%;\n  left: 10%;\n  animation-delay: 0s;\n}\n\n.bg-circle-2 {\n  width: 80px;\n  height: 80px;\n  top: 70%;\n  right: 15%;\n  animation-delay: 2s;\n}\n\n.bg-circle-3 {\n  width: 60px;\n  height: 60px;\n  top: 30%;\n  right: 25%;\n  animation-delay: 4s;\n}\n\n@keyframes float {\n  0%, 100% {\n    transform: translateY(0) rotate(0deg);\n    opacity: 0.7;\n  }\n  50% {\n    transform: translateY(-20px) rotate(180deg);\n    opacity: 1;\n  }\n}\n\n/*  */\n@media (max-width: 480px) {\n  .auth-page {\n    padding: 16px;\n  }\n  \n  .auth-container {\n    padding: 40px 32px;\n    max-width: 100%;\n    border-radius: 20px;\n  }\n  \n  /*  */\n  .bg-circle-2,\n  .bg-circle-3 {\n    display: none;\n  }\n}\n\n/*  */\n@media (min-width: 481px) and (max-width: 768px) {\n  .auth-container {\n    max-width: 420px;\n    padding: 44px 36px;\n  }\n}\n\n/*  */\n@media (min-width: 1200px) {\n  .auth-container {\n    max-width: 400px;\n    padding: 52px 44px;\n  }\n}\n\n/*  */\n@media (max-height: 700px) {\n  .auth-page {\n    padding: 10px;\n  }\n  \n  .auth-container {\n    padding: 30px 32px;\n  }\n}\n\n/*  */\n@media (prefers-color-scheme: dark) {\n  .auth-container {\n    background: rgba(26, 26, 26, 0.95);\n    color: #fff;\n  }\n}\n\n/*  */\n@media (prefers-reduced-motion: reduce) {\n  .auth-container,\n  .bg-circle {\n    animation: none;\n    transition: none;\n  }\n  \n  .auth-container:hover {\n    transform: none;\n  }\n}\n</style>","<template>\n  <div class=\"logo\">\n    <div class=\"logo-icon\">\n      <font-awesome-icon icon=\"robot\" />\n    </div>\n    <h1 class=\"app-title\">Tempo</h1>\n    <p class=\"app-subtitle\"></p>\n  </div>\n</template>\n\n<script>\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\nexport default {\n  name: 'AuthLogo',\n  components: {\n    FontAwesomeIcon\n  }\n}\n</script>\n\n<style scoped>\n.logo {\n  margin-bottom: 32px;\n  text-align: center;\n}\n\n.logo-icon {\n  width: 64px;\n  height: 64px;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  border-radius: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 16px;\n  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);\n  transition: transform 0.3s ease;\n}\n\n.logo-icon:hover {\n  transform: scale(1.05);\n}\n\n.logo-icon svg {\n  font-size: 28px;\n  color: white;\n}\n\n.app-title {\n  font-size: 24px;\n  font-weight: 600;\n  color: #1a1a1a;\n  margin: 0 0 8px 0;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.app-subtitle {\n  font-size: 14px;\n  color: #666;\n  font-weight: 400;\n  margin: 0;\n  line-height: 1.4;\n  max-width: 280px;\n  margin: 0 auto;\n}\n\n/*  */\n@media (max-width: 480px) {\n  .logo {\n    margin-bottom: 28px;\n  }\n  \n  .logo-icon {\n    width: 56px;\n    height: 56px;\n    margin-bottom: 14px;\n  }\n  \n  .logo-icon svg {\n    font-size: 24px;\n  }\n  \n  .app-title {\n    font-size: 22px;\n  }\n  \n  .app-subtitle {\n    font-size: 13px;\n  }\n}\n</style>","import { render } from \"./AuthLogo.vue?vue&type=template&id=2d369dd3&scoped=true\"\nimport script from \"./AuthLogo.vue?vue&type=script&lang=js\"\nexport * from \"./AuthLogo.vue?vue&type=script&lang=js\"\n\nimport \"./AuthLogo.vue?vue&type=style&index=0&id=2d369dd3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d369dd3\"]])\n\nexport default __exports__","<template>\n  <form @submit.prevent=\"handleSubmit\" class=\"auth-form\">\n    <!--  -->\n    <div class=\"form-group\">\n      <label class=\"form-label\"></label>\n      <div class=\"input-wrapper\">\n        <font-awesome-icon icon=\"phone\" class=\"input-icon\" />\n        <input\n          v-model=\"formData.phoneNumber\"\n          type=\"tel\"\n          class=\"form-input\"\n          :class=\"{ 'error': errors.phoneNumber }\"\n          placeholder=\"\"\n          maxlength=\"11\"\n          required\n          @input=\"validatePhoneNumber\"\n          @blur=\"validatePhoneNumber\"\n        />\n      </div>\n      <div v-if=\"errors.phoneNumber\" class=\"error-message\">\n        {{ errors.phoneNumber }}\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"form-group\">\n      <label class=\"form-label\"></label>\n      <div class=\"input-wrapper\">\n        <font-awesome-icon icon=\"lock\" class=\"input-icon\" />\n        <input\n          v-model=\"formData.password\"\n          :type=\"showPassword ? 'text' : 'password'\"\n          class=\"form-input\"\n          :class=\"{ 'error': errors.password }\"\n          placeholder=\"\"\n          minlength=\"6\"\n          required\n          @blur=\"validatePassword\"\n        />\n        <button\n          type=\"button\"\n          class=\"password-toggle\"\n          @click=\"showPassword = !showPassword\"\n        >\n          <font-awesome-icon :icon=\"showPassword ? 'eye-slash' : 'eye'\" />\n        </button>\n      </div>\n      <div v-if=\"errors.password\" class=\"error-message\">\n        {{ errors.password }}\n      </div>\n    </div>\n\n    <!--  -->\n    <button\n      type=\"submit\"\n      class=\"auth-btn\"\n      :disabled=\"isLoading || !isFormValid\"\n      :class=\"{ 'loading': isLoading }\"\n    >\n      <font-awesome-icon v-if=\"isLoading\" icon=\"spinner\" spin class=\"btn-icon\" />\n      <font-awesome-icon v-else icon=\"sign-in-alt\" class=\"btn-icon\" />\n      {{ isLoading ? '...' : '' }}\n    </button>\n\n    <!-- / -->\n    <div v-if=\"message.text\" :class=\"['message', message.type]\">\n      <font-awesome-icon \n        :icon=\"message.type === 'error' ? 'exclamation-circle' : 'check-circle'\" \n        class=\"message-icon\" \n      />\n      {{ message.text }}\n    </div>\n\n    <!--  -->\n    <div class=\"switch-mode\">\n      \n      <button type=\"button\" class=\"switch-link\" @click=\"$emit('switch-mode', 'register')\">\n        \n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { ref, computed, reactive } from 'vue'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\nexport default {\n  name: 'LoginForm',\n  components: {\n    FontAwesomeIcon\n  },\n  emits: ['switch-mode', 'submit'],\n  setup(props, { emit }) {\n    // \n    const formData = reactive({\n      phoneNumber: '',\n      password: ''\n    })\n\n    // \n    const isLoading = ref(false)\n    const showPassword = ref(false)\n    const errors = reactive({\n      phoneNumber: '',\n      password: ''\n    })\n    const message = reactive({\n      text: '',\n      type: ''\n    })\n\n    // \n    const validatePhoneNumber = () => {\n      const phoneRegex = /^1[3-9]\\d{9}$/\n      if (!formData.phoneNumber) {\n        errors.phoneNumber = ''\n      } else if (!phoneRegex.test(formData.phoneNumber)) {\n        errors.phoneNumber = '11'\n      } else {\n        errors.phoneNumber = ''\n      }\n    }\n\n    // \n    const validatePassword = () => {\n      if (!formData.password) {\n        errors.password = ''\n      } else if (formData.password.length < 6) {\n        errors.password = '6'\n      } else {\n        errors.password = ''\n      }\n    }\n\n    // \n    const isFormValid = computed(() => {\n      return formData.phoneNumber && \n             formData.password && \n             !errors.phoneNumber && \n             !errors.password\n    })\n\n    // \n    const showMessage = (text, type = 'error') => {\n      console.log(`${type === 'error' ? '' : ''} ${text}`)\n      message.text = text\n      message.type = type\n      setTimeout(() => {\n        message.text = ''\n        message.type = ''\n      }, 3000)\n    }\n\n    // \n    const handleSubmit = async () => {\n      console.log(' ')\n      \n      // \n      validatePhoneNumber()\n      validatePassword()\n\n      if (!isFormValid.value) {\n        showMessage('')\n        return\n      }\n\n      isLoading.value = true\n\n      try {\n        console.log(' :', { \n          phoneNumber: formData.phoneNumber,\n          password: '***'\n        })\n        \n        const maybePromise = emit('submit', { ...formData })\n        // \n        if (maybePromise && typeof maybePromise.then === 'function') {\n          await maybePromise\n        }\n        //  toast \n        // showMessage('', 'success')\n        \n      } catch (error) {\n        console.error(' :', error)\n        const errorMessage = error?.response?.data?.message || error?.message || ''\n        showMessage(errorMessage)\n      } finally {\n        isLoading.value = false\n      }\n    }\n\n    return {\n      formData,\n      errors,\n      message,\n      isLoading,\n      showPassword,\n      isFormValid,\n      validatePhoneNumber,\n      validatePassword,\n      handleSubmit,\n      showMessage\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auth-form {\n  width: 100%;\n}\n\n.form-group {\n  margin-bottom: 24px;\n  text-align: left;\n}\n\n.form-label {\n  display: block;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 8px;\n}\n\n.input-wrapper {\n  position: relative;\n}\n\n.form-input {\n  width: 100%;\n  padding: 16px 20px 16px 48px;\n  border: 2px solid #e1e5e9;\n  border-radius: 12px;\n  font-size: 16px;\n  transition: all 0.3s ease;\n  background: #fafbfc;\n  box-sizing: border-box;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #667eea;\n  background: white;\n  box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);\n}\n\n.form-input.error {\n  border-color: #e74c3c;\n  background: #fdf2f2;\n}\n\n.input-icon {\n  position: absolute;\n  left: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #8e9196;\n  font-size: 16px;\n  z-index: 1;\n}\n\n.password-toggle {\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: none;\n  border: none;\n  color: #8e9196;\n  cursor: pointer;\n  padding: 4px;\n  font-size: 16px;\n  transition: color 0.2s ease;\n}\n\n.password-toggle:hover {\n  color: #667eea;\n}\n\n.auth-btn {\n  width: 100%;\n  padding: 16px;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.auth-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);\n}\n\n.auth-btn:active {\n  transform: translateY(0);\n}\n\n.auth-btn:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.auth-btn.loading {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  opacity: 0.8;\n}\n\n.btn-icon {\n  font-size: 14px;\n}\n\n.message {\n  margin-top: 16px;\n  padding: 12px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  animation: slideIn 0.3s ease;\n}\n\n.message.error {\n  background: #fef2f2;\n  color: #dc2626;\n  border: 1px solid #fecaca;\n}\n\n.message.success {\n  background: #f0fdf4;\n  color: #16a34a;\n  border: 1px solid #bbf7d0;\n}\n\n.message-icon {\n  font-size: 16px;\n}\n\n.error-message {\n  color: #e74c3c;\n  font-size: 13px;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.switch-mode {\n  margin-top: 24px;\n  font-size: 14px;\n  color: #666;\n  text-align: center;\n}\n\n.switch-link {\n  color: #667eea;\n  background: none;\n  border: none;\n  font-weight: 500;\n  cursor: pointer;\n  text-decoration: none;\n  padding: 0;\n  margin-left: 4px;\n}\n\n.switch-link:hover {\n  text-decoration: underline;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/*  */\n@media (max-width: 480px) {\n  .form-input {\n    padding: 14px 18px 14px 44px;\n    font-size: 16px; /* iOS */\n  }\n  \n  .input-icon {\n    left: 14px;\n    font-size: 14px;\n  }\n  \n  .password-toggle {\n    right: 14px;\n    font-size: 14px;\n  }\n  \n  .auth-btn {\n    padding: 14px;\n    font-size: 15px;\n  }\n}\n</style>","import { render } from \"./LoginForm.vue?vue&type=template&id=73ed84be&scoped=true\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport \"./LoginForm.vue?vue&type=style&index=0&id=73ed84be&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-73ed84be\"]])\n\nexport default __exports__","<template>\n  <form @submit.prevent=\"handleSubmit\" class=\"auth-form\">\n    <!--  -->\n    <div class=\"form-group\">\n      <label class=\"form-label\"></label>\n      <div class=\"input-wrapper\">\n        <font-awesome-icon icon=\"phone\" class=\"input-icon\" />\n        <input\n          v-model=\"formData.phoneNumber\"\n          type=\"tel\"\n          class=\"form-input\"\n          :class=\"{ 'error': errors.phoneNumber }\"\n          placeholder=\"\"\n          maxlength=\"11\"\n          required\n          @input=\"validatePhoneNumber\"\n          @blur=\"validatePhoneNumber\"\n        />\n      </div>\n      <div v-if=\"errors.phoneNumber\" class=\"error-message\">\n        {{ errors.phoneNumber }}\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"form-group\">\n      <label class=\"form-label\"> <span class=\"optional\">()</span></label>\n      <div class=\"input-wrapper\">\n        <font-awesome-icon icon=\"user\" class=\"input-icon\" />\n        <input\n          v-model=\"formData.nickname\"\n          type=\"text\"\n          class=\"form-input\"\n          :class=\"{ 'error': errors.nickname }\"\n          placeholder=\"\"\n          maxlength=\"50\"\n          @blur=\"validateNickname\"\n        />\n      </div>\n      <div v-if=\"errors.nickname\" class=\"error-message\">\n        {{ errors.nickname }}\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"form-group\">\n      <label class=\"form-label\"></label>\n      <div class=\"input-wrapper\">\n        <font-awesome-icon icon=\"lock\" class=\"input-icon\" />\n        <input\n          v-model=\"formData.password\"\n          :type=\"showPassword ? 'text' : 'password'\"\n          class=\"form-input\"\n          :class=\"{ 'error': errors.password }\"\n          placeholder=\"6\"\n          minlength=\"6\"\n          required\n          @input=\"validatePassword\"\n          @blur=\"validatePassword\"\n        />\n        <button\n          type=\"button\"\n          class=\"password-toggle\"\n          @click=\"showPassword = !showPassword\"\n        >\n          <font-awesome-icon :icon=\"showPassword ? 'eye-slash' : 'eye'\" />\n        </button>\n      </div>\n      <div v-if=\"errors.password\" class=\"error-message\">\n        {{ errors.password }}\n      </div>\n    </div>\n\n    <!--  -->\n    <div class=\"form-group\">\n      <label class=\"form-label\"></label>\n      <div class=\"input-wrapper\">\n        <font-awesome-icon icon=\"lock\" class=\"input-icon\" />\n        <input\n          v-model=\"formData.confirmPassword\"\n          :type=\"showConfirmPassword ? 'text' : 'password'\"\n          class=\"form-input\"\n          :class=\"{ 'error': errors.confirmPassword }\"\n          placeholder=\"\"\n          minlength=\"6\"\n          required\n          @blur=\"validateConfirmPassword\"\n        />\n        <button\n          type=\"button\"\n          class=\"password-toggle\"\n          @click=\"showConfirmPassword = !showConfirmPassword\"\n        >\n          <font-awesome-icon :icon=\"showConfirmPassword ? 'eye-slash' : 'eye'\" />\n        </button>\n      </div>\n      <div v-if=\"errors.confirmPassword\" class=\"error-message\">\n        {{ errors.confirmPassword }}\n      </div>\n    </div>\n\n    <!--  -->\n    <button\n      type=\"submit\"\n      class=\"auth-btn\"\n      :disabled=\"isLoading || !isFormValid\"\n      :class=\"{ 'loading': isLoading }\"\n    >\n      <font-awesome-icon v-if=\"isLoading\" icon=\"spinner\" spin class=\"btn-icon\" />\n      <font-awesome-icon v-else icon=\"user-plus\" class=\"btn-icon\" />\n      {{ isLoading ? '...' : '' }}\n    </button>\n\n    <!-- / -->\n    <div v-if=\"message.text\" :class=\"['message', message.type]\">\n      <font-awesome-icon \n        :icon=\"message.type === 'error' ? 'exclamation-circle' : 'check-circle'\" \n        class=\"message-icon\" \n      />\n      {{ message.text }}\n    </div>\n\n    <!--  -->\n    <div class=\"switch-mode\">\n      \n      <button type=\"button\" class=\"switch-link\" @click=\"$emit('switch-mode', 'login')\">\n        \n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { ref, computed, reactive } from 'vue'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\nexport default {\n  name: 'RegisterForm',\n  components: {\n    FontAwesomeIcon\n  },\n  emits: ['switch-mode', 'submit'],\n  setup(props, { emit }) {\n    // \n    const formData = reactive({\n      phoneNumber: '',\n      nickname: '',\n      password: '',\n      confirmPassword: ''\n    })\n\n    // \n    const isLoading = ref(false)\n    const showPassword = ref(false)\n    const showConfirmPassword = ref(false)\n    const errors = reactive({\n      phoneNumber: '',\n      nickname: '',\n      password: '',\n      confirmPassword: ''\n    })\n    const message = reactive({\n      text: '',\n      type: ''\n    })\n\n    // \n    const validatePhoneNumber = () => {\n      const phoneRegex = /^1[3-9]\\d{9}$/\n      if (!formData.phoneNumber) {\n        errors.phoneNumber = ''\n      } else if (!phoneRegex.test(formData.phoneNumber)) {\n        errors.phoneNumber = '11'\n      } else {\n        errors.phoneNumber = ''\n      }\n    }\n\n    // \n    const validateNickname = () => {\n      if (formData.nickname && formData.nickname.length > 50) {\n        errors.nickname = '50'\n      } else {\n        errors.nickname = ''\n      }\n    }\n\n    // \n    const validatePassword = () => {\n      if (!formData.password) {\n        errors.password = ''\n      } else if (formData.password.length < 6) {\n        errors.password = '6'\n      } else {\n        errors.password = ''\n      }\n      // \n      if (formData.confirmPassword) {\n        validateConfirmPassword()\n      }\n    }\n\n    // \n    const validateConfirmPassword = () => {\n      if (!formData.confirmPassword) {\n        errors.confirmPassword = ''\n      } else if (formData.password !== formData.confirmPassword) {\n        errors.confirmPassword = ''\n      } else {\n        errors.confirmPassword = ''\n      }\n    }\n\n    // \n    const isFormValid = computed(() => {\n      return formData.phoneNumber && \n             formData.password && \n             formData.confirmPassword &&\n             !errors.phoneNumber && \n             !errors.nickname &&\n             !errors.password && \n             !errors.confirmPassword\n    })\n\n    // \n    const showMessage = (text, type = 'error') => {\n      console.log(`${type === 'error' ? '' : ''} ${text}`)\n      message.text = text\n      message.type = type\n      setTimeout(() => {\n        message.text = ''\n        message.type = ''\n      }, 3000)\n    }\n\n    // \n    const handleSubmit = async () => {\n      console.log(' ')\n      \n      // \n      validatePhoneNumber()\n      validateNickname()\n      validatePassword()\n      validateConfirmPassword()\n\n      if (!isFormValid.value) {\n        showMessage('')\n        return\n      }\n\n      isLoading.value = true\n\n      try {\n        const submitData = {\n          phoneNumber: formData.phoneNumber,\n          password: formData.password\n        }\n        \n        // \n        if (formData.nickname.trim()) {\n          submitData.nickname = formData.nickname.trim()\n        }\n\n        console.log(' :', { \n          ...submitData,\n          password: '***'\n        })\n        \n        await emit('submit', submitData)\n        showMessage('', 'success')\n        \n      } catch (error) {\n        console.error(' :', error)\n        const errorMessage = error.response?.data?.message || error.message || ''\n        showMessage(errorMessage)\n      } finally {\n        isLoading.value = false\n      }\n    }\n\n    return {\n      formData,\n      errors,\n      message,\n      isLoading,\n      showPassword,\n      showConfirmPassword,\n      isFormValid,\n      validatePhoneNumber,\n      validateNickname,\n      validatePassword,\n      validateConfirmPassword,\n      handleSubmit,\n      showMessage\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auth-form {\n  width: 100%;\n}\n\n.form-group {\n  margin-bottom: 20px;\n  text-align: left;\n}\n\n.form-label {\n  display: block;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 8px;\n}\n\n.optional {\n  font-weight: 400;\n  color: #888;\n  font-size: 12px;\n}\n\n.input-wrapper {\n  position: relative;\n}\n\n.form-input {\n  width: 100%;\n  padding: 16px 20px 16px 48px;\n  border: 2px solid #e1e5e9;\n  border-radius: 12px;\n  font-size: 16px;\n  transition: all 0.3s ease;\n  background: #fafbfc;\n  box-sizing: border-box;\n}\n\n.form-input:focus {\n  outline: none;\n  border-color: #667eea;\n  background: white;\n  box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);\n}\n\n.form-input.error {\n  border-color: #e74c3c;\n  background: #fdf2f2;\n}\n\n.input-icon {\n  position: absolute;\n  left: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #8e9196;\n  font-size: 16px;\n  z-index: 1;\n}\n\n.password-toggle {\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: none;\n  border: none;\n  color: #8e9196;\n  cursor: pointer;\n  padding: 4px;\n  font-size: 16px;\n  transition: color 0.2s ease;\n}\n\n.password-toggle:hover {\n  color: #667eea;\n}\n\n.auth-btn {\n  width: 100%;\n  padding: 16px;\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.auth-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);\n}\n\n.auth-btn:active {\n  transform: translateY(0);\n}\n\n.auth-btn:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.auth-btn.loading {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  opacity: 0.8;\n}\n\n.btn-icon {\n  font-size: 14px;\n}\n\n.message {\n  margin-top: 16px;\n  padding: 12px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  animation: slideIn 0.3s ease;\n}\n\n.message.error {\n  background: #fef2f2;\n  color: #dc2626;\n  border: 1px solid #fecaca;\n}\n\n.message.success {\n  background: #f0fdf4;\n  color: #16a34a;\n  border: 1px solid #bbf7d0;\n}\n\n.message-icon {\n  font-size: 16px;\n}\n\n.error-message {\n  color: #e74c3c;\n  font-size: 13px;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.switch-mode {\n  margin-top: 24px;\n  font-size: 14px;\n  color: #666;\n  text-align: center;\n}\n\n.switch-link {\n  color: #667eea;\n  background: none;\n  border: none;\n  font-weight: 500;\n  cursor: pointer;\n  text-decoration: none;\n  padding: 0;\n  margin-left: 4px;\n}\n\n.switch-link:hover {\n  text-decoration: underline;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/*  */\n@media (max-width: 480px) {\n  .form-group {\n    margin-bottom: 18px;\n  }\n  \n  .form-input {\n    padding: 14px 18px 14px 44px;\n    font-size: 16px; /* iOS */\n  }\n  \n  .input-icon {\n    left: 14px;\n    font-size: 14px;\n  }\n  \n  .password-toggle {\n    right: 14px;\n    font-size: 14px;\n  }\n  \n  .auth-btn {\n    padding: 14px;\n    font-size: 15px;\n  }\n}\n</style>","import { render } from \"./RegisterForm.vue?vue&type=template&id=381ecd1e&scoped=true\"\nimport script from \"./RegisterForm.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterForm.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterForm.vue?vue&type=style&index=0&id=381ecd1e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-381ecd1e\"]])\n\nexport default __exports__","import http from './http.js'\n\n// API\nexport const authAPI = {\n  // \n  register: async (userData) => {\n    console.log(' :', userData)\n    try {\n      const response = await http.post('/users/register', userData)\n      console.log(' :', response)\n      return response\n    } catch (error) {\n      console.error(' :', error.response?.data || error.message)\n      throw error\n    }\n  },\n\n  // \n  login: async (credentials) => {\n    console.log(' :', { phoneNumber: credentials.phoneNumber, password: '***' })\n    try {\n      const response = await http.post('/users/login', credentials)\n      console.log(' :', {\n        ...response,\n        data: {\n          ...response.data,\n          token: '***' // token\n        }\n      })\n      return response\n    } catch (error) {\n      console.error(' :', error.response?.data || error.message)\n      throw error\n    }\n  },\n\n  // \n  getUserProfile: async () => {\n    console.log(' ...')\n    try {\n      const response = await http.get('/users/profile')\n      console.log(' :', response)\n      return response\n    } catch (error) {\n      console.error(' :', error.response?.data || error.message)\n      throw error\n    }\n  },\n\n  // \n  updateUserProfile: async (updateData) => {\n    console.log(' :', updateData)\n    try {\n      const response = await http.put('/users/profile', updateData)\n      console.log(' :', response)\n      return response\n    } catch (error) {\n      console.error(' :', error.response?.data || error.message)\n      throw error\n    }\n  }\n}\n\nexport default authAPI","import { reactive, computed } from 'vue'\nimport authAPI from '../api/auth.js'\n\n// \nconst authState = reactive({\n  user: JSON.parse(localStorage.getItem('user')) || null,\n  token: localStorage.getItem('token') || null,\n  isLoading: false\n})\n\nexport const useAuthStore = () => {\n  // \n  const isAuthenticated = computed(() => !!authState.token && !!authState.user)\n  const currentUser = computed(() => authState.user)\n  const isLoading = computed(() => authState.isLoading)\n\n  // \n  const saveAuthData = (user, token) => {\n    console.log(' ')\n    authState.user = user\n    authState.token = token\n    localStorage.setItem('user', JSON.stringify(user))\n    localStorage.setItem('token', token)\n  }\n\n  // \n  const clearAuthData = () => {\n    console.log(' ')\n    authState.user = null\n    authState.token = null\n    localStorage.removeItem('user')\n    localStorage.removeItem('token')\n  }\n\n  // \n  const register = async (userData) => {\n    console.log(' ')\n    authState.isLoading = true\n    try {\n      const response = await authAPI.register(userData)\n      if (response.success) {\n        const { user, token } = response.data\n        saveAuthData(user, token)\n        console.log(' !')\n        return { success: true, user }\n      }\n      throw new Error(response.message || '')\n    } catch (error) {\n      console.error(' :', error)\n      throw error\n    } finally {\n      authState.isLoading = false\n    }\n  }\n\n  // \n  const login = async (credentials) => {\n    console.log(' ')\n    authState.isLoading = true\n    try {\n      const response = await authAPI.login(credentials)\n      if (response.success) {\n        const { user, token } = response.data\n        saveAuthData(user, token)\n        console.log(' !')\n        return { success: true, user }\n      }\n      throw new Error(response.message || '')\n    } catch (error) {\n      console.error(' :', error)\n      throw error\n    } finally {\n      authState.isLoading = false\n    }\n  }\n\n  // \n  const logout = () => {\n    console.log(' ')\n    clearAuthData()\n  }\n\n  // \n  const fetchUserProfile = async () => {\n    console.log(' ')\n    try {\n      const response = await authAPI.getUserProfile()\n      if (response.success) {\n        authState.user = response.data.user\n        localStorage.setItem('user', JSON.stringify(response.data.user))\n        return response.data.user\n      }\n    } catch (error) {\n      console.error(' :', error)\n      // token\n      if (error.response?.status === 401) {\n        logout()\n      }\n      throw error\n    }\n  }\n\n  // \n  const updateProfile = async (updateData) => {\n    console.log(' ')\n    try {\n      const response = await authAPI.updateUserProfile(updateData)\n      if (response.success) {\n        authState.user = response.data.user\n        localStorage.setItem('user', JSON.stringify(response.data.user))\n        console.log(' ')\n        return response.data.user\n      }\n    } catch (error) {\n      console.error(' :', error)\n      throw error\n    }\n  }\n\n  return {\n    // \n    isAuthenticated,\n    currentUser,\n    isLoading,\n    \n    // \n    register,\n    login,\n    logout,\n    fetchUserProfile,\n    updateProfile\n  }\n}\n\nexport default useAuthStore","import { render } from \"./Auth.vue?vue&type=template&id=8ea52cd6&scoped=true\"\nimport script from \"./Auth.vue?vue&type=script&lang=js\"\nexport * from \"./Auth.vue?vue&type=script&lang=js\"\n\nimport \"./Auth.vue?vue&type=style&index=0&id=8ea52cd6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ea52cd6\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport Task from '../views/Task.vue'\nimport Calendar from '../views/Calendar.vue'\nimport AiSecretary from '../views/AiSecretary.vue'\nimport TaskCollections from '../views/TaskCollections.vue'\nimport Stats from '../views/Stats.vue'\nimport Pomodoro from '../views/Pomodoro.vue'\nimport Auth from '../views/Auth.vue'\nimport authAPI from '../api/auth.js'\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/task'\n  },\n  // \n  {\n    path: '/auth/:mode?',\n    name: 'Auth',\n    component: Auth,\n    props: true,\n    meta: { requiresGuest: true } // \n  },\n  // \n  {\n    path: '/task',\n    name: 'Task',\n    component: Task,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/calendar',\n    name: 'Calendar',\n    component: Calendar,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/ai-secretary',\n    name: 'AiSecretary',\n    component: AiSecretary,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/task-collections',\n    name: 'TaskCollections',\n    component: TaskCollections,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/stats',\n    name: 'Stats',\n    component: Stats,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/pomodoro',\n    name: 'Pomodoro',\n    component: Pomodoro,\n    meta: { requiresAuth: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\n// \nrouter.beforeEach(async (to, from, next) => {\n  console.log(` : ${from.path} -> ${to.path}`)\n  \n  // \n  const token = localStorage.getItem('token')\n  const user = localStorage.getItem('user')\n  const isAuthenticated = !!(token && user)\n  \n  console.log(` : ${isAuthenticated ? '' : ''}`)\n\n  // \n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      console.log(' ')\n      next({\n        path: '/auth/login',\n        query: { redirect: to.fullPath }\n      })\n      return\n    }\n    // \n    const verified = localStorage.getItem('auth_verified') === 'true'\n    if (!verified) {\n      try {\n        const profileResp = await authAPI.getUserProfile()\n        if (profileResp?.success) {\n          localStorage.setItem('auth_verified', 'true')\n        } else {\n          throw new Error('Profile invalid')\n        }\n      } catch (e) {\n        console.warn(' ', e)\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        localStorage.removeItem('auth_verified')\n        next({\n          path: '/auth/login',\n          query: { redirect: to.fullPath }\n        })\n        return\n      }\n    }\n  }\n\n  // \n  if (to.matched.some(record => record.meta.requiresGuest)) {\n    if (isAuthenticated) {\n      console.log(' ')\n      next('/')\n      return\n    }\n  }\n\n  // \n  if (to.path === '/' && isAuthenticated) {\n    console.log(' ')\n    next('/task')\n    return\n  }\n\n  // \n  if (to.path === '/' && !isAuthenticated) {\n    console.log(' ')\n    next('/auth/login')\n    return\n  }\n\n  console.log(' ')\n  next()\n})\n\nexport default router","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport Toast from 'vue-toastification'\nimport 'vue-toastification/dist/index.css'\n\n// FontAwesome imports\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport { \n  faHome, \n  faCalendar, \n  faRobot, \n  faLayerGroup, \n  faChartPie,\n  faPlus,\n  faCog,\n  faPlay,\n  faPause,\n  faStop,\n  faChevronLeft,\n  faChevronRight,\n  faChevronDown,\n  faCheck,\n  faEdit,\n  faTrash,\n  faTimes,\n  faUser,\n  faMicrophone,\n  faMicrophoneSlash,\n  faPaperPlane,\n  faGraduationCap,\n  faCode,\n  faLanguage,\n  faChartLine,\n  faClock,\n  faBrain,\n  faHeart,\n  faCheckCircle,\n  faFire,\n  faTasks,\n  faSun,\n  faCrown,\n  faThLarge,\n  faPlayCircle,\n  faPauseCircle,\n  faFolderOpen,\n  faBook,\n  faDumbbell,\n  faBriefcase,\n  faCalculator,\n  // \n  faPhone,\n  faLock,\n  faSignInAlt,\n  faUserPlus,\n  faEye,\n  faEyeSlash,\n  faSpinner,\n  faExclamationCircle,\n  // \n  faChevronUp,\n  faArrowLeft,\n  // \n  faChartColumn,\n  faChartSimple,\n  faShareNodes,\n  faRefresh,\n  faBullseye,\n  faImage,\n  faComment,\n  faCloudUploadAlt,\n  faSearch,\n  faKeyboard,\n  faImages,\n  faCamera\n} from '@fortawesome/free-solid-svg-icons'\n// \nimport { faCalendar as faCalendarRegular, faCalendarDays as faCalendarDaysRegular } from '@fortawesome/free-regular-svg-icons'\n\n// Add icons to library\nlibrary.add(\n  faHome, \n  faCalendar, \n  faRobot, \n  faLayerGroup, \n  faChartPie,\n  faPlus,\n  faCog,\n  faPlay,\n  faPause,\n  faStop,\n  faChevronLeft,\n  faChevronRight,\n  faChevronDown,\n  faCheck,\n  faEdit,\n  faTrash,\n  faTimes,\n  faUser,\n  faMicrophone,\n  faMicrophoneSlash,\n  faPaperPlane,\n  faGraduationCap,\n  faCode,\n  faLanguage,\n  faChartLine,\n  faClock,\n  faBrain,\n  faHeart,\n  faCheckCircle,\n  faFire,\n  faTasks,\n  faSun,\n  faCrown,\n  faThLarge,\n  faPlayCircle,\n  faPauseCircle,\n  faFolderOpen,\n  faBook,\n  faDumbbell,\n  faBriefcase,\n  faCalculator,\n  // \n  faPhone,\n  faLock,\n  faSignInAlt,\n  faUserPlus,\n  faEye,\n  faEyeSlash,\n  faSpinner,\n  faExclamationCircle,\n  // \n  faChevronUp,\n  faArrowLeft,\n  // \n  faChartColumn,\n  faChartSimple,\n  faShareNodes,\n  faCalendarRegular,\n  faCalendarDaysRegular,\n  faRefresh,\n  faBullseye,\n  faImage,\n  faComment,\n  faCloudUploadAlt,\n  faSearch,\n  faKeyboard,\n  faImages,\n  faCamera\n)\n\nconst app = createApp(App)\n\napp.component('font-awesome-icon', FontAwesomeIcon)\napp.use(router)\napp.use(Toast)\n\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktimer\"] = self[\"webpackChunktimer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9869); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","name","__exports__","render","class","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","toggleSidebar","_component_font_awesome_icon","icon","_hoisted_3","_normalizeClass","active","$data","currentView","$event","switchView","openAddTask","_hoisted_4","_hoisted_5","_hoisted_6","href","_hoisted_7","_Fragment","_renderList","timeSegments","segment","key","value","currentTimeSegment","switchTimeSegment","label","_hoisted_8","_component_TaskTimeBlocks","filteredTimeBlocks","onTaskClick","openPomodoro","onTaskToggle","toggleTask","onToggleCollapse","toggleTimeBlockCollapse","_createBlock","_component_TaskQuadrant","quadrants","open","sidebarOpen","_hoisted_9","_hoisted_10","settings","setting","handleSettingClick","_hoisted_12","_toDisplayString","_hoisted_13","description","_component_AddTaskModal","visible","showAddModal","onClose","closeAddTask","onSubmit","handleAddTask","showVoiceCloneModal","_component_VoiceCloneModal","hasCloned","hasClonedVoice","onCloneSuccess","showAIVoiceModal","_component_AIVoiceModal","onApplyVoice","goToAISecretary","_component_TabBar","$props","timeBlocks","timeBlock","collapsed","toggleCollapse","tasks","length","task","_component_TaskItem","_ctx","$emit","onToggle","completed","checked","_withModifiers","title","time","priority","getPriorityText","showActions","props","type","Object","required","Boolean","default","emits","methods","this","priorityMap","high","medium","low","components","TaskItem","Array","timeBlockId","quadrant","_Teleport","to","_Transition","handleClose","handleSubmit","formData","placeholder","maxlength","style","_normalizeStyle","backgroundColor","color","date","min","today","disabled","trim","data","computed","now","Date","y","getFullYear","m","String","getMonth","padStart","d","getDate","currentTime","toTimeString","slice","watch","newVal","taskData","createdAt","toISOString","userId","timeBlockType","getTimeBlockType","isScheduled","resetForm","hour","parseInt","split","tabs","tab","_component_router_link","path","$route","isDevelopment","process","API_CONFIG","baseURL","aiBaseURL","aisiriBaseURL","speechRecognitionBaseURL","timeout","headers","getAisiriApiUrl","getSpeechRecognitionApiUrl","startsWith","http","axios","create","interceptors","request","use","config","token","localStorage","getItem","Authorization","console","log","method","toUpperCase","url","logData","password","error","Promise","reject","response","status","message","removeItem","window","location","pathname","includes","BASE_URL","replace","getToken","_","async","uploadVoice","file","form","FormData","append","resp","fetch","body","json","catch","ok","success","Error","statusText","enrollVoice","ossUrl","res","post","user_id","oss_url","getBindStatus","get","params","err","code","msg","encodeURIComponent","synthesizeVoice","encourageText","criticizeText","encourage_text","criticize_text","imitateText","encourageTone","criticizeTone","payload","encourage_tone","criticize_tone","deleteVoiceGroupByIndex","groupIndex","delete","group_index","deleteVoiceGroupByUrl","encourageUrl","criticizeUrl","encourage_url","criticize_url","aivoiceAPI","DEMO_VOICE_URL","emit","__emit","__props","ref","fileName","errorMsg","successMsg","showUpload","loading","cloned","close","onFileChange","e","f","target","files","size","resolveUserId","user","JSON","parse","_id","handleNext","uploadRes","enrollRes","action","setTimeout","tryDemoVoice","v","onMounted","has","binded","has_voice","bound","_hoisted_11","$refs","updateInput","click","accept","onChange","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","fileInput","_hoisted_18","_hoisted_19","voiceGroups","cacheBuster","retryCount","encourage","criticize","toHttps","withBuster","sep","onAudioError","kind","formatTime","toLocaleString","refresh","isArray","voice_groups","onDelete","idx","confirm","g","src","controls","onError","_hoisted_20","_hoisted_21","mode","mimicTarget","encourageStyles","criticizeStyles","encourageStyle","criticizeStyle","audioUrls","aiGenerated","showVoiceManager","openManager","encUrl","criUrl","applyVoice","fill","rows","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","VoiceManagerModal","taskApi","getAllTasks","getUnscheduledTasks","getTasksByTimeBlock","createTask","getTaskById","updateTask","put","deleteTask","toggleTaskStatus","patch","api","collectionApi","getCollections","getCollection","createCollection","updateCollection","deleteCollection","force","archiveCollection","archived","getStats","getOtherCollection","app","$toast","pomodoroApi","getAllPomodoros","createPomodoro","pomodoroData","getPomodoroById","updatePomodoro","deletePomodoro","getPomodoroStats","getTodayPomodoros","startOfDay","endOfDay","startDate","endDate","getTaskPomodoros","taskName","getTaskStats","collections","pomodoros","aivoice","pickRandom","list","Math","floor","random","getVoiceUrls","urls","push","groups","u","filter","playWithRetry","maxAttempts","resolve","attempts","tryPlay","audio","Audio","preload","cleanup","oncanplaythrough","onerror","play","load","playRandomVoice","TaskTimeBlocks","TaskQuadrant","AddTaskModal","TabBar","VoiceCloneModal","AIVoiceModal","unscheduledTasks","block","segmentMap","currentUserId","created","fetchTasks","activated","autoSwitchTimeSegment","$router","warn","query","redirect","fullPath","processTasks","initializeMockData","refreshTasks","forEach","q","find","taskTimeDisplay","targetTimeBlockType","startTime","endTime","addHour","tb","moveToTimeBlock","taskIndex","findIndex","t","splice","view","minute","map","Number","newHour","toString","willBeCompleted","taskId","from","currentHour","getHours","targetSegment","mounted","_aiPlanHandler","addEventListener","beforeUnmount","removeEventListener","previousPeriod","periodLabel","nextPeriod","weekDates","_component_CalendarCell","getTime","isSelectedDate","getTaskCount","onSelect","selectDate","daySections","daySection","dateText","monthDates","isCurrentMonth","isToday","isSelected","isOtherMonth","showWeekDay","weekDayName","hasMultipleTasks","hasTasks","taskCount","toDateString","names","getDay","CalendarCell","selectedDate","currentDate","weekDays","startOfWeek","getStartOfWeek","endOfWeek","formatDate","dates","i","startOfMonth","formatDateText","getTasksForDate","fetchTasksForDates","getMonthDays","dateObjs","uniqueDays","Set","formatYmd","requests","dateStr","then","results","all","merged","seen","raw","normalizeTask","parseToLocalDate","x","add","anchor","daysInMonth","arr","day","timeDisplay","dateObj","input","test","n","isNaN","hh","mm","getMinutes","diff","setDate","weekDayNames","prev","_component_AIHeader","assistant","onOpenSettings","openSettingsModal","connectionStatus","spin","connectionStatusText","showError","reconnect","errorMessage","messages","_component_MessageCard","isProcessing","quickActions","sendQuickMessage","text","_component_MessageInput","onSendMessage","sendMessage","onSendVoiceMessage","sendVoiceMessage","onAiReply","handleAIReply","_component_AssistantSettingsModal","showSettingsModal","closeSettingsModal","onSave","saveAssistantSettings","_component_VoiceRecognitionStatus","show","showVoiceStatus","voiceStatusType","voiceStatusTitle","voiceStatusMessage","progress","voiceStatusProgress","voiceStatusAutoClose","hideVoiceStatus","goBack","assistantName","heartValue","openSettings","history","back","isUser","isTextMessage","content","isImageMessage","extractImageUrl","alt","isVoiceMessage","formatDuration","duration","isQuestionsMessage","metadata","questions","question","index","isTaskCreatedMessage","_hoisted_23","getTimeBlockText","isPlanMessage","plan","_hoisted_26","plan_overview","summary","collections_count","tasks_count","isDynamicAdjustmentMessage","_hoisted_32","adjustmentSummary","_hoisted_33","_hoisted_34","_hoisted_35","modified_tasks","_hoisted_36","postponed_tasks","_hoisted_37","new_tasks","_hoisted_38","cancelled_tasks","_hoisted_39","userState","_hoisted_40","_hoisted_41","getStateClass","primaryState","getStateText","isErrorMessage","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","QUICK_ACTIONS","MESSAGE_TYPES","TEXT","VOICE","TASK_CREATED","SCHEDULE_ADJUSTED","EMOTIONAL_SUPPORT","ERROR","TYPING","SENDERS","USER","AI","SYSTEM","TIME_BLOCKS","MORNING","FORENOON","AFTERNOON","EVENING","UNSCHEDULED","PRIORITIES","LOW","MEDIUM","HIGH","QUADRANTS","URGENT_IMPORTANT","IMPORTANT","URGENT","NEITHER","utils","Intl","DateTimeFormat","format","year","month","getTimeBlockName","getPriorityName","getQuadrantName","QUESTIONS","PLAN","DYNAMIC_ADJUSTMENT","typeName","state","stateMap","tired","busy","stressed","motivated","sick","normal","seconds","mins","secs","imageUrl","substring","showPlusMenu","isVoiceMode","toggleVoiceMode","handleFileSelect","handleImageSelect","isListening","onTouchstart","startVoiceInput","onTouchend","endVoiceInput","onTouchmove","handleTouchMove","onMousedown","onMouseup","onMouseleave","cancelVoiceInput","getVoicePlaceholderText","inputText","onKeypress","_withKeys","togglePlusMenu","recognitionStatusText","recognitionResult","clearRecognitionResult","transcription","editRecognitionResult","sendRecognitionResult","openPhotoLibrary","openCamera","_component_ImageAnalysisModal","showImageAnalysisModal","preSelectedFile","selectedFile","closeImageAnalysisModal","onAnalysisComplete","handleImageAnalysisComplete","onShowToast","showToast","LOG_LEVELS","DEBUG","INFO","WARN","CURRENT_LEVEL","COLORS","SUCCESS","API","ICONS","TIME","DATA","PROCESS","Logger","constructor","context","sessionId","generateSessionId","substr","formatTimestamp","toLocaleTimeString","hour12","second","fractionalSecondDigits","shouldLog","level","timestamp","prefix","groupCollapsed","groupEnd","debug","info","stack","operation","ai","timeEnd","group","callback","table","performance","uptime","logger","op","cb","start","API_ENDPOINTS","RECOGNIZE","UPLOAD_ONLY","RECOGNIZE_URL","getCurrentUserId","SpeechRecognitionService","checkAuth","recognizeVoice","audioFile","fileSize","allowedTypes","result","audioUrl","ossKey","uploadAudioOnly","recognizeFromUrl","stringify","validateAudioFile","maxSize","validation","isValid","errors","getProcessingStatus","resetProcessingStatus","speechRecognitionService","closeModal","isDragOver","isUploading","onDrop","handleDrop","onDragover","onDragleave","triggerFileSelect","previewUrl","formatFileSize","removeImage","customPrompt","analysisResult","analysis","usage","total_tokens","activeTab","analyzeImage","logAPI","logResponse","makeAPIRequest","endpoint","options","ImageAnalysisService","supportedFormats","maxFileSize","validateImageFile","join","toFixed","uploadAndAnalyze","fileType","errorData","analyzeImageUrl","image_url","custom_prompt","getSupportedFormats","getMaxFileSize","bytes","k","sizes","parseFloat","pow","imageAnalysisService","File","handler","newFile","selectFile","immediate","event","preventDefault","dataTransfer","URL","createObjectURL","revokeObjectURL","showSuccess","ImageAnalysisModal","mediaRecorder","audioChunks","recordingTime","recordingTimer","stream","touchStartY","touchStartTime","shouldCancel","document","handleGlobalClick","getTracks","track","stop","stopRecordingTimer","$nextTick","voiceArea","$el","querySelector","focus","textInput","touches","clientY","startRecording","cancelRecording","stopVoiceInput","currentY","deltaY","navigator","mediaDevices","getUserMedia","echoCancellation","noiseSuppression","sampleRate","mimeType","MediaRecorder","isTypeSupported","startRecordingTimer","ondataavailable","onstop","handleRecordingComplete","fallbackToFileInput","setInterval","clearInterval","audioBlob","Blob","convertedAudioFile","convertAudioFormat","originalType","convertedType","processAudioFile","supportedTypes","audioContext","AudioContext","webkitAudioContext","arrayBuffer","audioBuffer","decodeAudioData","wavBlob","audioBufferToWav","wavFile","originalSize","convertedSize","buffer","numberOfChannels","ArrayBuffer","DataView","writeString","offset","string","setUint8","charCodeAt","setUint32","setUint16","channel","sample","max","getChannelData","setInt16","getVoiceButtonIcon","getVoiceButtonTitle","closest","imageInput","cameraInput","createElement","capture","display","onchange","removeChild","appendChild","uploadImageToOSS","analyzeImageByURL","userImageMessage","analysisContent","openImageAnalysis","prompt","hasAnalysis","resultKeys","keys","praise","analysisMessage","for","currentHeartValue","saveSettings","isSaving","showStatus","statusType","statusIcon","isSuccess","statusTitle","statusMessage","showProgress","width","progressPercent","showClose","closeStatus","closable","autoClose","isVisible","autoCloseTimer","iconMap","processing","warning","titleMap","showStatusBar","hideStatusBar","newType","setupAutoClose","clearAutoCloseTimer","clearTimeout","controller","AbortController","timeoutId","abort","signal","AIsiriService","ensureUserIdOrRedirect","healthCheck","dispatch","userInput","deviceInfo","platform","version","intents","servicesExecuted","service","taskCreated","scheduleAdjusted","emotionalSupport","getStatus","resetUserId","getCurrentSessionId","createNewSession","aisiriService","generateMessageId","createMessage","sender","MessageService","currentSessionId","addWelcomeMessage","welcomeMessage","getMessages","addUserMessage","messageType","addAIMessage","addAIReply","addVoiceMessage","voiceData","ceil","addSystemMessage","processUserInput","handleDispatchResponse","processVoiceInput","handleVoiceDispatchResponse","apiError","processingTime","isVoiceInput","addTaskCreatedMessage","addScheduleAdjustedMessage","dispatchEvent","CustomEvent","detail","scheduledTime","scheduleInfo","isCurrentlyProcessing","setSessionId","clearMessages","exportMessages","messageService","AIAssistantService","listeners","getOrCreateAssistant","notifyListeners","getAssistantInfo","updateAssistantName","increaseHeartValue","getCurrentAssistant","addListener","listener","removeListener","indexOf","initialize","updatedAt","aiAssistantService","AIHeader","MessageCard","MessageInput","AssistantSettingsModal","VoiceRecognitionStatus","isTyping","updateMessages","handleError","scrollToBottom","messageCount","checkConnection","chatContainer","scrollTop","scrollHeight","exportChatHistory","blob","a","download","newName","initializeAIAssistant","updateAssistantFromService","showVoiceStatusBar","updateVoiceStatusProgress","replyContent","setupVoiceRecognitionListener","checkStatus","voiceStatusInterval","deep","newStatus","statusMap","connecting","connected","openCreateCollectionModal","_component_LoadingSpinner","collection","_component_CollectionCard","onToggleExpansion","handleToggleExpansion","onAddSubtask","openAddSubtaskModal","onToggleSubtask","handleToggleSubtask","_component_CollectionModal","showCollectionModal","editingCollection","closeCollectionModal","handleCollectionSubmit","_component_SubtaskModal","showSubtaskModal","currentCollectionId","subtask","editingSubtask","closeSubtaskModal","handleSubtaskSubmit","toggleExpansion","subtasks","progressPercentage","expanded","isExpanded","maxHeight","_component_SubtaskItem","estimatedTime","priorityLabels","minutes","hours","remaining","SubtaskItem","round","isEditing","nameInput","handleKeyDown","submitData","collectionId","titleInput","formatDateForInput","overlay","isOverlay","CollectionCard","CollectionModal","SubtaskModal","LoadingSpinner","loadCollections","collectionData","openEditSubtaskModal","subtaskData","taskPayload","subtaskId","targetSubtask","st","totalTimes","totalMinutes","avgDailyMinutes","shiftDay","formattedDate","todayTimes","todayMinutes","activeRange","shiftMonth","formattedMonth","_hoisted_46","hourlyBars","h","height","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","viewBox","chartW","chartH","preserveAspectRatio","x1","y1","x2","y2","areaPath","points","polyPoints","stroke","dayCursor","monthCursor","lineData","stepX","maxY","first","last","loadAll","delta","loadToday","setMonth","loadMonth","loadOverview","toISOStart","setHours","toISOEnd","minutesFromSeconds","s","totalSeconds","totalFocusSeconds","totalFocusTime","totalSessions","total","count","avgDailySeconds","avgDailyFocusSeconds","avgDaily","end","reduce","sum","r","actualFocusTime","isFinite","startISO","endISO","records","dayTotals","sec","maxHour","_component_TimerCircle","timeLeft","modes","currentMode","modeLabels","isRunning","pauseTimer","startTimer","showStopModal","completedPomodoros","sessionMessage","currentQuote","showModal","hideStopModal","abandonTimer","completeTimer","progressStyle","displayTime","totalTime","degrees","background","transform","TimerCircle","timer","sessionStartTime","fromRoute","pomodoro","shortBreak","longBreak","quotes","taskFromQuery","getRandomQuote","loadTodayPomodoros","onTimerComplete","savePomodoroRecord","resetTimer","setMode","playNotificationSound","nextMode","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","gain","setValueAtTime","exponentialRampToValueAtTime","actualDuration","plannedDuration","completionStatus","localDate","sourceRoute","todayPomodoros","p","_component_AuthLogo","$setup","_component_LoginForm","onSwitchMode","switchMode","handleLogin","_component_RegisterForm","handleRegister","FontAwesomeIcon","phoneNumber","onInput","validatePhoneNumber","onBlur","showPassword","minlength","validatePassword","isLoading","isFormValid","setup","reactive","phoneRegex","showMessage","maybePromise","nickname","validateNickname","confirmPassword","showConfirmPassword","validateConfirmPassword","authAPI","register","userData","login","credentials","getUserProfile","updateUserProfile","updateData","authState","useAuthStore","isAuthenticated","currentUser","saveAuthData","setItem","clearAuthData","logout","fetchUserProfile","updateProfile","AuthLogo","LoginForm","RegisterForm","router","useRouter","route","useRoute","toast","useToast","authStore","newPath","maskedPhoneNumber","redirectPath","routes","component","Auth","meta","requiresGuest","Task","requiresAuth","Calendar","AiSecretary","TaskCollections","Stats","Pomodoro","createRouter","createWebHistory","beforeEach","next","matched","some","record","verified","profileResp","library","faHome","faCalendar","faRobot","faLayerGroup","faChartPie","faPlus","faCog","faPlay","faPause","faStop","faChevronLeft","faChevronRight","faChevronDown","faCheck","faEdit","faTrash","faTimes","faUser","faMicrophone","faMicrophoneSlash","faPaperPlane","faGraduationCap","faCode","faLanguage","faChartLine","faClock","faBrain","faHeart","faCheckCircle","faFire","faTasks","faSun","faCrown","faThLarge","faPlayCircle","faPauseCircle","faFolderOpen","faBook","faDumbbell","faBriefcase","faCalculator","faPhone","faLock","faSignInAlt","faUserPlus","faEye","faEyeSlash","faSpinner","faExclamationCircle","faChevronUp","faArrowLeft","faChartColumn","faChartSimple","faShareNodes","faCalendarRegular","faCalendarDaysRegular","faRefresh","faBullseye","faImage","faComment","faCloudUploadAlt","faSearch","faKeyboard","faImages","faCamera","createApp","App","Toast","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}