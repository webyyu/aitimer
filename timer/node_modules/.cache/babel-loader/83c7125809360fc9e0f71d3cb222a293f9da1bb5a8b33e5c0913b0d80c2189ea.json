{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport TimerCircle from '../components/pomodoro/TimerCircle.vue';\nimport pomodoroApi from '../api/pomodoros.js';\nimport api from '@/api';\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js';\nexport default {\n  name: 'PomodoroTimer',\n  components: {\n    TimerCircle\n  },\n  data() {\n    return {\n      timer: null,\n      timeLeft: 25 * 60,\n      // 25 minutes in seconds\n      isRunning: false,\n      currentMode: 'pomodoro',\n      completedPomodoros: 0,\n      taskName: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n      sessionMessage: '‰∏ìÊ≥®Êó∂Èó¥Ôºå‰øùÊåÅÈ´òÊïàÔºÅ',\n      showModal: false,\n      sessionStartTime: null,\n      currentSessionId: null,\n      fromRoute: '/task',\n      // ËÆ∞ÂΩïÊù•Ê∫êË∑ØÁî±\n      modes: {\n        pomodoro: 25 * 60,\n        shortBreak: 5 * 60,\n        longBreak: 15 * 60\n      },\n      modeLabels: {\n        pomodoro: '‰∏ìÊ≥®Êó∂Èó¥',\n        shortBreak: 'Áü≠‰ºëÊÅØ',\n        longBreak: 'Èïø‰ºëÊÅØ'\n      },\n      quotes: [\"ÊàêÂäüÁöÑÁßòËØÄÂú®‰∫éÂùöÊåÅÁõÆÊ†áÁöÑÂøóÂêë‰∏çÊáà„ÄÇ\", \"ÊØè‰∏Ä‰∏™Áï™ËåÑÊó∂Èó¥ÈÉΩÊòØÂêëÊ¢¶ÊÉ≥ËøàËøõÁöÑ‰∏ÄÊ≠•„ÄÇ\", \"‰∏ìÊ≥®ÂΩì‰∏ãÔºåÊàêÂ∞±Êú™Êù•„ÄÇ\", \"‰ªäÂ§©ÁöÑÂä™ÂäõÔºåÊòØÊòéÂ§©ÁöÑÂÆûÂäõ„ÄÇ\", \"ÂùöÊåÅÂ∞±ÊòØËÉúÂà©Ôºå‰∏ìÊ≥®Â∞±ÊòØÂäõÈáè„ÄÇ\", \"Â∞èÊ≠•Âø´Ë∑ëÔºåÊåÅÁª≠ËøõÊ≠•„ÄÇ\"],\n      currentQuote: ''\n    };\n  },\n  mounted() {\n    // Get task name from route query\n    const taskFromQuery = this.$route.query.task;\n    if (taskFromQuery) {\n      this.taskName = typeof taskFromQuery === 'string' ? taskFromQuery : String(taskFromQuery);\n    }\n\n    // ËÆ∞ÂΩïÊù•Ê∫êË∑ØÁî±ÔºàÈªòËÆ§ÂõûÂà∞‰ªªÂä°È°µÔºâ\n    this.fromRoute = this.$route.query.from && typeof this.$route.query.from === 'string' ? this.$route.query.from : '/task';\n\n    // Set initial quote\n    this.currentQuote = this.getRandomQuote();\n\n    // Set initial time\n    this.timeLeft = this.modes[this.currentMode];\n\n    // Âä†ËΩΩ‰ªäÊó•ÂÆåÊàêÁöÑÁï™ËåÑÈíüÊï∞Èáè\n    this.loadTodayPomodoros();\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  },\n  methods: {\n    startTimer() {\n      if (!this.isRunning) {\n        this.isRunning = true;\n        this.sessionStartTime = new Date();\n        this.timer = setInterval(() => {\n          this.timeLeft--;\n          if (this.timeLeft <= 0) {\n            this.onTimerComplete();\n          }\n        }, 1000);\n      }\n    },\n    pauseTimer() {\n      if (this.isRunning) {\n        clearInterval(this.timer);\n        this.isRunning = false;\n      }\n    },\n    showStopModal() {\n      this.showModal = true;\n    },\n    hideStopModal() {\n      this.showModal = false;\n    },\n    async abandonTimer() {\n      // ËÆ∞ÂΩïÊîæÂºÉÁöÑÁï™ËåÑÈíü\n      await this.savePomodoroRecord(false);\n      // Êí≠ÊîæÊâπËØÑËØ≠Èü≥\n      playRandomVoice('criticize');\n      this.resetTimer();\n      this.hideStopModal();\n      this.goBack();\n    },\n    async completeTimer() {\n      // ËÆ∞ÂΩïÊèêÂâçÂÆåÊàêÁöÑÁï™ËåÑÈíü\n      await this.savePomodoroRecord(true);\n      // Êí≠ÊîæÈºìÂä±ËØ≠Èü≥\n      playRandomVoice('encourage');\n      // Ëã•Â∏¶ÊúâtaskIdÔºåÂõûÂÜô‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ\n      try {\n        const taskId = this.$route.query.taskId;\n        if (taskId) {\n          console.log('üîÑ [Pomodoro] Êõ¥Êñ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ:', taskId);\n          const resp = await api.tasks.updateTask(taskId, {\n            completed: true\n          });\n          console.log('‚úÖ [Pomodoro] ‰ªªÂä°Áä∂ÊÄÅÊõ¥Êñ∞ÂìçÂ∫î:', resp);\n        } else {\n          console.warn('‚ö†Ô∏è [Pomodoro] Êú™Êèê‰æõtaskIdÔºåÊó†Ê≥ïÂõûÂÜô‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ');\n        }\n      } catch (e) {\n        console.error('‚ùå [Pomodoro] Êõ¥Êñ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅÂ§±Ë¥•:', e);\n      }\n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++;\n      }\n      this.resetTimer();\n      this.hideStopModal();\n      this.goBack();\n    },\n    resetTimer() {\n      clearInterval(this.timer);\n      this.isRunning = false;\n      this.timeLeft = this.modes[this.currentMode];\n      this.sessionStartTime = null;\n    },\n    setMode(mode) {\n      this.currentMode = mode;\n      this.timeLeft = this.modes[mode];\n      this.resetTimer();\n    },\n    async onTimerComplete() {\n      clearInterval(this.timer);\n      this.isRunning = false;\n\n      // Play notification sound\n      this.playNotificationSound();\n\n      // ‰øùÂ≠òÂÆåÊàêÁöÑÁï™ËåÑÈíüËÆ∞ÂΩï\n      await this.savePomodoroRecord(true);\n      // Êí≠ÊîæÈºìÂä±ËØ≠Èü≥\n      playRandomVoice('encourage');\n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++;\n\n        // Auto switch to break mode\n        const nextMode = this.completedPomodoros % 4 === 0 ? 'longBreak' : 'shortBreak';\n        this.sessionMessage = nextMode === 'longBreak' ? 'ÈïøÊó∂Èó¥‰ºëÊÅØÔºåÂ•ΩÂ•ΩÊîæÊùæÔºÅ' : 'Áü≠ÊöÇ‰ºëÊÅØÔºåÂáÜÂ§á‰∏ã‰∏ÄËΩÆÔºÅ';\n        setTimeout(() => {\n          this.setMode(nextMode);\n          // Auto start break timer\n          setTimeout(() => {\n            this.startTimer();\n          }, 1000);\n        }, 2000);\n      } else {\n        // Break finished, back to pomodoro\n        this.sessionMessage = 'ÁªßÁª≠Âä†Ê≤πÔºÅ‰øùÊåÅ‰∏ìÊ≥®';\n        setTimeout(() => {\n          this.setMode('pomodoro');\n          // Auto start pomodoro timer\n          setTimeout(() => {\n            this.startTimer();\n          }, 1000);\n        }, 2000);\n      }\n\n      // Update motivational quote\n      this.currentQuote = this.getRandomQuote();\n    },\n    playNotificationSound() {\n      // Create a simple beep sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      oscillator.frequency.value = 800;\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.5);\n    },\n    getRandomQuote() {\n      return this.quotes[Math.floor(Math.random() * this.quotes.length)];\n    },\n    goBack() {\n      const target = this.fromRoute || '/task';\n      this.$router.replace(target);\n    },\n    formatTime(seconds) {\n      const minutes = Math.floor(seconds / 60);\n      const secs = seconds % 60;\n      return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n    },\n    async savePomodoroRecord(completed) {\n      if (!this.sessionStartTime) return;\n      const endTime = new Date();\n      const actualDuration = Math.floor((endTime - this.sessionStartTime) / 1000);\n      const plannedDuration = this.modes[this.currentMode];\n\n      // Á°ÆÂÆöÂÆåÊàêÁä∂ÊÄÅ\n      let completionStatus = 'normal';\n      if (!completed) {\n        completionStatus = 'abandoned';\n      } else if (actualDuration < plannedDuration) {\n        completionStatus = 'early';\n      }\n\n      // ËÆ°ÁÆóÊú¨Âú∞Êó•Êúü‰∏éÊó∂Èó¥ÊÆµ\n      const y = endTime.getFullYear();\n      const m = String(endTime.getMonth() + 1).padStart(2, '0');\n      const d = String(endTime.getDate()).padStart(2, '0');\n      const localDate = `${y}-${m}-${d}`;\n      const hour = endTime.getHours();\n      let timeBlockType = 'evening';\n      if (hour >= 7 && hour < 12) timeBlockType = 'morning';else if (hour >= 12 && hour < 18) timeBlockType = 'afternoon';\n      const user = JSON.parse(localStorage.getItem('user') || 'null');\n      const userId = user?._id || user?.id || null;\n      if (!userId) {\n        console.warn('‚ö†Ô∏è [Pomodoro] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ');\n        this.$router.replace({\n          path: '/auth/login',\n          query: {\n            redirect: this.$route.fullPath\n          }\n        });\n        return;\n      }\n      const pomodoroData = {\n        taskName: this.taskName,\n        mode: this.currentMode,\n        startTime: this.sessionStartTime.toISOString(),\n        endTime: endTime.toISOString(),\n        duration: plannedDuration,\n        // ËÆ°ÂàíÊåÅÁª≠Êó∂Èó¥\n        actualFocusTime: actualDuration,\n        // ÂÆûÈôÖ‰∏ìÊ≥®Êó∂Èó¥\n        completed: completed,\n        completionStatus: completionStatus,\n        userId,\n        sourceRoute: this.fromRoute,\n        date: localDate,\n        timeBlockType,\n        taskId: this.$route.query.taskId || null\n      };\n      try {\n        const response = await pomodoroApi.createPomodoro(pomodoroData);\n        console.log('Áï™ËåÑÈíüËÆ∞ÂΩï‰øùÂ≠òÊàêÂäü:', response.data);\n\n        // ÊòæÁ§∫‰øùÂ≠òÊàêÂäüÁöÑÊèêÁ§∫\n        this.sessionMessage = completed ? completionStatus === 'early' ? 'ÊèêÂâçÂÆåÊàêÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ' : '‰ªªÂä°ÂÆåÊàêÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ' : 'Â∑≤ÊîæÂºÉÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ';\n      } catch (error) {\n        console.error('‰øùÂ≠òÁï™ËåÑÈíüËÆ∞ÂΩïÂ§±Ë¥•:', error);\n        this.sessionMessage = 'ËÆ∞ÂΩï‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•';\n      }\n    },\n    async loadTodayPomodoros() {\n      try {\n        const user = JSON.parse(localStorage.getItem('user') || 'null');\n        const userId = user?._id || user?.id || null;\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [Pomodoro] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ');\n          this.$router.replace({\n            path: '/auth/login',\n            query: {\n              redirect: this.$route.fullPath\n            }\n          });\n          return;\n        }\n        const today = new Date();\n        const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n        const endOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);\n        const response = await pomodoroApi.getAllPomodoros({\n          userId,\n          startDate: startOfDay.toISOString(),\n          endDate: endOfDay.toISOString()\n        });\n        const list = response.data?.data || response.data || [];\n        const todayPomodoros = list.filter(p => p.mode === 'pomodoro' && p.completed);\n        this.completedPomodoros = todayPomodoros.length;\n      } catch (error) {\n        console.error('Âä†ËΩΩ‰ªäÊó•Áï™ËåÑÈíüËÆ∞ÂΩïÂ§±Ë¥•:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["TimerCircle","pomodoroApi","api","playRandomVoice","name","components","data","timer","timeLeft","isRunning","currentMode","completedPomodoros","taskName","sessionMessage","showModal","sessionStartTime","currentSessionId","fromRoute","modes","pomodoro","shortBreak","longBreak","modeLabels","quotes","currentQuote","mounted","taskFromQuery","$route","query","task","String","from","getRandomQuote","loadTodayPomodoros","beforeUnmount","clearInterval","methods","startTimer","Date","setInterval","onTimerComplete","pauseTimer","showStopModal","hideStopModal","abandonTimer","savePomodoroRecord","resetTimer","goBack","completeTimer","taskId","console","log","resp","tasks","updateTask","completed","warn","e","error","setMode","mode","playNotificationSound","nextMode","setTimeout","audioContext","window","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","type","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","Math","floor","random","length","target","$router","replace","formatTime","seconds","minutes","secs","toString","padStart","endTime","actualDuration","plannedDuration","completionStatus","y","getFullYear","m","getMonth","d","getDate","localDate","hour","getHours","timeBlockType","user","JSON","parse","localStorage","getItem","userId","_id","id","path","redirect","fullPath","pomodoroData","startTime","toISOString","duration","actualFocusTime","sourceRoute","date","response","createPomodoro","today","startOfDay","endOfDay","getAllPomodoros","startDate","endDate","list","todayPomodoros","filter","p"],"sources":["/Users/bytedance/Desktop/backend(2)/timer/src/views/Pomodoro.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- Header with Back Button -->\n      <div class=\"header\">\n        <div class=\"header-top\">\n          <div class=\"back-btn\" @click=\"goBack\" title=\"ËøîÂõû‰ªªÂä°ÂàóË°®\">\n            <font-awesome-icon icon=\"arrow-left\" />\n          </div>\n          <h1>Áï™ËåÑÂ∑•‰ΩúÊ≥ï</h1>\n          <div class=\"header-spacer\"></div>\n        </div>\n        <div class=\"task-name\">{{ taskName }}</div>\n      </div>\n\n    <!-- Timer Container -->\n    <div class=\"timer-container\">\n      <TimerCircle\n        :time-left=\"timeLeft\"\n        :total-time=\"modes[currentMode]\"\n        :label=\"modeLabels[currentMode]\"\n      />\n\n      <!-- Timer Controls -->\n      <div class=\"timer-controls\">\n        <div \n          v-if=\"!isRunning\" \n          class=\"control-btn start-btn\" \n          @click=\"startTimer\"\n        >\n          <font-awesome-icon icon=\"play\" />\n        </div>\n        <div \n          v-else \n          class=\"control-btn pause-btn playing\" \n          @click=\"pauseTimer\"\n        >\n          <font-awesome-icon icon=\"pause\" />\n        </div>\n        <div class=\"control-btn stop-btn\" @click=\"showStopModal\">\n          <font-awesome-icon icon=\"stop\" />\n        </div>\n      </div>\n\n      <!-- Session Info -->\n      <div class=\"session-info\">\n        <div class=\"session-count\">‰ªäÊó•Â∑≤ÂÆåÊàê: {{ completedPomodoros }}‰∏™Áï™ËåÑ</div>\n        <div class=\"session-message\">{{ sessionMessage }}</div>\n      </div>\n    </div>\n\n    <!-- Motivational Quote -->\n    <div class=\"motivational-quote\">\n      {{ currentQuote }}\n    </div>\n\n    <!-- Stop Modal -->\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"hideStopModal\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>ÁªìÊùüÂΩìÂâçËÆ°Êó∂</h3>\n        </div>\n        <div class=\"modal-body\">\n          <p>ÊÇ®ÊÉ≥Ë¶ÅÂ¶Ç‰ΩïÂ§ÑÁêÜÂΩìÂâçÁöÑËÆ°Êó∂Ôºü</p>\n          <div class=\"modal-time-info\">\n            <span>Â∑≤Áî®Êó∂Èó¥: {{ formatTime(modes[currentMode] - timeLeft) }}</span>\n          </div>\n        </div>\n        <div class=\"modal-actions\">\n          <button class=\"modal-btn abandon-btn\" @click=\"abandonTimer\">\n            <font-awesome-icon icon=\"times\" />\n            ÊîæÂºÉËÆ°Êó∂\n          </button>\n          <button class=\"modal-btn complete-btn\" @click=\"completeTimer\">\n            <font-awesome-icon icon=\"check\" />\n            ÊèêÂâçÂÆåÊàê\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TimerCircle from '../components/pomodoro/TimerCircle.vue'\nimport pomodoroApi from '../api/pomodoros.js'\nimport api from '@/api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'PomodoroTimer',\n  components: {\n    TimerCircle\n  },\n  data() {\n    return {\n      timer: null,\n      timeLeft: 25 * 60, // 25 minutes in seconds\n      isRunning: false,\n      currentMode: 'pomodoro',\n      completedPomodoros: 0,\n      taskName: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n      sessionMessage: '‰∏ìÊ≥®Êó∂Èó¥Ôºå‰øùÊåÅÈ´òÊïàÔºÅ',\n      showModal: false,\n      sessionStartTime: null,\n      currentSessionId: null,\n      fromRoute: '/task', // ËÆ∞ÂΩïÊù•Ê∫êË∑ØÁî±\n      modes: {\n        pomodoro: 25 * 60,\n        shortBreak: 5 * 60,\n        longBreak: 15 * 60\n      },\n      modeLabels: {\n        pomodoro: '‰∏ìÊ≥®Êó∂Èó¥',\n        shortBreak: 'Áü≠‰ºëÊÅØ',\n        longBreak: 'Èïø‰ºëÊÅØ'\n      },\n      quotes: [\n        \"ÊàêÂäüÁöÑÁßòËØÄÂú®‰∫éÂùöÊåÅÁõÆÊ†áÁöÑÂøóÂêë‰∏çÊáà„ÄÇ\",\n        \"ÊØè‰∏Ä‰∏™Áï™ËåÑÊó∂Èó¥ÈÉΩÊòØÂêëÊ¢¶ÊÉ≥ËøàËøõÁöÑ‰∏ÄÊ≠•„ÄÇ\",\n        \"‰∏ìÊ≥®ÂΩì‰∏ãÔºåÊàêÂ∞±Êú™Êù•„ÄÇ\",\n        \"‰ªäÂ§©ÁöÑÂä™ÂäõÔºåÊòØÊòéÂ§©ÁöÑÂÆûÂäõ„ÄÇ\",\n        \"ÂùöÊåÅÂ∞±ÊòØËÉúÂà©Ôºå‰∏ìÊ≥®Â∞±ÊòØÂäõÈáè„ÄÇ\",\n        \"Â∞èÊ≠•Âø´Ë∑ëÔºåÊåÅÁª≠ËøõÊ≠•„ÄÇ\"\n      ],\n      currentQuote: ''\n    }\n  },\n  mounted() {\n    // Get task name from route query\n    const taskFromQuery = this.$route.query.task\n    if (taskFromQuery) {\n      this.taskName = typeof taskFromQuery === 'string' ? taskFromQuery : String(taskFromQuery)\n    }\n    \n    // ËÆ∞ÂΩïÊù•Ê∫êË∑ØÁî±ÔºàÈªòËÆ§ÂõûÂà∞‰ªªÂä°È°µÔºâ\n    this.fromRoute = (this.$route.query.from && typeof this.$route.query.from === 'string') ? this.$route.query.from : '/task'\n    \n    // Set initial quote\n    this.currentQuote = this.getRandomQuote()\n    \n    // Set initial time\n    this.timeLeft = this.modes[this.currentMode]\n    \n    // Âä†ËΩΩ‰ªäÊó•ÂÆåÊàêÁöÑÁï™ËåÑÈíüÊï∞Èáè\n    this.loadTodayPomodoros()\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer)\n    }\n  },\n  methods: {\n    startTimer() {\n      if (!this.isRunning) {\n        this.isRunning = true\n        this.sessionStartTime = new Date()\n        \n        this.timer = setInterval(() => {\n          this.timeLeft--\n          \n          if (this.timeLeft <= 0) {\n            this.onTimerComplete()\n          }\n        }, 1000)\n      }\n    },\n    pauseTimer() {\n      if (this.isRunning) {\n        clearInterval(this.timer)\n        this.isRunning = false\n      }\n    },\n    showStopModal() {\n      this.showModal = true\n    },\n    hideStopModal() {\n      this.showModal = false\n    },\n    async abandonTimer() {\n      // ËÆ∞ÂΩïÊîæÂºÉÁöÑÁï™ËåÑÈíü\n      await this.savePomodoroRecord(false)\n      // Êí≠ÊîæÊâπËØÑËØ≠Èü≥\n      playRandomVoice('criticize')\n      this.resetTimer()\n      this.hideStopModal()\n      this.goBack()\n    },\n    async completeTimer() {\n      // ËÆ∞ÂΩïÊèêÂâçÂÆåÊàêÁöÑÁï™ËåÑÈíü\n      await this.savePomodoroRecord(true)\n      // Êí≠ÊîæÈºìÂä±ËØ≠Èü≥\n      playRandomVoice('encourage')\n      // Ëã•Â∏¶ÊúâtaskIdÔºåÂõûÂÜô‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ\n      try {\n        const taskId = this.$route.query.taskId\n        if (taskId) {\n          console.log('üîÑ [Pomodoro] Êõ¥Êñ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ:', taskId)\n          const resp = await api.tasks.updateTask(taskId, { completed: true })\n          console.log('‚úÖ [Pomodoro] ‰ªªÂä°Áä∂ÊÄÅÊõ¥Êñ∞ÂìçÂ∫î:', resp)\n        } else {\n          console.warn('‚ö†Ô∏è [Pomodoro] Êú™Êèê‰æõtaskIdÔºåÊó†Ê≥ïÂõûÂÜô‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ')\n        }\n      } catch (e) {\n        console.error('‚ùå [Pomodoro] Êõ¥Êñ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅÂ§±Ë¥•:', e)\n      }\n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++\n      }\n      this.resetTimer()\n      this.hideStopModal()\n      this.goBack()\n    },\n    resetTimer() {\n      clearInterval(this.timer)\n      this.isRunning = false\n      this.timeLeft = this.modes[this.currentMode]\n      this.sessionStartTime = null\n    },\n    setMode(mode) {\n      this.currentMode = mode\n      this.timeLeft = this.modes[mode]\n      this.resetTimer()\n    },\n    async onTimerComplete() {\n      clearInterval(this.timer)\n      this.isRunning = false\n      \n      // Play notification sound\n      this.playNotificationSound()\n      \n      // ‰øùÂ≠òÂÆåÊàêÁöÑÁï™ËåÑÈíüËÆ∞ÂΩï\n      await this.savePomodoroRecord(true)\n      // Êí≠ÊîæÈºìÂä±ËØ≠Èü≥\n      playRandomVoice('encourage')\n      \n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++\n        \n        // Auto switch to break mode\n        const nextMode = this.completedPomodoros % 4 === 0 ? 'longBreak' : 'shortBreak'\n        this.sessionMessage = nextMode === 'longBreak' ? 'ÈïøÊó∂Èó¥‰ºëÊÅØÔºåÂ•ΩÂ•ΩÊîæÊùæÔºÅ' : 'Áü≠ÊöÇ‰ºëÊÅØÔºåÂáÜÂ§á‰∏ã‰∏ÄËΩÆÔºÅ'\n        \n        setTimeout(() => {\n          this.setMode(nextMode)\n          // Auto start break timer\n          setTimeout(() => {\n            this.startTimer()\n          }, 1000)\n        }, 2000)\n      } else {\n        // Break finished, back to pomodoro\n        this.sessionMessage = 'ÁªßÁª≠Âä†Ê≤πÔºÅ‰øùÊåÅ‰∏ìÊ≥®'\n        setTimeout(() => {\n          this.setMode('pomodoro')\n          // Auto start pomodoro timer\n          setTimeout(() => {\n            this.startTimer()\n          }, 1000)\n        }, 2000)\n      }\n      \n      // Update motivational quote\n      this.currentQuote = this.getRandomQuote()\n    },\n    playNotificationSound() {\n      // Create a simple beep sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)()\n      const oscillator = audioContext.createOscillator()\n      const gainNode = audioContext.createGain()\n      \n      oscillator.connect(gainNode)\n      gainNode.connect(audioContext.destination)\n      \n      oscillator.frequency.value = 800\n      oscillator.type = 'sine'\n      \n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime)\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5)\n      \n      oscillator.start(audioContext.currentTime)\n      oscillator.stop(audioContext.currentTime + 0.5)\n    },\n    getRandomQuote() {\n      return this.quotes[Math.floor(Math.random() * this.quotes.length)]\n    },\n    goBack() {\n      const target = this.fromRoute || '/task'\n      this.$router.replace(target)\n    },\n    formatTime(seconds) {\n      const minutes = Math.floor(seconds / 60)\n      const secs = seconds % 60\n      return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\n    },\n    async savePomodoroRecord(completed) {\n      if (!this.sessionStartTime) return\n      \n      const endTime = new Date()\n      const actualDuration = Math.floor((endTime - this.sessionStartTime) / 1000)\n      const plannedDuration = this.modes[this.currentMode]\n      \n      // Á°ÆÂÆöÂÆåÊàêÁä∂ÊÄÅ\n      let completionStatus = 'normal'\n      if (!completed) {\n        completionStatus = 'abandoned'\n      } else if (actualDuration < plannedDuration) {\n        completionStatus = 'early'\n      }\n      \n      // ËÆ°ÁÆóÊú¨Âú∞Êó•Êúü‰∏éÊó∂Èó¥ÊÆµ\n      const y = endTime.getFullYear()\n      const m = String(endTime.getMonth() + 1).padStart(2, '0')\n      const d = String(endTime.getDate()).padStart(2, '0')\n      const localDate = `${y}-${m}-${d}`\n      const hour = endTime.getHours()\n      let timeBlockType = 'evening'\n      if (hour >= 7 && hour < 12) timeBlockType = 'morning'\n      else if (hour >= 12 && hour < 18) timeBlockType = 'afternoon'\n\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      const userId = user?._id || user?.id || null\n      if (!userId) {\n        console.warn('‚ö†Ô∏è [Pomodoro] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ')\n        this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n        return\n      }\n\n      const pomodoroData = {\n        taskName: this.taskName,\n        mode: this.currentMode,\n        startTime: this.sessionStartTime.toISOString(),\n        endTime: endTime.toISOString(),\n        duration: plannedDuration, // ËÆ°ÂàíÊåÅÁª≠Êó∂Èó¥\n        actualFocusTime: actualDuration, // ÂÆûÈôÖ‰∏ìÊ≥®Êó∂Èó¥\n        completed: completed,\n        completionStatus: completionStatus,\n        userId,\n        sourceRoute: this.fromRoute,\n        date: localDate,\n        timeBlockType,\n        taskId: this.$route.query.taskId || null\n      }\n      \n      try {\n        const response = await pomodoroApi.createPomodoro(pomodoroData)\n        console.log('Áï™ËåÑÈíüËÆ∞ÂΩï‰øùÂ≠òÊàêÂäü:', response.data)\n        \n        // ÊòæÁ§∫‰øùÂ≠òÊàêÂäüÁöÑÊèêÁ§∫\n        this.sessionMessage = completed ? \n          (completionStatus === 'early' ? 'ÊèêÂâçÂÆåÊàêÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ' : '‰ªªÂä°ÂÆåÊàêÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ') : \n          'Â∑≤ÊîæÂºÉÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ'\n      } catch (error) {\n        console.error('‰øùÂ≠òÁï™ËåÑÈíüËÆ∞ÂΩïÂ§±Ë¥•:', error)\n        this.sessionMessage = 'ËÆ∞ÂΩï‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•'\n      }\n    },\n    async loadTodayPomodoros() {\n      try {\n        const user = JSON.parse(localStorage.getItem('user') || 'null')\n        const userId = user?._id || user?.id || null\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [Pomodoro] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n\n        const today = new Date()\n        const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n        const endOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1)\n        const response = await pomodoroApi.getAllPomodoros({\n          userId,\n          startDate: startOfDay.toISOString(),\n          endDate: endOfDay.toISOString()\n        })\n        const list = response.data?.data || response.data || []\n        const todayPomodoros = list.filter(p => p.mode === 'pomodoro' && p.completed)\n        this.completedPomodoros = todayPomodoros.length\n      } catch (error) {\n        console.error('Âä†ËΩΩ‰ªäÊó•Áï™ËåÑÈíüËÆ∞ÂΩïÂ§±Ë¥•:', error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .app-container {\n  width: 100%;\n  height: 100vh;\n  /* ‰ΩøÁî®Êõ¥È´òÁ∫ßÁöÑÊ∏êÂèò‰∏éÁúüÂÆûËÉåÊôØÂõæËûçÂêà */\n  background: \n    linear-gradient(115deg, rgba(45, 104, 240, 0.92) 0%, rgba(128, 75, 216, 0.90) 50%, rgba(180, 70, 190, 0.88) 100%),\n    url('https://images.unsplash.com/photo-1517832606299-7ae9b720a186?auto=format&fit=crop&w=2100&q=80') center/cover no-repeat;\n  display: flex;\n  flex-direction: column;\n  color: white;\n  overflow: hidden;\n  position: relative;\n}\n\n.header {\n  padding: 20px 24px;\n  position: relative;\n  z-index: 10;\n}\n\n.header-top {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.back-btn {\n  width: 44px;\n  height: 44px;\n  border-radius: 22px;\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-size: 18px;\n  color: white;\n}\n\n.back-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  transform: scale(1.05);\n}\n\n.back-btn:active {\n  transform: scale(0.95);\n}\n\n.header h1 {\n  font-size: 24px;\n  font-weight: 700;\n  margin: 0;\n  text-align: center;\n  flex: 1;\n}\n\n.header-spacer {\n  width: 44px;\n}\n\n.task-name {\n  font-size: 18px;\n  opacity: 0.9;\n  text-align: center;\n  font-weight: 500;\n}\n\n  .timer-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 24px;\n  position: relative;\n  z-index: 5;\n}\n\n.timer-controls {\n  display: flex;\n  gap: 32px;\n  margin-top: 50px;\n  align-items: center;\n}\n\n  .control-btn {\n  width: 70px;\n  height: 70px;\n  border-radius: 35px;\n  background: rgba(255, 255, 255, 0.18);\n  backdrop-filter: blur(20px);\n  border: 2px solid rgba(255, 255, 255, 0.30);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: 26px;\n  color: white;\n  box-shadow: 0 10px 34px rgba(0, 0, 0, 0.18);\n}\n\n.control-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n}\n\n.control-btn:active {\n  transform: translateY(0) scale(0.98);\n}\n\n  .start-btn {\n  background: rgba(76, 175, 80, 0.35);\n  border-color: rgba(76, 175, 80, 0.55);\n}\n\n.start-btn:hover {\n  background: rgba(76, 175, 80, 0.4);\n}\n\n  .pause-btn {\n  background: rgba(255, 193, 7, 0.35);\n  border-color: rgba(255, 193, 7, 0.55);\n}\n\n.pause-btn:hover {\n  background: rgba(255, 193, 7, 0.4);\n}\n\n  .stop-btn {\n  background: rgba(244, 67, 54, 0.35);\n  border-color: rgba(244, 67, 54, 0.55);\n}\n\n.stop-btn:hover {\n  background: rgba(244, 67, 54, 0.4);\n}\n\n.control-btn.playing {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);\n  }\n}\n\n.session-info {\n  margin-top: 30px;\n  text-align: center;\n  opacity: 0.9;\n}\n\n.session-count {\n  font-size: 18px;\n  margin-bottom: 8px;\n}\n\n.session-message {\n  font-size: 14px;\n  opacity: 0.7;\n}\n\n.motivational-quote {\n  position: absolute;\n  bottom: 120px;\n  left: 24px;\n  right: 24px;\n  text-align: center;\n  font-size: 16px;\n  opacity: 0.8;\n  font-style: italic;\n  padding: 0 20px;\n  z-index: 1;\n}\n\n/* Modal Styles */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.modal-content {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 24px;\n  padding: 32px;\n  max-width: 400px;\n  width: 100%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  animation: modalSlideIn 0.3s ease-out;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(30px) scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.modal-header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.modal-header h3 {\n  font-size: 22px;\n  font-weight: 700;\n  color: #2c3e50;\n  margin: 0;\n}\n\n.modal-body {\n  text-align: center;\n  margin-bottom: 32px;\n}\n\n.modal-body p {\n  font-size: 16px;\n  color: #5a6c7d;\n  margin: 0 0 16px 0;\n  line-height: 1.5;\n}\n\n.modal-time-info {\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 12px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #667eea;\n  font-weight: 600;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n}\n\n.modal-btn {\n  flex: 1;\n  padding: 14px 20px;\n  border: none;\n  border-radius: 16px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  min-height: 52px;\n}\n\n.abandon-btn {\n  background: rgba(244, 67, 54, 0.1);\n  color: #f44336;\n  border: 2px solid rgba(244, 67, 54, 0.2);\n}\n\n.abandon-btn:hover {\n  background: rgba(244, 67, 54, 0.15);\n  transform: translateY(-1px);\n}\n\n.complete-btn {\n  background: rgba(76, 175, 80, 0.1);\n  color: #4caf50;\n  border: 2px solid rgba(76, 175, 80, 0.2);\n}\n\n.complete-btn:hover {\n  background: rgba(76, 175, 80, 0.15);\n  transform: translateY(-1px);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 16px 20px;\n  }\n  \n  .back-btn {\n    width: 40px;\n    height: 40px;\n    font-size: 16px;\n  }\n  \n  .header h1 {\n    font-size: 20px;\n  }\n  \n  .header-spacer {\n    width: 40px;\n  }\n  \n  .task-name {\n    font-size: 16px;\n  }\n  \n  .timer-container {\n    padding: 20px 20px;\n  }\n  \n  .timer-controls {\n    gap: 24px;\n    margin-top: 40px;\n  }\n  \n  .control-btn {\n    width: 60px;\n    height: 60px;\n    font-size: 22px;\n  }\n  \n  .session-info {\n    margin-top: 20px;\n  }\n  \n  .session-count {\n    font-size: 16px;\n  }\n  \n  .session-message {\n    font-size: 13px;\n  }\n  \n  .motivational-quote {\n    bottom: 100px;\n    font-size: 14px;\n    padding: 0 16px;\n  }\n  \n  .modal-content {\n    padding: 24px;\n    margin: 16px;\n  }\n  \n  .modal-header h3 {\n    font-size: 20px;\n  }\n  \n  .modal-body p {\n    font-size: 15px;\n  }\n  \n  .modal-actions {\n    flex-direction: column;\n    gap: 12px;\n  }\n  \n  .modal-btn {\n    min-height: 48px;\n    font-size: 15px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}