{"ast":null,"code":"import speechRecognitionService from '../../AIsiri/services/speechRecognitionService.js';\nimport { log } from '../../AIsiri/utils/logger.js';\nexport default {\n  name: 'MessageInput',\n  data() {\n    return {\n      inputText: '',\n      isListening: false,\n      isProcessing: false,\n      recognitionResult: null,\n      recognitionStatusText: '正在识别中...',\n      selectedFile: null\n    };\n  },\n  methods: {\n    /**\n     * 发送文本消息\n     */\n    sendMessage() {\n      if (!this.inputText.trim() || this.isProcessing) return;\n      log.user('发送文本消息', {\n        message: this.inputText\n      });\n      this.$emit('sendMessage', this.inputText);\n      this.inputText = '';\n    },\n    /**\n     * 切换语音输入模式\n     */\n    toggleVoiceInput() {\n      if (this.isProcessing) return;\n      if (this.isListening) {\n        this.stopVoiceInput();\n      } else {\n        this.startVoiceInput();\n      }\n    },\n    /**\n     * 开始语音输入\n     */\n    startVoiceInput() {\n      log.info('开始语音输入');\n      this.isListening = true;\n\n      // 触发文件选择\n      this.$refs.fileInput.click();\n    },\n    /**\n     * 停止语音输入\n     */\n    stopVoiceInput() {\n      log.info('停止语音输入');\n      this.isListening = false;\n      this.selectedFile = null;\n    },\n    /**\n     * 处理文件选择\n     */\n    async handleFileSelect(event) {\n      const file = event.target.files[0];\n      if (!file) {\n        this.stopVoiceInput();\n        return;\n      }\n      try {\n        this.selectedFile = file;\n        this.isProcessing = true;\n        this.recognitionStatusText = '正在上传音频文件...';\n        log.info('开始语音识别', {\n          fileName: file.name,\n          fileSize: file.size\n        });\n\n        // 验证文件\n        const validation = speechRecognitionService.validateAudioFile(file);\n        if (!validation.isValid) {\n          throw new Error(validation.errors.join(', '));\n        }\n\n        // 开始语音识别\n        this.recognitionStatusText = '正在识别中，请稍候...';\n        const result = await speechRecognitionService.recognizeVoice(file);\n        if (result.success) {\n          this.recognitionResult = result;\n          this.recognitionStatusText = '识别完成';\n          log.success('语音识别成功', {\n            transcription: result.transcription\n          });\n\n          // 自动填充到输入框\n          this.inputText = result.transcription;\n\n          // 显示成功提示\n          this.showToast('语音识别成功！', 'success');\n        } else {\n          throw new Error('识别失败');\n        }\n      } catch (error) {\n        log.error('语音识别失败', error);\n        this.recognitionStatusText = '识别失败';\n        this.showToast(`语音识别失败: ${error.message}`, 'error');\n      } finally {\n        this.isProcessing = false;\n        this.isListening = false;\n        this.selectedFile = null;\n\n        // 清空文件输入\n        if (this.$refs.fileInput) {\n          this.$refs.fileInput.value = '';\n        }\n      }\n    },\n    /**\n     * 编辑识别结果\n     */\n    editRecognitionResult() {\n      if (this.recognitionResult) {\n        this.inputText = this.recognitionResult.transcription;\n        this.clearRecognitionResult();\n        // 聚焦到输入框\n        this.$nextTick(() => {\n          const input = this.$el.querySelector('.message-input');\n          if (input) input.focus();\n        });\n      }\n    },\n    /**\n     * 发送识别结果\n     */\n    sendRecognitionResult() {\n      if (this.recognitionResult) {\n        this.inputText = this.recognitionResult.transcription;\n        this.sendMessage();\n        this.clearRecognitionResult();\n      }\n    },\n    /**\n     * 清除识别结果\n     */\n    clearRecognitionResult() {\n      this.recognitionResult = null;\n    },\n    /**\n     * 获取语音按钮图标\n     */\n    getVoiceButtonIcon() {\n      if (this.isProcessing) {\n        return 'spinner';\n      } else if (this.isListening) {\n        return 'microphone-slash';\n      } else {\n        return 'microphone';\n      }\n    },\n    /**\n     * 获取语音按钮标题\n     */\n    getVoiceButtonTitle() {\n      if (this.isProcessing) {\n        return '正在识别中...';\n      } else if (this.isListening) {\n        return '点击停止录音';\n      } else {\n        return '点击开始语音输入';\n      }\n    },\n    /**\n     * 显示提示信息\n     */\n    showToast(message, type = 'info') {\n      // 使用全局toast或console\n      if (this.$toast) {\n        this.$toast[type]?.(message) || this.$toast(message);\n      } else {\n        console.log(`[${type.toUpperCase()}] ${message}`);\n      }\n    }\n  },\n  beforeUnmount() {\n    // 清理资源\n    if (this.isProcessing) {\n      speechRecognitionService.resetProcessingStatus();\n    }\n  }\n};","map":{"version":3,"names":["speechRecognitionService","log","name","data","inputText","isListening","isProcessing","recognitionResult","recognitionStatusText","selectedFile","methods","sendMessage","trim","user","message","$emit","toggleVoiceInput","stopVoiceInput","startVoiceInput","info","$refs","fileInput","click","handleFileSelect","event","file","target","files","fileName","fileSize","size","validation","validateAudioFile","isValid","Error","errors","join","result","recognizeVoice","success","transcription","showToast","error","value","editRecognitionResult","clearRecognitionResult","$nextTick","input","$el","querySelector","focus","sendRecognitionResult","getVoiceButtonIcon","getVoiceButtonTitle","type","$toast","console","toUpperCase","beforeUnmount","resetProcessingStatus"],"sources":["C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\timer\\src\\components\\AIsecretary\\MessageInput.vue"],"sourcesContent":["<template>\n  <div class=\"input-area\">\n    <div class=\"input-container\">\n      <!-- 语音输入按钮 -->\n      <button \n        class=\"voice-btn\" \n        @click=\"toggleVoiceInput\"\n        :class=\"{ 'listening': isListening, 'processing': isProcessing }\"\n        :disabled=\"isProcessing\"\n        :title=\"getVoiceButtonTitle()\"\n      >\n        <font-awesome-icon \n          :icon=\"getVoiceButtonIcon()\" \n          :class=\"{ 'pulse': isProcessing }\"\n        />\n      </button>\n\n      <!-- 隐藏的文件输入 -->\n      <input \n        ref=\"fileInput\"\n        type=\"file\" \n        accept=\"audio/*\"\n        style=\"display: none\"\n        @change=\"handleFileSelect\"\n      >\n\n      <!-- 文本输入框 -->\n      <input \n        v-model=\"inputText\"\n        type=\"text\" \n        placeholder=\"输入你的学习目标或问题...\"\n        class=\"message-input\"\n        @keypress.enter=\"sendMessage\"\n        :disabled=\"isProcessing\"\n      >\n\n      <!-- 图片分析按钮 -->\n      <button \n        class=\"image-analysis-btn\"\n        @click=\"openImageAnalysis\"\n        :disabled=\"isProcessing\"\n        title=\"图片分析\"\n      >\n        <font-awesome-icon icon=\"image\" />\n      </button>\n\n      <!-- 发送按钮 -->\n      <button \n        class=\"send-btn\"\n        @click=\"sendMessage\"\n        :disabled=\"!inputText.trim() || isProcessing\"\n      >\n        <font-awesome-icon icon=\"paper-plane\" />\n      </button>\n    </div>\n\n    <!-- 语音识别状态提示 -->\n    <div v-if=\"isProcessing\" class=\"recognition-status\">\n      <div class=\"status-content\">\n        <font-awesome-icon icon=\"spinner\" spin />\n        <span>{{ recognitionStatusText }}</span>\n      </div>\n    </div>\n\n    <!-- 语音识别结果预览 -->\n    <div v-if=\"recognitionResult && !isProcessing\" class=\"recognition-preview\">\n      <div class=\"preview-header\">\n        <font-awesome-icon icon=\"microphone\" />\n        <span>语音识别结果</span>\n        <button class=\"preview-close\" @click=\"clearRecognitionResult\">\n          <font-awesome-icon icon=\"times\" />\n        </button>\n      </div>\n      <div class=\"preview-content\">\n        <p class=\"preview-text\">{{ recognitionResult.transcription }}</p>\n        <div class=\"preview-actions\">\n          <button class=\"preview-btn preview-btn-edit\" @click=\"editRecognitionResult\">\n            <font-awesome-icon icon=\"edit\" />\n            编辑\n          </button>\n          <button class=\"preview-btn preview-btn-send\" @click=\"sendRecognitionResult\">\n            <font-awesome-icon icon=\"paper-plane\" />\n            发送\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 图片分析模态框 -->\n    <ImageAnalysisModal\n      :visible=\"showImageAnalysisModal\"\n      @close=\"closeImageAnalysisModal\"\n      @analysisComplete=\"handleImageAnalysisComplete\"\n      @showToast=\"showToast\"\n    />\n  </div>\n</template>\n\n<script>\nimport speechRecognitionService from '../../AIsiri/services/speechRecognitionService.js'\nimport { log } from '../../AIsiri/utils/logger.js'\n\nexport default {\n  name: 'MessageInput',\n  data() {\n    return {\n      inputText: '',\n      isListening: false,\n      isProcessing: false,\n      recognitionResult: null,\n      recognitionStatusText: '正在识别中...',\n      selectedFile: null\n    }\n  },\n  methods: {\n    /**\n     * 发送文本消息\n     */\n    sendMessage() {\n      if (!this.inputText.trim() || this.isProcessing) return;\n      \n      log.user('发送文本消息', { message: this.inputText })\n      this.$emit('sendMessage', this.inputText);\n      this.inputText = '';\n    },\n\n    /**\n     * 切换语音输入模式\n     */\n    toggleVoiceInput() {\n      if (this.isProcessing) return;\n      \n      if (this.isListening) {\n        this.stopVoiceInput();\n      } else {\n        this.startVoiceInput();\n      }\n    },\n\n    /**\n     * 开始语音输入\n     */\n    startVoiceInput() {\n      log.info('开始语音输入')\n      this.isListening = true;\n      \n      // 触发文件选择\n      this.$refs.fileInput.click();\n    },\n\n    /**\n     * 停止语音输入\n     */\n    stopVoiceInput() {\n      log.info('停止语音输入')\n      this.isListening = false;\n      this.selectedFile = null;\n    },\n\n    /**\n     * 处理文件选择\n     */\n    async handleFileSelect(event) {\n      const file = event.target.files[0];\n      if (!file) {\n        this.stopVoiceInput();\n        return;\n      }\n\n      try {\n        this.selectedFile = file;\n        this.isProcessing = true;\n        this.recognitionStatusText = '正在上传音频文件...';\n        \n        log.info('开始语音识别', { fileName: file.name, fileSize: file.size });\n\n        // 验证文件\n        const validation = speechRecognitionService.validateAudioFile(file);\n        if (!validation.isValid) {\n          throw new Error(validation.errors.join(', '));\n        }\n\n        // 开始语音识别\n        this.recognitionStatusText = '正在识别中，请稍候...';\n        const result = await speechRecognitionService.recognizeVoice(file);\n        \n        if (result.success) {\n          this.recognitionResult = result;\n          this.recognitionStatusText = '识别完成';\n          log.success('语音识别成功', { transcription: result.transcription });\n          \n          // 自动填充到输入框\n          this.inputText = result.transcription;\n          \n          // 显示成功提示\n          this.showToast('语音识别成功！', 'success');\n        } else {\n          throw new Error('识别失败');\n        }\n      } catch (error) {\n        log.error('语音识别失败', error);\n        this.recognitionStatusText = '识别失败';\n        this.showToast(`语音识别失败: ${error.message}`, 'error');\n      } finally {\n        this.isProcessing = false;\n        this.isListening = false;\n        this.selectedFile = null;\n        \n        // 清空文件输入\n        if (this.$refs.fileInput) {\n          this.$refs.fileInput.value = '';\n        }\n      }\n    },\n\n    /**\n     * 编辑识别结果\n     */\n    editRecognitionResult() {\n      if (this.recognitionResult) {\n        this.inputText = this.recognitionResult.transcription;\n        this.clearRecognitionResult();\n        // 聚焦到输入框\n        this.$nextTick(() => {\n          const input = this.$el.querySelector('.message-input');\n          if (input) input.focus();\n        });\n      }\n    },\n\n    /**\n     * 发送识别结果\n     */\n    sendRecognitionResult() {\n      if (this.recognitionResult) {\n        this.inputText = this.recognitionResult.transcription;\n        this.sendMessage();\n        this.clearRecognitionResult();\n      }\n    },\n\n    /**\n     * 清除识别结果\n     */\n    clearRecognitionResult() {\n      this.recognitionResult = null;\n    },\n\n    /**\n     * 获取语音按钮图标\n     */\n    getVoiceButtonIcon() {\n      if (this.isProcessing) {\n        return 'spinner';\n      } else if (this.isListening) {\n        return 'microphone-slash';\n      } else {\n        return 'microphone';\n      }\n    },\n\n    /**\n     * 获取语音按钮标题\n     */\n    getVoiceButtonTitle() {\n      if (this.isProcessing) {\n        return '正在识别中...';\n      } else if (this.isListening) {\n        return '点击停止录音';\n      } else {\n        return '点击开始语音输入';\n      }\n    },\n\n    /**\n     * 显示提示信息\n     */\n    showToast(message, type = 'info') {\n      // 使用全局toast或console\n      if (this.$toast) {\n        this.$toast[type]?.(message) || this.$toast(message);\n      } else {\n        console.log(`[${type.toUpperCase()}] ${message}`);\n      }\n    }\n  },\n\n  beforeUnmount() {\n    // 清理资源\n    if (this.isProcessing) {\n      speechRecognitionService.resetProcessingStatus();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.input-area {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n  padding: 8px 16px 8px;\n  z-index: 1000;\n}\n\n.input-container {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.voice-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  border: none;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #667eea;\n  position: relative;\n}\n\n.voice-btn:hover:not(:disabled) {\n  background: #e5e5ea;\n  transform: scale(1.05);\n}\n\n.voice-btn.listening {\n  background: #ff3b30;\n  color: white;\n  animation: pulse 1.5s infinite;\n}\n\n.voice-btn.processing {\n  background: #007aff;\n  color: white;\n  cursor: not-allowed;\n}\n\n.voice-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.voice-btn .pulse {\n  animation: spin 1s linear infinite;\n}\n\n.message-input {\n  flex: 1;\n  border: none;\n  outline: none;\n  font-size: 16px;\n  padding: 12px;\n  background: transparent;\n  border-radius: 20px;\n  background: #f2f2f7;\n  transition: all 0.2s;\n}\n\n.message-input:focus {\n  background: #ffffff;\n  box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);\n}\n\n.message-input:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.message-input::placeholder {\n  color: #8e8e93;\n}\n\n.send-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  border: none;\n  background: #007aff;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.send-btn:disabled {\n  background: #e5e5ea;\n  color: #8e8e93;\n  cursor: not-allowed;\n}\n\n.send-btn:not(:disabled):hover {\n  background: #0056d3;\n  transform: scale(1.05);\n}\n\n/* 语音识别状态提示 */\n.recognition-status {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background: rgba(0, 122, 255, 0.1);\n  border-top: 1px solid rgba(0, 122, 255, 0.2);\n  padding: 8px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.status-content {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #007aff;\n  font-size: 14px;\n}\n\n.status-content svg {\n  font-size: 16px;\n}\n\n/* 语音识别结果预览 */\n.recognition-preview {\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(20px);\n  border-top: 1px solid rgba(0, 122, 255, 0.2);\n  border-radius: 16px 16px 0 0;\n  margin: 0 8px;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.preview-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background: rgba(0, 122, 255, 0.1);\n  border-bottom: 1px solid rgba(0, 122, 255, 0.1);\n  color: #007aff;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.preview-header svg {\n  font-size: 16px;\n}\n\n.preview-close {\n  margin-left: auto;\n  background: none;\n  border: none;\n  color: #007aff;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.preview-close:hover {\n  background: rgba(0, 122, 255, 0.1);\n}\n\n.preview-content {\n  padding: 16px;\n}\n\n.preview-text {\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #333;\n  background: #f8f9fa;\n  padding: 12px;\n  border-radius: 8px;\n  border-left: 4px solid #007aff;\n}\n\n.preview-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.preview-btn {\n  flex: 1;\n  padding: 10px 16px;\n  border: none;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.preview-btn-edit {\n  background: #f2f2f7;\n  color: #666;\n}\n\n.preview-btn-edit:hover {\n  background: #e5e5ea;\n}\n\n.preview-btn-send {\n  background: #007aff;\n  color: white;\n}\n\n.preview-btn-send:hover {\n  background: #0056d3;\n}\n\n/* 动画 */\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 430px) {\n  .input-area {\n    padding: 8px 12px 8px;\n  }\n  \n  .voice-btn,\n  .send-btn {\n    width: 36px;\n    height: 36px;\n  }\n  \n  .message-input {\n    font-size: 15px;\n    padding: 10px;\n  }\n  \n  .preview-content {\n    padding: 12px;\n  }\n  \n  .preview-text {\n    font-size: 15px;\n    padding: 10px;\n  }\n  \n  .preview-btn {\n    padding: 8px 12px;\n    font-size: 13px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}