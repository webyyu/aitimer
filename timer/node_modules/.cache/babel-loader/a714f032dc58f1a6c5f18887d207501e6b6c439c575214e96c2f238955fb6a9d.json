{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport TaskTimeBlocks from '../components/task/TaskTimeBlocks.vue';\nimport TaskQuadrant from '../components/task/TaskQuadrant.vue';\nimport AddTaskModal from '../components/task/AddTaskModal.vue';\nimport TabBar from '../components/common/TabBar.vue';\nimport VoiceCloneModal from '../components/aivoice/VoiceCloneModal.vue';\nimport AIVoiceModal from '../components/aivoice/AIVoiceModal.vue';\nimport api from '@/api';\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js';\nexport default {\n  name: 'TaskPage',\n  components: {\n    TaskTimeBlocks,\n    TaskQuadrant,\n    AddTaskModal,\n    TabBar,\n    VoiceCloneModal,\n    AIVoiceModal\n  },\n  data() {\n    return {\n      currentView: 'time',\n      currentTimeSegment: 'morning',\n      // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÊó∂Èó¥ÊÆµ\n      sidebarOpen: false,\n      showAddModal: false,\n      timeBlocks: [],\n      unscheduledTasks: [],\n      // Ê∑ªÂä†Êú™ÊåáÂÆöÊó∂Èó¥ÁöÑ‰ªªÂä°Êï∞ÁªÑ\n      timeSegments: [{\n        value: 'morning',\n        label: 'Êó©‰∏ä'\n      }, {\n        value: 'afternoon',\n        label: '‰∏ãÂçà'\n      }, {\n        value: 'evening',\n        label: 'Êôö‰∏ä'\n      }],\n      quadrants: [{\n        id: 1,\n        title: 'ÈáçË¶Å‰∏îÁ¥ßÊÄ•',\n        tasks: []\n      }, {\n        id: 2,\n        title: 'ÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n        tasks: []\n      }, {\n        id: 3,\n        title: 'Á¥ßÊÄ•‰∏çÈáçË¶Å',\n        tasks: []\n      }, {\n        id: 4,\n        title: '‰∏çÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n        tasks: []\n      }],\n      settings: [{\n        id: 1,\n        label: 'ÈÄöÁü•ËÆæÁΩÆ',\n        description: 'ÁÆ°ÁêÜ‰ªªÂä°ÊèêÈÜíÂíåÊé®ÈÄÅ'\n      }, {\n        id: 2,\n        label: 'Â≠¶‰π†ËÆ°Âàí',\n        description: 'Ë∞ÉÊï¥AIÁîüÊàêÁöÑÂ≠¶‰π†ËÆ°Âàí'\n      }, {\n        id: 3,\n        label: '‰∏ªÈ¢òËÆæÁΩÆ',\n        description: 'ÂàáÊç¢Ê∑±Ëâ≤/ÊµÖËâ≤Ê®°Âºè'\n      }, {\n        id: 4,\n        label: 'Êï∞ÊçÆÂêåÊ≠•',\n        description: '‰∫ëÁ´ØÂ§á‰ªΩÂíåÊÅ¢Â§ç'\n      }, {\n        id: 5,\n        label: 'AIËØ≠Èü≥',\n        description: 'ÂÆöÂà∂‰Ω†ÁöÑaiËØ≠Èü≥Âä©Êâã'\n      }, {\n        id: 6,\n        label: 'ÈÄÄÂá∫ÁôªÂΩï',\n        description: 'ÈÄÄÂá∫Âà∞ÁôªÂΩïÁïåÈù¢'\n      }],\n      showVoiceCloneModal: false,\n      hasClonedVoice: false,\n      showAIVoiceModal: false\n    };\n  },\n  computed: {\n    filteredTimeBlocks() {\n      // Ê†πÊçÆÂΩìÂâçÈÄâ‰∏≠ÁöÑÊó∂Èó¥ÊÆµËøáÊª§Êó∂Èó¥Âùó\n      return this.timeBlocks.filter(block => {\n        const segmentMap = {\n          'morning': ['morning'],\n          'afternoon': ['afternoon'],\n          'evening': ['evening']\n        };\n        return segmentMap[this.currentTimeSegment]?.includes(block.timeBlockType);\n      });\n    },\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user') || 'null');\n      return user?._id || user?.id || null;\n    }\n  },\n  created() {\n    // Âú®created‰∏≠Âè™ËÆæÁΩÆÂàùÂßãÁä∂ÊÄÅÔºåÂª∂ËøüÊâßË°åÈÅøÂÖçÂàùÂßãÂåñÈóÆÈ¢ò\n    setTimeout(() => {\n      this.autoSetTimeSegment();\n    }, 0);\n  },\n  activated() {\n    // Ëã•‰ΩøÁî®keep-aliveÔºåÂàôËøîÂõûÊó∂Ëá™Âä®Âà∑Êñ∞\n    setTimeout(() => {\n      this.autoSetTimeSegment();\n      this.fetchTasks();\n    }, 0);\n  },\n  methods: {\n    // Ê†πÊçÆÂΩìÂâçÊó∂Èó¥Ëá™Âä®ËÆæÁΩÆÊó∂Èó¥ÊÆµ\n    autoSetTimeSegment() {\n      try {\n        const now = new Date();\n        const hour = now.getHours();\n        if (hour >= 0 && hour < 8) {\n          this.currentTimeSegment = 'morning';\n          console.log('üåÖ [TaskPage] ÂΩìÂâçÊó∂Èó¥:', hour + ':00, Ëá™Âä®ÂàáÊç¢Âà∞Êó©‰∏äÊó∂Èó¥ÊÆµ');\n        } else if (hour >= 8 && hour < 16) {\n          this.currentTimeSegment = 'afternoon';\n          console.log('‚òÄÔ∏è [TaskPage] ÂΩìÂâçÊó∂Èó¥:', hour + ':00, Ëá™Âä®ÂàáÊç¢Âà∞‰∏ãÂçàÊó∂Èó¥ÊÆµ');\n        } else if (hour >= 16 && hour < 24) {\n          this.currentTimeSegment = 'evening';\n          console.log('üåô [TaskPage] ÂΩìÂâçÊó∂Èó¥:', hour + ':00, Ëá™Âä®ÂàáÊç¢Âà∞Êôö‰∏äÊó∂Èó¥ÊÆµ');\n        }\n      } catch (error) {\n        console.warn('‚ö†Ô∏è [TaskPage] Ëá™Âä®ËÆæÁΩÆÊó∂Èó¥ÊÆµÂ§±Ë¥•:', error);\n        // ËÆæÁΩÆÈªòËÆ§ÂÄº\n        this.currentTimeSegment = 'afternoon';\n      }\n    },\n    handleSettingClick(setting) {\n      if (setting && (setting.id === 5 || setting.label === 'AIËØ≠Èü≥')) {\n        this.showVoiceCloneModal = true;\n      } else if (setting && (setting.id === 6 || setting.label === 'ÈÄÄÂá∫ÁôªÂΩï')) {\n        try {\n          console.log('üîí [TaskPage] ÊâßË°åÈÄÄÂá∫ÁôªÂΩï');\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          localStorage.removeItem('auth_verified');\n        } finally {\n          this.sidebarOpen = false;\n          this.$router.replace({\n            path: '/auth/login'\n          });\n        }\n      }\n    },\n    onCloneSuccess() {\n      this.hasClonedVoice = true;\n      this.showVoiceCloneModal = false;\n      // ÊâìÂºÄAIËØ≠Èü≥Èô™‰º¥ËÆæÁΩÆÂºπÁ™ó\n      this.showAIVoiceModal = true;\n    },\n    onApplyVoice() {\n      // ÂÖ≥Èó≠AIËØ≠Èü≥ÂºπÁ™óÔºõ‰øùÁïôÁÆÄÂçïÂ§ÑÁêÜ‰ª•‰∏çÂΩ±ÂìçÂéüÊúâÈÄªËæë\n      this.showAIVoiceModal = false;\n    },\n    async fetchTasks() {\n      try {\n        console.log('üîÑ [TaskPage] ÂºÄÂßãËé∑Âèñ‰ªªÂä°ÂàóË°®...');\n\n        // Êú™ÁôªÂΩïÈò≤Êä§\n        const userId = this.currentUserId;\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [TaskPage] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ');\n          this.$router.replace({\n            path: '/auth/login',\n            query: {\n              redirect: this.$route.fullPath\n            }\n          });\n          return;\n        }\n\n        // Áõ¥Êé•Ëé∑ÂèñÊâÄÊúâ‰ªªÂä°Ôºå‰∏çÊåâÊó•ÊúüËøáÊª§\n        console.log('üìã [TaskPage] Ëé∑ÂèñÊâÄÊúâ‰ªªÂä°...');\n        const response = await api.tasks.getAllTasks({\n          userId\n        });\n        console.log('üìã [TaskPage] ÊâÄÊúâ‰ªªÂä°ÂìçÂ∫î:', response);\n        if (response.success && response.data) {\n          console.log('‚úÖ [TaskPage] ÊàêÂäüËé∑Âèñ‰ªªÂä°:', response.data.length);\n          this.processTasks(response.data);\n        } else {\n          console.warn('‚ö†Ô∏è [TaskPage] ‰ªªÂä°ÂìçÂ∫îÊ†ºÂºèÂºÇÂ∏∏Ôºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ');\n          this.initializeMockData();\n        }\n      } catch (error) {\n        console.error('‚ùå [TaskPage] Ëé∑Âèñ‰ªªÂä°Â§±Ë¥•:', error);\n        // Âá∫ÈîôÊó∂‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ\n        this.initializeMockData();\n      }\n    },\n    // Â§ñÈÉ®Âà∑Êñ∞‰ªªÂä°ÂàóË°®Ôºà‰æõÁï™ËåÑÈíüÂÆåÊàêÂêéËß¶ÂèëÔºâ\n    async refreshTasks() {\n      await this.fetchTasks();\n    },\n    // ‰øÆÊîπprocessTasksÊñπÊ≥ïÔºåÂ§ÑÁêÜÂÆûÈôÖAPIËøîÂõûÁöÑ‰ªªÂä°Êï∞ÊçÆ\n    processTasks(tasks) {\n      console.log('üìä [TaskPage] ÂºÄÂßãÂ§ÑÁêÜ‰ªªÂä°Êï∞ÊçÆ:', tasks.length);\n\n      // ÂàùÂßãÂåñÊó∂Èó¥ÂùóÔºåÊîØÊåÅÊõ¥ÁªÜÂàÜÁöÑÊó∂Èó¥ÊÆµ\n      this.timeBlocks = [{\n        id: 1,\n        label: 'Êó©Êô® 0:00 - 8:00',\n        timeBlockType: 'morning',\n        tasks: [],\n        collapsed: false\n      }, {\n        id: 2,\n        label: '‰∏äÂçà 8:00 - 16:00',\n        timeBlockType: 'afternoon',\n        tasks: [],\n        collapsed: false\n      }, {\n        id: 3,\n        label: 'Êôö‰∏ä 16:00 - 24:00',\n        timeBlockType: 'evening',\n        tasks: [],\n        collapsed: false\n      }];\n\n      // Ê∏ÖÁ©∫Áé∞Êúâ‰ªªÂä°\n      this.quadrants.forEach(q => q.tasks = []);\n      this.unscheduledTasks = [];\n\n      // ÈÅçÂéÜ‰ªªÂä°Âπ∂ÂàÜÈÖç\n      tasks.forEach(task => {\n        console.log('üîç [TaskPage] Â§ÑÁêÜ‰ªªÂä°:', task.title, task);\n\n        // ÂàÜÈÖçÂà∞ÂõõË±°Èôê\n        const quadrant = this.quadrants.find(q => q.id == task.quadrant);\n        if (quadrant) {\n          quadrant.tasks.push({\n            id: task._id,\n            title: task.title,\n            completed: task.completed\n          });\n        }\n\n        // Âü∫‰∫éAPIËøîÂõûÁöÑÊñ∞Êï∞ÊçÆÁªìÊûÑÂ§ÑÁêÜÊó∂Èó¥‰ø°ÊÅØ\n        let taskTimeDisplay = 'Êú™ÊåáÂÆö';\n        let targetTimeBlockType = 'unscheduled';\n\n        // Âà§Êñ≠ÊòØAIÁîüÊàêÁöÑÊó•Á®ãËøòÊòØÁî®Êà∑ÁîüÊàêÁöÑÊó•Á®ã\n        if (task.timeBlock && task.timeBlock.startTime) {\n          // AIÁîüÊàêÁöÑÊó•Á®ãÔºå‰ΩøÁî®timeBlock.startTime‰Ωú‰∏∫Âà§Êñ≠Ê†áÂáÜ\n          const hour = parseInt(task.timeBlock.startTime.split(':')[0]);\n          taskTimeDisplay = `${task.timeBlock.startTime} - ${task.timeBlock.endTime || this.addHour(task.timeBlock.startTime)}`;\n          if (hour >= 0 && hour < 8) {\n            targetTimeBlockType = 'morning';\n          } else if (hour >= 8 && hour < 16) {\n            targetTimeBlockType = 'afternoon';\n          } else if (hour >= 16 && hour < 24) {\n            targetTimeBlockType = 'evening';\n          }\n          console.log(`üéØ [TaskPage] AIÁîüÊàê‰ªªÂä°\"${task.title}\"Ê†πÊçÆstartTimeËÆ°ÁÆóÊó∂Èó¥ÂùóÁ±ªÂûã: ${targetTimeBlockType}`);\n        } else if (task.time && task.time.trim()) {\n          // Áî®Êà∑ÁîüÊàêÁöÑÊó•Á®ãÔºå‰ΩøÁî®time‰Ωú‰∏∫Âà§Êñ≠Ê†áÂáÜ\n          const hour = parseInt(task.time.split(':')[0]);\n          taskTimeDisplay = `${task.time} - ${this.addHour(task.time)}`;\n          if (hour >= 0 && hour < 8) {\n            targetTimeBlockType = 'morning';\n          } else if (hour >= 8 && hour < 16) {\n            targetTimeBlockType = 'afternoon';\n          } else if (hour >= 16 && hour < 24) {\n            targetTimeBlockType = 'evening';\n          }\n          console.log(`‚è∞ [TaskPage] Áî®Êà∑ÁîüÊàê‰ªªÂä°\"${task.title}\"Ê†πÊçÆtimeËÆ°ÁÆóÊó∂Èó¥ÂùóÁ±ªÂûã: ${targetTimeBlockType}`);\n        }\n        const taskData = {\n          id: task._id,\n          title: task.title,\n          time: taskTimeDisplay,\n          priority: task.priority || 'medium',\n          completed: task.completed\n        };\n\n        // ÂàÜÈÖçÂà∞ÂØπÂ∫îÁöÑÊó∂Èó¥Âùó\n        if (targetTimeBlockType !== 'unscheduled') {\n          const timeBlock = this.timeBlocks.find(tb => tb.timeBlockType === targetTimeBlockType);\n          if (timeBlock) {\n            timeBlock.tasks.push(taskData);\n            console.log(`üìç [TaskPage] ‰ªªÂä°\"${task.title}\"ÂàÜÈÖçÂà∞${timeBlock.label}`);\n          } else {\n            this.unscheduledTasks.push(taskData);\n          }\n        } else {\n          // Ê≤°ÊúâÊó∂Èó¥ÁöÑ‰ªªÂä°ÊîæÂà∞Êú™ÊåáÂÆö‰ªªÂä°ÂàóË°®\n          this.unscheduledTasks.push(taskData);\n          console.log(`üìç [TaskPage] ‰ªªÂä°\"${task.title}\"ÂàÜÈÖçÂà∞Êú™ÊåáÂÆö‰ªªÂä°`);\n        }\n      });\n\n      // Ê∑ªÂä†ËØ¶ÁªÜÁöÑË∞ÉËØï‰ø°ÊÅØ\n      console.log('üìä [TaskPage] Êó∂Èó¥Âùó‰ªªÂä°ÂàÜÈÖçËØ¶ÊÉÖ:');\n      this.timeBlocks.forEach(tb => {\n        console.log(`  ${tb.label} (${tb.timeBlockType}): ${tb.tasks.length}‰∏™‰ªªÂä°`);\n        tb.tasks.forEach(task => {\n          console.log(`    - ${task.title} (${task.time})`);\n        });\n\n        // Ëá™Âä®ÊäòÂè†Á©∫ÁöÑÊó∂Èó¥ÂùóÔºåÂ±ïÂºÄÊúâ‰ªªÂä°ÁöÑÊó∂Èó¥Âùó\n        if (tb.tasks.length === 0) {\n          tb.collapsed = true;\n        } else {\n          tb.collapsed = false;\n        }\n      });\n      console.log(`üìã [TaskPage] Êú™ÊåáÂÆöÊó∂Èó¥‰ªªÂä°: ${this.unscheduledTasks.length}‰∏™`);\n      this.unscheduledTasks.forEach(task => {\n        console.log(`  - ${task.title}`);\n      });\n    },\n    initializeMockData() {\n      console.log('‚ö†Ô∏è [TaskPage] APIË∞ÉÁî®Â§±Ë¥•Ôºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ');\n      // ÂΩìAPIË∞ÉÁî®Â§±Ë¥•Êó∂ÁöÑÂ§áÁî®Ê®°ÊãüÊï∞ÊçÆÔºå‰ΩøÁî®‰∏éprocessTasksÁõ∏ÂêåÁöÑÁªìÊûÑ\n      this.timeBlocks = [{\n        id: 1,\n        label: 'Êó©Êô® 0:00 - 8:00',\n        timeBlockType: 'morning',\n        tasks: [{\n          id: 1,\n          title: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n          time: '7:30 - 8:30',\n          priority: 'high',\n          completed: false\n        }],\n        collapsed: false\n      }, {\n        id: 2,\n        label: '‰∏äÂçà 8:00 - 16:00',\n        timeBlockType: 'afternoon',\n        tasks: [{\n          id: 2,\n          title: 'ËÄÉÁ†îÊï∞Â≠¶Â§ç‰π†',\n          time: '9:00 - 11:00',\n          priority: 'high',\n          completed: true\n        }, {\n          id: 3,\n          title: 'ÊîøÊ≤ªÁü•ËØÜÁÇπËÉåËØµ',\n          time: '11:00 - 12:00',\n          priority: 'medium',\n          completed: false\n        }, {\n          id: 4,\n          title: '‰∏ì‰∏öËØæÁ¨îËÆ∞Êï¥ÁêÜ',\n          time: '14:00 - 16:00',\n          priority: 'medium',\n          completed: false\n        }],\n        collapsed: false\n      }, {\n        id: 3,\n        label: 'Êôö‰∏ä 16:00 - 24:00',\n        timeBlockType: 'evening',\n        tasks: [],\n        collapsed: true // ÂàùÂßãÊ≤°Êúâ‰ªªÂä°ÔºåËÆæ‰∏∫ÊäòÂè†\n      }];\n\n      // Ê∑ªÂä†Êú™ÊåáÂÆöÊó∂Èó¥ÁöÑ‰ªªÂä°Ê°Ü\n      this.unscheduledTasks = [{\n        id: 5,\n        title: 'Â§ç‰π†Ëã±ËØ≠ÂçïËØç',\n        priority: 'low',\n        completed: false\n      }, {\n        id: 6,\n        title: 'Êï¥ÁêÜÂ≠¶‰π†ËµÑÊñô',\n        priority: 'medium',\n        completed: false\n      }];\n      this.quadrants = [{\n        id: 1,\n        title: 'ÈáçË¶Å‰∏îÁ¥ßÊÄ•',\n        tasks: [{\n          id: 2,\n          title: 'ËÄÉÁ†îÊï∞Â≠¶Â§ç‰π†',\n          completed: true\n        }]\n      }, {\n        id: 2,\n        title: 'ÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n        tasks: [{\n          id: 1,\n          title: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n          completed: false\n        }, {\n          id: 4,\n          title: '‰∏ì‰∏öËØæÁ¨îËÆ∞Êï¥ÁêÜ',\n          completed: false\n        }]\n      }, {\n        id: 3,\n        title: 'Á¥ßÊÄ•‰∏çÈáçË¶Å',\n        tasks: [{\n          id: 3,\n          title: 'ÊîøÊ≤ªÁü•ËØÜÁÇπËÉåËØµ',\n          completed: false\n        }]\n      }, {\n        id: 4,\n        title: '‰∏çÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n        tasks: []\n      }];\n    },\n    // Ê∑ªÂä†ÊäòÂè†/Â±ïÂºÄÂäüËÉΩ\n    toggleTimeBlockCollapse(timeBlockId) {\n      const timeBlock = this.timeBlocks.find(tb => tb.id === timeBlockId);\n      if (timeBlock) {\n        timeBlock.collapsed = !timeBlock.collapsed;\n      }\n    },\n    // Ê∑ªÂä†Êú™ÊåáÂÆöÊó∂Èó¥ÁöÑ‰ªªÂä°Âà∞ÂØπÂ∫îÊó∂Èó¥Âùó\n    moveToTimeBlock(task, timeBlockId) {\n      const taskIndex = this.unscheduledTasks.findIndex(t => t.id === task.id);\n      if (taskIndex > -1) {\n        this.unscheduledTasks.splice(taskIndex, 1);\n        const timeBlock = this.timeBlocks.find(tb => tb.id === timeBlockId);\n        if (timeBlock) {\n          timeBlock.tasks.push(task);\n        }\n      }\n    },\n    switchView(view) {\n      this.currentView = view;\n    },\n    toggleSidebar() {\n      this.sidebarOpen = !this.sidebarOpen;\n    },\n    openAddTask() {\n      this.showAddModal = true;\n    },\n    closeAddTask() {\n      this.showAddModal = false;\n    },\n    async handleAddTask(taskData) {\n      try {\n        console.log('üîÑ [TaskPage] ÂºÄÂßãÂàõÂª∫‰ªªÂä°:', taskData);\n        const userId = this.currentUserId;\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [TaskPage] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ');\n          this.$router.replace({\n            path: '/auth/login',\n            query: {\n              redirect: this.$route.fullPath\n            }\n          });\n          return;\n        }\n        const response = await api.tasks.createTask({\n          title: taskData.title,\n          description: taskData.description || '',\n          priority: taskData.priority || 'medium',\n          completed: false,\n          quadrant: taskData.quadrant,\n          date: taskData.date,\n          time: taskData.time,\n          userId,\n          timeBlockType: taskData.timeBlockType,\n          isScheduled: taskData.isScheduled\n        });\n        console.log('‚úÖ [TaskPage] ‰ªªÂä°ÂàõÂª∫ÊàêÂäü:', response);\n\n        // ÈáçÊñ∞Ëé∑Âèñ‰ªªÂä°ÂàóË°®\n        await this.fetchTasks();\n        this.closeAddTask();\n      } catch (error) {\n        console.error('‚ùå [TaskPage] ÂàõÂª∫‰ªªÂä°Â§±Ë¥•:', error);\n        // Âá∫ÈîôÊó∂‰ΩøÁî®ÂéüÊúâÈÄªËæë\n        const task = {\n          id: Date.now(),\n          // ‰ΩøÁî®Êó∂Èó¥Êà≥‰Ωú‰∏∫‰∏¥Êó∂ID\n          title: taskData.title,\n          time: taskData.time ? `${taskData.time} - ${this.addHour(taskData.time)}` : 'Êú™ÊåáÂÆö',\n          priority: taskData.priority || 'medium',\n          completed: false,\n          date: taskData.date\n        };\n\n        // Ê∑ªÂä†Âà∞ÂØπÂ∫îÁöÑË±°Èôê\n        const quadrant = this.quadrants.find(q => q.id === taskData.quadrant);\n        if (quadrant) {\n          quadrant.tasks.push(task);\n        }\n\n        // Ê†πÊçÆÊó∂Èó¥Ê∑ªÂä†Âà∞ÂØπÂ∫îÁöÑÊó∂Èó¥Âùó\n        if (taskData.time && taskData.timeBlockType) {\n          const timeBlock = this.timeBlocks.find(tb => tb.timeBlockType === taskData.timeBlockType);\n          if (timeBlock) {\n            timeBlock.tasks.push(task);\n            console.log(`‚úÖ [TaskPage] ‰ªªÂä°Ê∑ªÂä†Âà∞${timeBlock.label}:`, task.title);\n          }\n        }\n        this.closeAddTask();\n      }\n    },\n    // ËæÖÂä©ÊñπÊ≥ïÔºöÁªôÊó∂Èó¥Âä†‰∏ÄÂ∞èÊó∂\n    addHour(time) {\n      const [hour, minute] = time.split(':').map(Number);\n      const newHour = (hour + 1) % 24;\n      return `${newHour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n    },\n    async toggleTask(task) {\n      try {\n        const response = await api.tasks.toggleTaskStatus(task.id);\n        console.log('Toggled task status:', response);\n\n        // Êõ¥Êñ∞Êú¨Âú∞Áä∂ÊÄÅ\n        const willBeCompleted = !task.completed;\n        task.completed = willBeCompleted;\n\n        // Ëã•ÂàöÂÆåÊàêÔºåÊí≠ÊîæÈºìÂä±ËØ≠Èü≥\n        if (willBeCompleted) {\n          playRandomVoice('encourage');\n        }\n      } catch (error) {\n        console.error('Failed to toggle task status:', error);\n        // Âá∫ÈîôÊó∂‰ΩøÁî®ÂéüÊúâÈÄªËæë\n        task.completed = !task.completed;\n      }\n    },\n    openPomodoro(task) {\n      this.$router.push({\n        path: '/pomodoro',\n        query: {\n          task: task.title,\n          taskId: task.id,\n          from: '/task'\n        }\n      });\n    },\n    // ÂàáÊç¢Êó∂Èó¥ÊÆµ\n    switchTimeSegment(segment) {\n      console.log('üîÑ [TaskPage] ÂàáÊç¢Êó∂Èó¥ÊÆµ:', segment);\n      this.currentTimeSegment = segment;\n    }\n  },\n  mounted() {\n    console.log('üîÑ [TaskPage] ÁªÑ‰ª∂ÊåÇËΩΩÔºåÂºÄÂßãËé∑Âèñ‰ªªÂä°...');\n    // È°µÈù¢Âä†ËΩΩÊó∂Á´ãÂç≥Ëé∑Âèñ‰ªªÂä°\n    this.fetchTasks();\n\n    // ÁõëÂê¨AIÁîüÊàêËÆ°Âàí‰∫ã‰ª∂ÔºåËá™Âä®Âà∑Êñ∞‰ªªÂä°ÂàóË°®\n    this._aiPlanHandler = () => {\n      console.log('üéØ [TaskPage] Êî∂Âà∞AIËÆ°ÂàíÁîüÊàê‰∫ã‰ª∂ÔºåÂà∑Êñ∞‰ªªÂä°ÂàóË°®');\n      this.refreshTasks();\n    };\n    window.addEventListener('ai-plan-generated', this._aiPlanHandler);\n  },\n  beforeUnmount() {\n    if (this._aiPlanHandler) {\n      window.removeEventListener('ai-plan-generated', this._aiPlanHandler);\n      this._aiPlanHandler = null;\n    }\n  }\n};","map":{"version":3,"names":["TaskTimeBlocks","TaskQuadrant","AddTaskModal","TabBar","VoiceCloneModal","AIVoiceModal","api","playRandomVoice","name","components","data","currentView","currentTimeSegment","sidebarOpen","showAddModal","timeBlocks","unscheduledTasks","timeSegments","value","label","quadrants","id","title","tasks","settings","description","showVoiceCloneModal","hasClonedVoice","showAIVoiceModal","computed","filteredTimeBlocks","filter","block","segmentMap","includes","timeBlockType","currentUserId","user","JSON","parse","localStorage","getItem","_id","created","setTimeout","autoSetTimeSegment","activated","fetchTasks","methods","now","Date","hour","getHours","console","log","error","warn","handleSettingClick","setting","removeItem","$router","replace","path","onCloneSuccess","onApplyVoice","userId","query","redirect","$route","fullPath","response","getAllTasks","success","length","processTasks","initializeMockData","refreshTasks","collapsed","forEach","q","task","quadrant","find","push","completed","taskTimeDisplay","targetTimeBlockType","timeBlock","startTime","parseInt","split","endTime","addHour","time","trim","taskData","priority","tb","toggleTimeBlockCollapse","timeBlockId","moveToTimeBlock","taskIndex","findIndex","t","splice","switchView","view","toggleSidebar","openAddTask","closeAddTask","handleAddTask","createTask","date","isScheduled","minute","map","Number","newHour","toString","padStart","toggleTask","toggleTaskStatus","willBeCompleted","openPomodoro","taskId","from","switchTimeSegment","segment","mounted","_aiPlanHandler","window","addEventListener","beforeUnmount","removeEventListener"],"sources":["C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\timer\\src\\views\\Task.vue"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <!-- Header -->\n    <div class=\"header\">\n      <div class=\"settings-btn\" @click=\"toggleSidebar\">\n        <font-awesome-icon icon=\"cog\" />\n      </div>\n      \n      <div class=\"view-toggle\">\n        <button \n          class=\"toggle-btn\" \n          :class=\"{ active: currentView === 'time' }\"\n          @click=\"switchView('time')\"\n        >\n          Êó∂Èó¥Âùó\n        </button>\n        <button \n          class=\"toggle-btn\" \n          :class=\"{ active: currentView === 'quadrant' }\"\n          @click=\"switchView('quadrant')\"\n        >\n          ÂõõË±°Èôê\n        </button>\n      </div>\n      \n      <div class=\"settings-btn\" @click=\"openAddTask\">\n        <font-awesome-icon icon=\"plus\" />\n      </div>\n    </div>\n    \n    <!-- Content -->\n    <div class=\"content\">\n      <!-- Time Blocks View -->\n      <div v-if=\"currentView === 'time'\" class=\"time-view-container\">\n        <!-- Time Segment Selector -->\n        <div class=\"time-segment-section\">\n          <div class=\"section-title\">\n            <h3>Êó∂Èó¥ÊÆµ</h3>\n            <a href=\"/task-collections\" class=\"view-all-link\">‰ªªÂä°ÈõÜ</a>\n          </div>\n          <div class=\"segmented\">\n            <button \n              v-for=\"segment in timeSegments\"\n              :key=\"segment.value\"\n              :class=\"{ active: currentTimeSegment === segment.value }\"\n              @click=\"switchTimeSegment(segment.value)\"\n            >\n              {{ segment.label }}\n            </button>\n          </div>\n        </div>\n        \n        <!-- Time Blocks -->\n        <TaskTimeBlocks\n          :time-blocks=\"filteredTimeBlocks\"\n          @task-click=\"openPomodoro\"\n          @task-toggle=\"toggleTask\"\n          @toggle-collapse=\"toggleTimeBlockCollapse\"\n        />\n      </div>\n      \n      <!-- Quadrant View -->\n      <TaskQuadrant\n        v-else\n        :quadrants=\"quadrants\"\n        @task-click=\"openPomodoro\"\n        @task-toggle=\"toggleTask\"\n      />\n    </div>\n    \n    <!-- Sidebar -->\n    <div class=\"sidebar\" :class=\"{ open: sidebarOpen }\">\n      <div class=\"sidebar-header\">\n        <div class=\"sidebar-title\">ËÆæÁΩÆ</div>\n        <div class=\"close-sidebar\" @click=\"toggleSidebar\">\n          <font-awesome-icon icon=\"times\" />\n        </div>\n      </div>\n      <div class=\"sidebar-content\">\n        <div v-for=\"setting in settings\" :key=\"setting.id\" class=\"setting-item\" @click=\"handleSettingClick(setting)\">\n          <div class=\"setting-label\">{{ setting.label }}</div>\n          <div class=\"setting-description\">{{ setting.description }}</div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Task Modal -->\n    <AddTaskModal\n      :visible=\"showAddModal\"\n      @close=\"closeAddTask\"\n      @submit=\"handleAddTask\"\n    />\n    \n    <!-- Voice Clone Modal -->\n    <VoiceCloneModal\n      v-if=\"showVoiceCloneModal\"\n      :hasCloned=\"hasClonedVoice\"\n      @close=\"showVoiceCloneModal = false\"\n      @clone-success=\"onCloneSuccess\"\n    />\n\n    <!-- AI Voice Modal -->\n    <AIVoiceModal\n      v-if=\"showAIVoiceModal\"\n      @close=\"showAIVoiceModal = false\"\n      @apply-voice=\"onApplyVoice\"\n    />\n \n    <!-- Overlay -->\n    <div \n      v-if=\"sidebarOpen\" \n      class=\"overlay\" \n      @click=\"toggleSidebar\"\n    ></div>\n    \n    <!-- Floating Add Button -->\n    <div class=\"add-task-btn\" @click=\"$router.push('/ai-secretary')\">\n      <font-awesome-icon icon=\"plus\" />\n    </div>\n    \n    <!-- Tab Bar -->\n    <TabBar />\n  </div>\n</template>\n\n<script>\nimport TaskTimeBlocks from '../components/task/TaskTimeBlocks.vue'\nimport TaskQuadrant from '../components/task/TaskQuadrant.vue'\nimport AddTaskModal from '../components/task/AddTaskModal.vue'\nimport TabBar from '../components/common/TabBar.vue'\nimport VoiceCloneModal from '../components/aivoice/VoiceCloneModal.vue'\nimport AIVoiceModal from '../components/aivoice/AIVoiceModal.vue'\nimport api from '@/api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'TaskPage',\n  components: {\n    TaskTimeBlocks,\n    TaskQuadrant,\n    AddTaskModal,\n    TabBar,\n    VoiceCloneModal,\n    AIVoiceModal\n  },\n  data() {\n    return {\n      currentView: 'time',\n      currentTimeSegment: 'morning', // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÊó∂Èó¥ÊÆµ\n      sidebarOpen: false,\n      showAddModal: false,\n      timeBlocks: [],\n      unscheduledTasks: [], // Ê∑ªÂä†Êú™ÊåáÂÆöÊó∂Èó¥ÁöÑ‰ªªÂä°Êï∞ÁªÑ\n      timeSegments: [\n        { value: 'morning', label: 'Êó©‰∏ä' },\n        { value: 'afternoon', label: '‰∏ãÂçà' },\n        { value: 'evening', label: 'Êôö‰∏ä' }\n      ],\n      quadrants: [\n        {\n          id: 1,\n          title: 'ÈáçË¶Å‰∏îÁ¥ßÊÄ•',\n          tasks: []\n        },\n        {\n          id: 2,\n          title: 'ÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n          tasks: []\n        },\n        {\n          id: 3,\n          title: 'Á¥ßÊÄ•‰∏çÈáçË¶Å',\n          tasks: []\n        },\n        {\n          id: 4,\n          title: '‰∏çÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n          tasks: []\n        }\n      ],\n      settings: [\n        { id: 1, label: 'ÈÄöÁü•ËÆæÁΩÆ', description: 'ÁÆ°ÁêÜ‰ªªÂä°ÊèêÈÜíÂíåÊé®ÈÄÅ' },\n        { id: 2, label: 'Â≠¶‰π†ËÆ°Âàí', description: 'Ë∞ÉÊï¥AIÁîüÊàêÁöÑÂ≠¶‰π†ËÆ°Âàí' },\n        { id: 3, label: '‰∏ªÈ¢òËÆæÁΩÆ', description: 'ÂàáÊç¢Ê∑±Ëâ≤/ÊµÖËâ≤Ê®°Âºè' },\n        { id: 4, label: 'Êï∞ÊçÆÂêåÊ≠•', description: '‰∫ëÁ´ØÂ§á‰ªΩÂíåÊÅ¢Â§ç' },\n        { id: 5, label: 'AIËØ≠Èü≥', description: 'ÂÆöÂà∂‰Ω†ÁöÑaiËØ≠Èü≥Âä©Êâã' },\n        { id: 6, label: 'ÈÄÄÂá∫ÁôªÂΩï', description: 'ÈÄÄÂá∫Âà∞ÁôªÂΩïÁïåÈù¢' }\n      ],\n      showVoiceCloneModal: false,\n      hasClonedVoice: false,\n      showAIVoiceModal: false\n    }\n  },\n  computed: {\n    filteredTimeBlocks() {\n      // Ê†πÊçÆÂΩìÂâçÈÄâ‰∏≠ÁöÑÊó∂Èó¥ÊÆµËøáÊª§Êó∂Èó¥Âùó\n      return this.timeBlocks.filter(block => {\n        const segmentMap = {\n          'morning': ['morning'],\n          'afternoon': ['afternoon'],\n          'evening': ['evening']\n        };\n        return segmentMap[this.currentTimeSegment]?.includes(block.timeBlockType);\n      });\n    },\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      return user?._id || user?.id || null\n    }\n  },\n  created() {\n    // Âú®created‰∏≠Âè™ËÆæÁΩÆÂàùÂßãÁä∂ÊÄÅÔºåÂª∂ËøüÊâßË°åÈÅøÂÖçÂàùÂßãÂåñÈóÆÈ¢ò\n    setTimeout(() => {\n      this.autoSetTimeSegment()\n    }, 0)\n  },\n  activated() {\n    // Ëã•‰ΩøÁî®keep-aliveÔºåÂàôËøîÂõûÊó∂Ëá™Âä®Âà∑Êñ∞\n    setTimeout(() => {\n      this.autoSetTimeSegment()\n      this.fetchTasks()\n    }, 0)\n  },\n  methods: {\n    // Ê†πÊçÆÂΩìÂâçÊó∂Èó¥Ëá™Âä®ËÆæÁΩÆÊó∂Èó¥ÊÆµ\n    autoSetTimeSegment() {\n      try {\n        const now = new Date()\n        const hour = now.getHours()\n        \n        if (hour >= 0 && hour < 8) {\n          this.currentTimeSegment = 'morning'\n          console.log('üåÖ [TaskPage] ÂΩìÂâçÊó∂Èó¥:', hour + ':00, Ëá™Âä®ÂàáÊç¢Âà∞Êó©‰∏äÊó∂Èó¥ÊÆµ')\n        } else if (hour >= 8 && hour < 16) {\n          this.currentTimeSegment = 'afternoon'\n          console.log('‚òÄÔ∏è [TaskPage] ÂΩìÂâçÊó∂Èó¥:', hour + ':00, Ëá™Âä®ÂàáÊç¢Âà∞‰∏ãÂçàÊó∂Èó¥ÊÆµ')\n        } else if (hour >= 16 && hour < 24) {\n          this.currentTimeSegment = 'evening'\n          console.log('üåô [TaskPage] ÂΩìÂâçÊó∂Èó¥:', hour + ':00, Ëá™Âä®ÂàáÊç¢Âà∞Êôö‰∏äÊó∂Èó¥ÊÆµ')\n        }\n      } catch (error) {\n        console.warn('‚ö†Ô∏è [TaskPage] Ëá™Âä®ËÆæÁΩÆÊó∂Èó¥ÊÆµÂ§±Ë¥•:', error)\n        // ËÆæÁΩÆÈªòËÆ§ÂÄº\n        this.currentTimeSegment = 'afternoon'\n      }\n    },\n    \n    handleSettingClick(setting) {\n      if (setting && (setting.id === 5 || setting.label === 'AIËØ≠Èü≥')) {\n        this.showVoiceCloneModal = true\n      } else if (setting && (setting.id === 6 || setting.label === 'ÈÄÄÂá∫ÁôªÂΩï')) {\n        try {\n          console.log('üîí [TaskPage] ÊâßË°åÈÄÄÂá∫ÁôªÂΩï')\n          localStorage.removeItem('token')\n          localStorage.removeItem('user')\n          localStorage.removeItem('auth_verified')\n        } finally {\n          this.sidebarOpen = false\n          this.$router.replace({ path: '/auth/login' })\n        }\n      }\n    },\n    onCloneSuccess() {\n      this.hasClonedVoice = true\n      this.showVoiceCloneModal = false\n      // ÊâìÂºÄAIËØ≠Èü≥Èô™‰º¥ËÆæÁΩÆÂºπÁ™ó\n      this.showAIVoiceModal = true\n    },\n    onApplyVoice() {\n      // ÂÖ≥Èó≠AIËØ≠Èü≥ÂºπÁ™óÔºõ‰øùÁïôÁÆÄÂçïÂ§ÑÁêÜ‰ª•‰∏çÂΩ±ÂìçÂéüÊúâÈÄªËæë\n      this.showAIVoiceModal = false\n    },\n    async fetchTasks() {\n      try {\n        console.log('üîÑ [TaskPage] ÂºÄÂßãËé∑Âèñ‰ªªÂä°ÂàóË°®...');\n        \n        // Êú™ÁôªÂΩïÈò≤Êä§\n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [TaskPage] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n\n        // Áõ¥Êé•Ëé∑ÂèñÊâÄÊúâ‰ªªÂä°Ôºå‰∏çÊåâÊó•ÊúüËøáÊª§\n        console.log('üìã [TaskPage] Ëé∑ÂèñÊâÄÊúâ‰ªªÂä°...');\n        const response = await api.tasks.getAllTasks({ userId })\n        console.log('üìã [TaskPage] ÊâÄÊúâ‰ªªÂä°ÂìçÂ∫î:', response)\n        \n        if (response.success && response.data) {\n          console.log('‚úÖ [TaskPage] ÊàêÂäüËé∑Âèñ‰ªªÂä°:', response.data.length);\n          this.processTasks(response.data)\n        } else {\n          console.warn('‚ö†Ô∏è [TaskPage] ‰ªªÂä°ÂìçÂ∫îÊ†ºÂºèÂºÇÂ∏∏Ôºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ');\n          this.initializeMockData()\n        }\n      } catch (error) {\n        console.error('‚ùå [TaskPage] Ëé∑Âèñ‰ªªÂä°Â§±Ë¥•:', error)\n        // Âá∫ÈîôÊó∂‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ\n        this.initializeMockData()\n      }\n    },\n    // Â§ñÈÉ®Âà∑Êñ∞‰ªªÂä°ÂàóË°®Ôºà‰æõÁï™ËåÑÈíüÂÆåÊàêÂêéËß¶ÂèëÔºâ\n    async refreshTasks() {\n      await this.fetchTasks()\n    },\n    \n    // ‰øÆÊîπprocessTasksÊñπÊ≥ïÔºåÂ§ÑÁêÜÂÆûÈôÖAPIËøîÂõûÁöÑ‰ªªÂä°Êï∞ÊçÆ\n    processTasks(tasks) {\n      console.log('üìä [TaskPage] ÂºÄÂßãÂ§ÑÁêÜ‰ªªÂä°Êï∞ÊçÆ:', tasks.length);\n      \n      // ÂàùÂßãÂåñÊó∂Èó¥ÂùóÔºåÊîØÊåÅÊõ¥ÁªÜÂàÜÁöÑÊó∂Èó¥ÊÆµ\n      this.timeBlocks = [\n        {\n          id: 1,\n          label: 'Êó©Êô® 0:00 - 8:00',\n          timeBlockType: 'morning',\n          tasks: [],\n          collapsed: false\n        },\n        {\n          id: 2,\n          label: '‰∏äÂçà 8:00 - 16:00',\n          timeBlockType: 'afternoon',\n          tasks: [],\n          collapsed: false\n        },\n        {\n          id: 3,\n          label: 'Êôö‰∏ä 16:00 - 24:00',\n          timeBlockType: 'evening',\n          tasks: [],\n          collapsed: false\n        }\n      ]\n      \n      // Ê∏ÖÁ©∫Áé∞Êúâ‰ªªÂä°\n      this.quadrants.forEach(q => (q.tasks = []));\n      this.unscheduledTasks = []\n      \n      // ÈÅçÂéÜ‰ªªÂä°Âπ∂ÂàÜÈÖç\n      tasks.forEach(task => {\n        console.log('üîç [TaskPage] Â§ÑÁêÜ‰ªªÂä°:', task.title, task);\n        \n        // ÂàÜÈÖçÂà∞ÂõõË±°Èôê\n        const quadrant = this.quadrants.find(q => q.id == task.quadrant)\n        if (quadrant) {\n          quadrant.tasks.push({\n            id: task._id,\n            title: task.title,\n            completed: task.completed\n          })\n        }\n        \n        // Âü∫‰∫éAPIËøîÂõûÁöÑÊñ∞Êï∞ÊçÆÁªìÊûÑÂ§ÑÁêÜÊó∂Èó¥‰ø°ÊÅØ\n        let taskTimeDisplay = 'Êú™ÊåáÂÆö';\n        let targetTimeBlockType = 'unscheduled';\n        \n        // Âà§Êñ≠ÊòØAIÁîüÊàêÁöÑÊó•Á®ãËøòÊòØÁî®Êà∑ÁîüÊàêÁöÑÊó•Á®ã\n        if (task.timeBlock && task.timeBlock.startTime) {\n          // AIÁîüÊàêÁöÑÊó•Á®ãÔºå‰ΩøÁî®timeBlock.startTime‰Ωú‰∏∫Âà§Êñ≠Ê†áÂáÜ\n          const hour = parseInt(task.timeBlock.startTime.split(':')[0]);\n          taskTimeDisplay = `${task.timeBlock.startTime} - ${task.timeBlock.endTime || this.addHour(task.timeBlock.startTime)}`;\n          \n          if (hour >= 0 && hour < 8) {\n            targetTimeBlockType = 'morning';\n          } else if (hour >= 8 && hour < 16) {\n            targetTimeBlockType = 'afternoon';\n          } else if (hour >= 16 && hour < 24) {\n            targetTimeBlockType = 'evening';\n          }\n          console.log(`üéØ [TaskPage] AIÁîüÊàê‰ªªÂä°\"${task.title}\"Ê†πÊçÆstartTimeËÆ°ÁÆóÊó∂Èó¥ÂùóÁ±ªÂûã: ${targetTimeBlockType}`);\n        } else if (task.time && task.time.trim()) {\n          // Áî®Êà∑ÁîüÊàêÁöÑÊó•Á®ãÔºå‰ΩøÁî®time‰Ωú‰∏∫Âà§Êñ≠Ê†áÂáÜ\n          const hour = parseInt(task.time.split(':')[0]);\n          taskTimeDisplay = `${task.time} - ${this.addHour(task.time)}`;\n          \n          if (hour >= 0 && hour < 8) {\n            targetTimeBlockType = 'morning';\n          } else if (hour >= 8 && hour < 16) {\n            targetTimeBlockType = 'afternoon';\n          } else if (hour >= 16 && hour < 24) {\n            targetTimeBlockType = 'evening';\n          }\n          console.log(`‚è∞ [TaskPage] Áî®Êà∑ÁîüÊàê‰ªªÂä°\"${task.title}\"Ê†πÊçÆtimeËÆ°ÁÆóÊó∂Èó¥ÂùóÁ±ªÂûã: ${targetTimeBlockType}`);\n        }\n        \n        const taskData = {\n          id: task._id,\n          title: task.title,\n          time: taskTimeDisplay,\n          priority: task.priority || 'medium',\n          completed: task.completed\n        };\n\n        // ÂàÜÈÖçÂà∞ÂØπÂ∫îÁöÑÊó∂Èó¥Âùó\n        if (targetTimeBlockType !== 'unscheduled') {\n          const timeBlock = this.timeBlocks.find(tb => tb.timeBlockType === targetTimeBlockType);\n          if (timeBlock) {\n            timeBlock.tasks.push(taskData);\n            console.log(`üìç [TaskPage] ‰ªªÂä°\"${task.title}\"ÂàÜÈÖçÂà∞${timeBlock.label}`);\n          } else {\n            this.unscheduledTasks.push(taskData);\n          }\n        } else {\n          // Ê≤°ÊúâÊó∂Èó¥ÁöÑ‰ªªÂä°ÊîæÂà∞Êú™ÊåáÂÆö‰ªªÂä°ÂàóË°®\n          this.unscheduledTasks.push(taskData);\n          console.log(`üìç [TaskPage] ‰ªªÂä°\"${task.title}\"ÂàÜÈÖçÂà∞Êú™ÊåáÂÆö‰ªªÂä°`);\n        }\n      })\n\n      // Ê∑ªÂä†ËØ¶ÁªÜÁöÑË∞ÉËØï‰ø°ÊÅØ\n      console.log('üìä [TaskPage] Êó∂Èó¥Âùó‰ªªÂä°ÂàÜÈÖçËØ¶ÊÉÖ:');\n      this.timeBlocks.forEach(tb => {\n        console.log(`  ${tb.label} (${tb.timeBlockType}): ${tb.tasks.length}‰∏™‰ªªÂä°`);\n        tb.tasks.forEach(task => {\n          console.log(`    - ${task.title} (${task.time})`);\n        });\n        \n        // Ëá™Âä®ÊäòÂè†Á©∫ÁöÑÊó∂Èó¥ÂùóÔºåÂ±ïÂºÄÊúâ‰ªªÂä°ÁöÑÊó∂Èó¥Âùó\n        if (tb.tasks.length === 0) {\n          tb.collapsed = true;\n        } else {\n          tb.collapsed = false;\n        }\n      });\n      \n      console.log(`üìã [TaskPage] Êú™ÊåáÂÆöÊó∂Èó¥‰ªªÂä°: ${this.unscheduledTasks.length}‰∏™`);\n      this.unscheduledTasks.forEach(task => {\n        console.log(`  - ${task.title}`);\n      });\n    },\n    \n    initializeMockData() {\n      console.log('‚ö†Ô∏è [TaskPage] APIË∞ÉÁî®Â§±Ë¥•Ôºå‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ');\n      // ÂΩìAPIË∞ÉÁî®Â§±Ë¥•Êó∂ÁöÑÂ§áÁî®Ê®°ÊãüÊï∞ÊçÆÔºå‰ΩøÁî®‰∏éprocessTasksÁõ∏ÂêåÁöÑÁªìÊûÑ\n      this.timeBlocks = [\n        {\n          id: 1,\n          label: 'Êó©Êô® 0:00 - 8:00',\n          timeBlockType: 'morning',\n          tasks: [\n            {\n              id: 1,\n              title: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n              time: '7:30 - 8:30',\n              priority: 'high',\n              completed: false\n            }\n          ],\n          collapsed: false\n        },\n        {\n          id: 2,\n          label: '‰∏äÂçà 8:00 - 16:00',\n          timeBlockType: 'afternoon',\n          tasks: [\n            {\n              id: 2,\n              title: 'ËÄÉÁ†îÊï∞Â≠¶Â§ç‰π†',\n              time: '9:00 - 11:00',\n              priority: 'high',\n              completed: true\n            },\n            {\n              id: 3,\n              title: 'ÊîøÊ≤ªÁü•ËØÜÁÇπËÉåËØµ',\n              time: '11:00 - 12:00',\n              priority: 'medium',\n              completed: false\n            },\n            {\n              id: 4,\n              title: '‰∏ì‰∏öËØæÁ¨îËÆ∞Êï¥ÁêÜ',\n              time: '14:00 - 16:00',\n              priority: 'medium',\n              completed: false\n            }\n          ],\n          collapsed: false\n        },\n        {\n          id: 3,\n          label: 'Êôö‰∏ä 16:00 - 24:00',\n          timeBlockType: 'evening',\n          tasks: [],\n          collapsed: true // ÂàùÂßãÊ≤°Êúâ‰ªªÂä°ÔºåËÆæ‰∏∫ÊäòÂè†\n        }\n      ]\n      \n      // Ê∑ªÂä†Êú™ÊåáÂÆöÊó∂Èó¥ÁöÑ‰ªªÂä°Ê°Ü\n      this.unscheduledTasks = [\n        {\n          id: 5,\n          title: 'Â§ç‰π†Ëã±ËØ≠ÂçïËØç',\n          priority: 'low',\n          completed: false\n        },\n        {\n          id: 6,\n          title: 'Êï¥ÁêÜÂ≠¶‰π†ËµÑÊñô',\n          priority: 'medium',\n          completed: false\n        }\n      ]\n      \n      this.quadrants = [\n        {\n          id: 1,\n          title: 'ÈáçË¶Å‰∏îÁ¥ßÊÄ•',\n          tasks: [\n            {\n              id: 2,\n              title: 'ËÄÉÁ†îÊï∞Â≠¶Â§ç‰π†',\n              completed: true\n            }\n          ]\n        },\n        {\n          id: 2,\n          title: 'ÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n          tasks: [\n            {\n              id: 1,\n              title: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n              completed: false\n            },\n            {\n              id: 4,\n              title: '‰∏ì‰∏öËØæÁ¨îËÆ∞Êï¥ÁêÜ',\n              completed: false\n            }\n          ]\n        },\n        {\n          id: 3,\n          title: 'Á¥ßÊÄ•‰∏çÈáçË¶Å',\n          tasks: [\n            {\n              id: 3,\n              title: 'ÊîøÊ≤ªÁü•ËØÜÁÇπËÉåËØµ',\n              completed: false\n            }\n          ]\n        },\n        {\n          id: 4,\n          title: '‰∏çÈáçË¶Å‰∏çÁ¥ßÊÄ•',\n          tasks: []\n        }\n      ]\n    },\n    \n    // Ê∑ªÂä†ÊäòÂè†/Â±ïÂºÄÂäüËÉΩ\n    toggleTimeBlockCollapse(timeBlockId) {\n      const timeBlock = this.timeBlocks.find(tb => tb.id === timeBlockId)\n      if (timeBlock) {\n        timeBlock.collapsed = !timeBlock.collapsed\n      }\n    },\n    \n    // Ê∑ªÂä†Êú™ÊåáÂÆöÊó∂Èó¥ÁöÑ‰ªªÂä°Âà∞ÂØπÂ∫îÊó∂Èó¥Âùó\n    moveToTimeBlock(task, timeBlockId) {\n      const taskIndex = this.unscheduledTasks.findIndex(t => t.id === task.id)\n      if (taskIndex > -1) {\n        this.unscheduledTasks.splice(taskIndex, 1)\n        const timeBlock = this.timeBlocks.find(tb => tb.id === timeBlockId)\n        if (timeBlock) {\n          timeBlock.tasks.push(task)\n        }\n      }\n    },\n    switchView(view) {\n      this.currentView = view\n    },\n    toggleSidebar() {\n      this.sidebarOpen = !this.sidebarOpen\n    },\n    openAddTask() {\n      this.showAddModal = true\n    },\n    closeAddTask() {\n      this.showAddModal = false\n    },\n    async handleAddTask(taskData) {\n      try {\n        console.log('üîÑ [TaskPage] ÂºÄÂßãÂàõÂª∫‰ªªÂä°:', taskData);\n        \n        const userId = this.currentUserId\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [TaskPage] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n        \n        const response = await api.tasks.createTask({\n          title: taskData.title,\n          description: taskData.description || '',\n          priority: taskData.priority || 'medium',\n          completed: false,\n          quadrant: taskData.quadrant,\n          date: taskData.date,\n          time: taskData.time,\n          userId,\n          timeBlockType: taskData.timeBlockType,\n          isScheduled: taskData.isScheduled\n        })\n        console.log('‚úÖ [TaskPage] ‰ªªÂä°ÂàõÂª∫ÊàêÂäü:', response)\n        \n        // ÈáçÊñ∞Ëé∑Âèñ‰ªªÂä°ÂàóË°®\n        await this.fetchTasks()\n        this.closeAddTask()\n      } catch (error) {\n        console.error('‚ùå [TaskPage] ÂàõÂª∫‰ªªÂä°Â§±Ë¥•:', error)\n        // Âá∫ÈîôÊó∂‰ΩøÁî®ÂéüÊúâÈÄªËæë\n        const task = {\n          id: Date.now(), // ‰ΩøÁî®Êó∂Èó¥Êà≥‰Ωú‰∏∫‰∏¥Êó∂ID\n          title: taskData.title,\n          time: taskData.time ? `${taskData.time} - ${this.addHour(taskData.time)}` : 'Êú™ÊåáÂÆö',\n          priority: taskData.priority || 'medium',\n          completed: false,\n          date: taskData.date\n        }\n        \n        // Ê∑ªÂä†Âà∞ÂØπÂ∫îÁöÑË±°Èôê\n        const quadrant = this.quadrants.find(q => q.id === taskData.quadrant)\n        if (quadrant) {\n          quadrant.tasks.push(task)\n        }\n        \n        // Ê†πÊçÆÊó∂Èó¥Ê∑ªÂä†Âà∞ÂØπÂ∫îÁöÑÊó∂Èó¥Âùó\n        if (taskData.time && taskData.timeBlockType) {\n          const timeBlock = this.timeBlocks.find(tb => tb.timeBlockType === taskData.timeBlockType);\n          if (timeBlock) {\n            timeBlock.tasks.push(task);\n            console.log(`‚úÖ [TaskPage] ‰ªªÂä°Ê∑ªÂä†Âà∞${timeBlock.label}:`, task.title);\n          }\n        }\n        \n        this.closeAddTask()\n      }\n    },\n    \n    // ËæÖÂä©ÊñπÊ≥ïÔºöÁªôÊó∂Èó¥Âä†‰∏ÄÂ∞èÊó∂\n    addHour(time) {\n      const [hour, minute] = time.split(':').map(Number);\n      const newHour = (hour + 1) % 24;\n      return `${newHour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n    },\n    async toggleTask(task) {\n      try {\n        const response = await api.tasks.toggleTaskStatus(task.id)\n        console.log('Toggled task status:', response)\n        \n        // Êõ¥Êñ∞Êú¨Âú∞Áä∂ÊÄÅ\n        const willBeCompleted = !task.completed\n        task.completed = willBeCompleted\n        \n        // Ëã•ÂàöÂÆåÊàêÔºåÊí≠ÊîæÈºìÂä±ËØ≠Èü≥\n        if (willBeCompleted) {\n          playRandomVoice('encourage')\n        }\n      } catch (error) {\n        console.error('Failed to toggle task status:', error)\n        // Âá∫ÈîôÊó∂‰ΩøÁî®ÂéüÊúâÈÄªËæë\n        task.completed = !task.completed\n      }\n    },\n    openPomodoro(task) {\n      this.$router.push({\n        path: '/pomodoro',\n        query: { task: task.title, taskId: task.id, from: '/task' }\n      })\n    },\n    \n    // ÂàáÊç¢Êó∂Èó¥ÊÆµ\n    switchTimeSegment(segment) {\n      console.log('üîÑ [TaskPage] ÂàáÊç¢Êó∂Èó¥ÊÆµ:', segment);\n      this.currentTimeSegment = segment;\n    }\n  },\n  mounted() {\n    console.log('üîÑ [TaskPage] ÁªÑ‰ª∂ÊåÇËΩΩÔºåÂºÄÂßãËé∑Âèñ‰ªªÂä°...');\n    // È°µÈù¢Âä†ËΩΩÊó∂Á´ãÂç≥Ëé∑Âèñ‰ªªÂä°\n    this.fetchTasks();\n    \n    // ÁõëÂê¨AIÁîüÊàêËÆ°Âàí‰∫ã‰ª∂ÔºåËá™Âä®Âà∑Êñ∞‰ªªÂä°ÂàóË°®\n    this._aiPlanHandler = () => {\n      console.log('üéØ [TaskPage] Êî∂Âà∞AIËÆ°ÂàíÁîüÊàê‰∫ã‰ª∂ÔºåÂà∑Êñ∞‰ªªÂä°ÂàóË°®');\n      this.refreshTasks();\n    }\n    window.addEventListener('ai-plan-generated', this._aiPlanHandler);\n  },\n  beforeUnmount() {\n    if (this._aiPlanHandler) {\n      window.removeEventListener('ai-plan-generated', this._aiPlanHandler)\n      this._aiPlanHandler = null\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home-container {\n  height: 100vh;\n  background: #f2f2f7;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background: #fff;\n  padding: 12px 20px;\n  border-bottom: 0.5px solid #e5e5ea;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.settings-btn {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.settings-btn:hover {\n  background: #e5e5ea;\n}\n\n.view-toggle {\n  display: flex;\n  background: #f2f2f7;\n  border-radius: 20px;\n  padding: 4px;\n  width: 200px;\n}\n\n.toggle-btn {\n  flex: 1;\n  padding: 8px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 16px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #8e8e93;\n}\n\n.toggle-btn.active {\n  background: #667eea;\n  color: white;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.content {\n  flex: 1;\n  overflow: hidden;\n}\n\n.sidebar {\n  position: fixed;\n  top: 0;\n  left: -300px;\n  width: 300px;\n  height: 100vh;\n  background: white;\n  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);\n  transition: left 0.3s ease;\n  z-index: 1000;\n  overflow-y: auto;\n}\n\n.sidebar.open {\n  left: 0;\n}\n\n.sidebar-header {\n  padding: 20px;\n  border-bottom: 1px solid #e5e5ea;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.sidebar-title {\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.close-sidebar {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: #f2f2f7;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.sidebar-content {\n  padding: 20px;\n}\n\n.setting-item {\n  padding: 15px 0;\n  border-bottom: 1px solid #f2f2f7;\n}\n\n.setting-item:last-child {\n  border-bottom: none;\n}\n\n.setting-label {\n  font-size: 16px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.setting-description {\n  font-size: 14px;\n  color: #8e8e93;\n}\n\n\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n  z-index: 999;\n}\n\n.add-task-btn {\n  position: fixed;\n  bottom: 90px;\n  right: 20px;\n  width: 56px;\n  height: 56px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 24px;\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n  cursor: pointer;\n  transition: transform 0.2s;\n  z-index: 100;\n}\n\n.add-task-btn:hover {\n  transform: scale(1.1);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 10px 16px;\n  }\n  \n  .view-toggle {\n    width: 160px;\n  }\n  \n  .section {\n    margin: 16px;\n  }\n  \n  .quadrant-grid {\n    height: calc(100vh - 180px);\n  }\n  \n  .sidebar {\n    width: 280px;\n  }\n}\n\n/* Êó∂Èó¥ÊÆµÈÄâÊã©Âô®Ê†∑Âºè */\n.time-view-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.time-segment-section {\n  padding: 16px 20px 8px;\n  background: white;\n  border-bottom: 1px solid #f2f2f7;\n}\n\n.section-title {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.section-title h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1d1d1f;\n  margin: 0;\n}\n\n.view-all-link {\n  font-size: 14px;\n  color: #007aff;\n  text-decoration: none;\n  font-weight: 500;\n}\n\n.view-all-link:hover {\n  text-decoration: underline;\n}\n\n/* ÂàÜÊÆµÊéß‰ª∂Ê†∑Âºè - ÂèÇËÄÉhome111.html */\n.segmented {\n  display: flex;\n  background: #f2f2f7;\n  border-radius: 12px;\n  padding: 2px;\n  width: 100%;\n}\n\n.segmented button {\n  flex: 1;\n  padding: 10px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #8e8e93;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n\n.segmented button.active {\n  background: white;\n  color: #1d1d1f;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);\n}\n\n.segmented button:hover:not(.active) {\n  color: #1d1d1f;\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç */\n@media (max-width: 430px) {\n  .time-segment-section {\n    padding: 12px 16px 6px;\n  }\n  \n  .section-title h3 {\n    font-size: 16px;\n  }\n  \n  .segmented button {\n    padding: 8px 12px;\n    font-size: 13px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}