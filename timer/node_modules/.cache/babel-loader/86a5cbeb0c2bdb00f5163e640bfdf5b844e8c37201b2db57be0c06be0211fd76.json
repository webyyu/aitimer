{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"ai-secretary-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"connection-status connecting\"\n};\nconst _hoisted_3 = {\n  class: \"chat-container\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"message ai-message\"\n};\nconst _hoisted_5 = {\n  class: \"avatar\"\n};\nconst _hoisted_6 = {\n  class: \"quick-actions\"\n};\nconst _hoisted_7 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AIHeader = _resolveComponent(\"AIHeader\");\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_MessageCard = _resolveComponent(\"MessageCard\");\n  const _component_MessageInput = _resolveComponent(\"MessageInput\");\n  const _component_AssistantSettingsModal = _resolveComponent(\"AssistantSettingsModal\");\n  const _component_VoiceRecognitionStatus = _resolveComponent(\"VoiceRecognitionStatus\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_AIHeader, {\n    assistant: $data.assistant,\n    onOpenSettings: $options.openSettingsModal\n  }, null, 8, [\"assistant\", \"onOpenSettings\"]), $data.connectionStatus === 'connecting' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_font_awesome_icon, {\n    icon: \"spinner\",\n    spin: \"\"\n  }), _createElementVNode(\"span\", null, _toDisplayString($options.connectionStatusText), 1)])) : _createCommentVNode(\"\", true), $options.showError ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"error-banner\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.reconnect && $options.reconnect(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"exclamation-circle\"\n  }), _createElementVNode(\"span\", null, _toDisplayString($data.errorMessage), 1), _cache[1] || (_cache[1] = _createElementVNode(\"small\", null, \"点击重试\", -1))])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.messages, message => {\n    return _openBlock(), _createBlock(_component_MessageCard, {\n      key: message.id,\n      message: message\n    }, null, 8, [\"message\"]);\n  }), 128)), $options.isProcessing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_font_awesome_icon, {\n    icon: \"robot\"\n  })]), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"message-content\"\n  }, [_createElementVNode(\"div\", {\n    class: \"typing-indicator\"\n  }, [_createElementVNode(\"span\"), _createElementVNode(\"span\"), _createElementVNode(\"span\")])], -1))])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.quickActions, action => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: action.id,\n      class: \"quick-action-btn\",\n      onClick: $event => $options.sendQuickMessage(action.text)\n    }, [_createVNode(_component_font_awesome_icon, {\n      icon: action.icon\n    }, null, 8, [\"icon\"]), _createElementVNode(\"span\", null, _toDisplayString(action.label), 1)], 8, _hoisted_7);\n  }), 128))]), _createVNode(_component_MessageInput, {\n    onSendMessage: $options.sendMessage,\n    onSendVoiceMessage: $options.sendVoiceMessage\n  }, null, 8, [\"onSendMessage\", \"onSendVoiceMessage\"]), _createVNode(_component_AssistantSettingsModal, {\n    visible: $data.showSettingsModal,\n    assistant: $data.assistant,\n    onClose: $options.closeSettingsModal,\n    onSave: $options.saveAssistantSettings\n  }, null, 8, [\"visible\", \"assistant\", \"onClose\", \"onSave\"]), _createVNode(_component_VoiceRecognitionStatus, {\n    show: $data.showVoiceStatus,\n    type: $data.voiceStatusType,\n    title: $data.voiceStatusTitle,\n    message: $data.voiceStatusMessage,\n    progress: $data.voiceStatusProgress,\n    \"auto-close\": $data.voiceStatusAutoClose,\n    onClose: $options.hideVoiceStatus\n  }, null, 8, [\"show\", \"type\", \"title\", \"message\", \"progress\", \"auto-close\", \"onClose\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_AIHeader","assistant","$data","onOpenSettings","$options","openSettingsModal","connectionStatus","_hoisted_2","_component_font_awesome_icon","icon","spin","_createElementVNode","_toDisplayString","connectionStatusText","showError","onClick","_cache","args","reconnect","errorMessage","_hoisted_3","_Fragment","_renderList","messages","message","_createBlock","_component_MessageCard","key","id","isProcessing","_hoisted_4","_hoisted_5","_hoisted_6","quickActions","action","$event","sendQuickMessage","text","label","_component_MessageInput","onSendMessage","sendMessage","onSendVoiceMessage","sendVoiceMessage","_component_AssistantSettingsModal","visible","showSettingsModal","onClose","closeSettingsModal","onSave","saveAssistantSettings","_component_VoiceRecognitionStatus","show","showVoiceStatus","type","voiceStatusType","title","voiceStatusTitle","voiceStatusMessage","progress","voiceStatusProgress","voiceStatusAutoClose","hideVoiceStatus"],"sources":["C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\timer\\src\\views\\AiSecretary.vue"],"sourcesContent":["<template>\n  <div class=\"ai-secretary-container\">\n    <AIHeader \n      :assistant=\"assistant\" \n      @openSettings=\"openSettingsModal\" \n    />\n    \n    <!-- 连接状态显示 -->\n    <div v-if=\"connectionStatus === 'connecting'\" class=\"connection-status connecting\">\n      <font-awesome-icon icon=\"spinner\" spin />\n      <span>{{ connectionStatusText }}</span>\n    </div>\n    \n    <!-- 错误提示 -->\n    <div v-if=\"showError\" class=\"error-banner\" @click=\"reconnect\">\n      <font-awesome-icon icon=\"exclamation-circle\" />\n      <span>{{ errorMessage }}</span>\n      <small>点击重试</small>\n    </div>\n    \n    <div class=\"chat-container\">\n      <MessageCard \n        v-for=\"message in messages\" \n        :key=\"message.id\"\n        :message=\"message\"\n      />\n      \n      <!-- Typing indicator -->\n      <div v-if=\"isProcessing\" class=\"message ai-message\">\n        <div class=\"avatar\">\n          <font-awesome-icon icon=\"robot\" />\n        </div>\n        <div class=\"message-content\">\n          <div class=\"typing-indicator\">\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Quick Actions -->\n    <div class=\"quick-actions\">\n      <button \n        v-for=\"action in quickActions\"\n        :key=\"action.id\"\n        class=\"quick-action-btn\"\n        @click=\"sendQuickMessage(action.text)\"\n      >\n        <font-awesome-icon :icon=\"action.icon\" />\n        <span>{{ action.label }}</span>\n      </button>\n    </div>\n    \n    <MessageInput @sendMessage=\"sendMessage\" @sendVoiceMessage=\"sendVoiceMessage\" />\n    \n    <!-- AI助手设置模态框 -->\n    <AssistantSettingsModal\n      :visible=\"showSettingsModal\"\n      :assistant=\"assistant\"\n      @close=\"closeSettingsModal\"\n      @save=\"saveAssistantSettings\"\n    />\n\n    <!-- 语音识别状态组件 -->\n    <VoiceRecognitionStatus\n      :show=\"showVoiceStatus\"\n      :type=\"voiceStatusType\"\n      :title=\"voiceStatusTitle\"\n      :message=\"voiceStatusMessage\"\n      :progress=\"voiceStatusProgress\"\n      :auto-close=\"voiceStatusAutoClose\"\n      @close=\"hideVoiceStatus\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport AIHeader from '../components/AIsecretary/Header.vue'\nimport MessageCard from '../components/AIsecretary/MessageCard.vue'\nimport MessageInput from '../components/AIsecretary/MessageInput.vue'\nimport AssistantSettingsModal from '../components/AIsecretary/AssistantSettingsModal.vue'\nimport VoiceRecognitionStatus from '../components/AIsecretary/VoiceRecognitionStatus.vue'\n\n// 导入AI服务\nimport messageService from '../AIsiri/services/messageService.js'\nimport aisiriService from '../AIsiri/services/aiApi.js'\nimport aiAssistantService from '../AIsiri/services/aiAssistantService.js'\nimport speechRecognitionService from '../AIsiri/services/speechRecognitionService.js'\nimport { QUICK_ACTIONS } from '../AIsiri/types/index.js'\nimport { log } from '../AIsiri/utils/logger.js'\n\nexport default {\n  name: 'AiSecretary',\n  components: {\n    AIHeader,\n    MessageCard,\n    MessageInput,\n    AssistantSettingsModal,\n    VoiceRecognitionStatus\n  },\n  data() {\n    return {\n      isTyping: false,\n      messages: [],\n      quickActions: QUICK_ACTIONS,\n      messageService: messageService,\n      // 添加连接状态\n      connectionStatus: 'connecting', // connecting, connected, error\n      // 添加错误信息\n      errorMessage: null,\n      // AI助手相关\n      assistant: null,\n      showSettingsModal: false,\n      // 语音识别状态\n      showVoiceStatus: false,\n      voiceStatusType: 'processing',\n      voiceStatusTitle: '',\n      voiceStatusMessage: '',\n      voiceStatusProgress: 0,\n      voiceStatusAutoClose: 3000\n    }\n  },\n  methods: {\n    /**\n     * 发送消息\n     */\n    async sendMessage(text) {\n      if (!text || !text.trim()) {\n        log.warn('发送消息失败：消息内容为空')\n        return\n      }\n\n      try {\n        log.user('发送消息', { message: text })\n        \n        // 显示打字状态\n        this.isTyping = true\n        \n        // 处理用户输入 - 使用智能调度系统\n        await this.messageService.processUserInput(text.trim())\n        \n        // 更新消息列表\n        this.updateMessages()\n        \n        // 增加心动值\n        await this.increaseHeartValue()\n        \n      } catch (error) {\n        log.error('发送消息失败', error)\n        this.handleError('发送消息时出现错误，请稍后重试')\n      } finally {\n        this.isTyping = false\n        this.$nextTick(() => {\n          this.scrollToBottom()\n        })\n      }\n    },\n\n    /**\n     * 发送语音消息\n     */\n    async sendVoiceMessage(voiceData) {\n      try {\n        log.user('发送语音消息', { \n          duration: voiceData.duration,\n          transcription: voiceData.transcription \n        })\n        \n        // 添加用户语音消息到列表\n        const userVoiceMessage = {\n          id: Date.now(),\n          type: 'voice',\n          isUser: true,\n          timestamp: new Date(),\n          duration: voiceData.duration,\n          transcription: voiceData.transcription,\n          audioUrl: voiceData.audioUrl,\n          audioFile: voiceData.audioFile\n        };\n        \n        this.messages.push(userVoiceMessage);\n        this.scrollToBottom();\n        \n        // 如果有识别文本，发送到AI助手，但保持语音消息形态\n        if (voiceData.transcription) {\n          // 使用消息服务的语音处理方法\n          await this.messageService.processVoiceInput(voiceData);\n          // 更新消息列表\n          this.updateMessages();\n          // 滚动到底部\n          this.scrollToBottom();\n        }\n        \n      } catch (error) {\n        log.error('发送语音消息失败', error);\n        this.handleError('发送语音消息失败，请重试');\n      }\n    },\n\n\n\n    /**\n     * 发送快速消息\n     */\n    async sendQuickMessage(text) {\n      log.user('使用快速操作', { message: text })\n      await this.sendMessage(text)\n    },\n\n    /**\n     * 更新消息列表\n     */\n    updateMessages() {\n      this.messages = this.messageService.getMessages()\n      log.debug('消息列表已更新', { messageCount: this.messages.length })\n    },\n\n    /**\n     * 处理错误\n     */\n    handleError(message) {\n      this.errorMessage = message\n      this.connectionStatus = 'error'\n      \n      // 3秒后自动清除错误信息\n      setTimeout(() => {\n        this.errorMessage = null\n        this.connectionStatus = 'connected'\n      }, 3000)\n    },\n\n    /**\n     * 检查连接状态\n     */\n    async checkConnection() {\n      try {\n        log.api('检查AIsiri智能调度服务连接状态')\n        this.connectionStatus = 'connecting'\n        \n        const response = await aisiriService.healthCheck()\n        \n        if (response.success) {\n          this.connectionStatus = 'connected'\n          log.success('AIsiri智能调度服务连接正常')\n        } else {\n          throw new Error('健康检查失败')\n        }\n        \n      } catch (error) {\n        log.error('连接检查失败', error)\n        this.connectionStatus = 'error'\n        this.errorMessage = '无法连接到AIsiri智能调度服务，请检查网络连接'\n      }\n    },\n\n    /**\n     * 重新连接\n     */\n    async reconnect() {\n      log.info('尝试重新连接AIsiri智能调度服务')\n      await this.checkConnection()\n    },\n\n    /**\n     * 清除所有消息\n     */\n    clearMessages() {\n      log.user('清除消息历史')\n      this.messageService.clearMessages()\n      this.updateMessages()\n    },\n\n    /**\n     * 滚动到底部\n     */\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const chatContainer = document.querySelector('.chat-container')\n        if (chatContainer) {\n          chatContainer.scrollTop = chatContainer.scrollHeight\n        }\n      })\n    },\n\n    /**\n     * 导出聊天记录（调试用）\n     */\n    exportChatHistory() {\n      const history = this.messageService.exportMessages()\n      log.table(history, '聊天记录导出')\n      \n      // 下载为JSON文件\n      const blob = new Blob([JSON.stringify(history, null, 2)], { type: 'application/json' })\n      const url = URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `aisiri_chat_history_${new Date().toISOString().slice(0, 10)}.json`\n      a.click()\n      URL.revokeObjectURL(url)\n    },\n\n    /**\n     * 增加心动值\n     */\n    async increaseHeartValue() {\n      try {\n        await aiAssistantService.increaseHeartValue()\n        log.info('心动值增加成功')\n      } catch (error) {\n        log.error('增加心动值失败:', error)\n        // 不影响主要功能，只记录错误\n      }\n    },\n\n    /**\n     * 打开设置模态框\n     */\n    openSettingsModal() {\n      this.showSettingsModal = true\n    },\n\n    /**\n     * 关闭设置模态框\n     */\n    closeSettingsModal() {\n      this.showSettingsModal = false\n    },\n\n    /**\n     * 保存AI助手设置\n     */\n    async saveAssistantSettings(newName) {\n      try {\n        await aiAssistantService.updateAssistantName(newName)\n        log.success('AI助手名称更新成功:', newName)\n        // 显示成功提示\n        this.$toast?.success?.(`AI助手名称已更新为\"${newName}\"`) || \n        console.log(`AI助手名称已更新为\"${newName}\"`)\n      } catch (error) {\n        log.error('更新AI助手名称失败:', error)\n        // 显示错误提示\n        this.$toast?.error?.(error.message || '更新失败，请重试') || \n        console.error('更新失败:', error.message)\n        throw error\n      }\n    },\n\n    /**\n     * 初始化AI助手\n     */\n    async initializeAIAssistant() {\n      try {\n        // 添加监听器，当AI助手信息更新时同步到组件状态\n        aiAssistantService.addListener(this.updateAssistantFromService)\n        \n        // 初始化AI助手\n        await aiAssistantService.initialize()\n        this.assistant = aiAssistantService.getCurrentAssistant()\n        \n        log.success('AI助手初始化完成:', this.assistant)\n      } catch (error) {\n        log.error('AI助手初始化失败:', error)\n        // 创建默认助手信息\n        this.assistant = {\n          id: 'default',\n          name: 'AI学习助手',\n          heartValue: 0,\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString()\n        }\n      }\n    },\n\n    /**\n     * 从服务更新AI助手信息（监听器回调）\n     */\n    updateAssistantFromService(assistant) {\n      this.assistant = assistant\n      log.debug('AI助手信息已更新:', assistant)\n    },\n\n    /**\n     * 显示语音识别状态\n     */\n    showVoiceStatusBar(type, title, message, progress = 0, autoClose = 3000) {\n      this.voiceStatusType = type\n      this.voiceStatusTitle = title\n      this.voiceStatusMessage = message\n      this.voiceStatusProgress = progress\n      this.voiceStatusAutoClose = autoClose\n      this.showVoiceStatus = true\n      \n      log.info('显示语音识别状态', { type, title, message, progress })\n    },\n\n    /**\n     * 隐藏语音识别状态\n     */\n    hideVoiceStatus() {\n      this.showVoiceStatus = false\n      log.info('隐藏语音识别状态')\n    },\n\n    /**\n     * 更新语音识别进度\n     */\n    updateVoiceStatusProgress(progress) {\n      this.voiceStatusProgress = progress\n    },\n\n    /**\n     * 监听语音识别服务状态变化\n     */\n    setupVoiceRecognitionListener() {\n      // 监听语音识别服务的状态变化\n      const checkStatus = () => {\n        const isProcessing = speechRecognitionService.getProcessingStatus()\n        \n        if (isProcessing && !this.showVoiceStatus) {\n          this.showVoiceStatusBar(\n            'processing',\n            '语音识别中',\n            '正在处理音频文件，请稍候...',\n            0\n          )\n        } else if (!isProcessing && this.showVoiceStatus && this.voiceStatusType === 'processing') {\n          this.hideVoiceStatus()\n        }\n      }\n      \n      // 定期检查状态\n      this.voiceStatusInterval = setInterval(checkStatus, 500)\n    }\n  },\n  async mounted() {\n    log.info('AIsiri智能调度助手页面初始化')\n    \n    try {\n      // 1. 初始化AI助手\n      await this.initializeAIAssistant()\n      \n      // 2. 初始化消息列表\n      this.updateMessages()\n      \n      // 3. 检查连接状态\n      await this.checkConnection()\n      \n      // 4. 设置语音识别监听器\n      this.setupVoiceRecognitionListener()\n      \n      // 5. 滚动到底部\n      this.scrollToBottom()\n      \n      log.success('AIsiri智能调度助手页面初始化完成')\n      \n    } catch (error) {\n      log.error('页面初始化失败', error)\n      this.handleError('初始化失败，请刷新页面重试')\n    }\n  },\n  \n  beforeUnmount() {\n    log.info('AIsiri智能调度助手页面卸载')\n    // 移除AI助手监听器\n    aiAssistantService.removeListener(this.updateAssistantFromService)\n    \n    // 清理语音识别状态检查定时器\n    if (this.voiceStatusInterval) {\n      clearInterval(this.voiceStatusInterval)\n    }\n  },\n  \n  watch: {\n    // 监听消息变化，自动滚动到底部\n    messages: {\n      handler() {\n        this.$nextTick(() => {\n          this.scrollToBottom()\n        })\n      },\n      deep: true\n    },\n    \n    // 监听连接状态变化\n    connectionStatus(newStatus) {\n      log.info(`连接状态变更: ${newStatus}`)\n    }\n  },\n  \n  computed: {\n    // 计算是否正在处理\n    isProcessing() {\n      return this.messageService.isCurrentlyProcessing() || this.isTyping\n    },\n    \n    // 计算连接状态显示\n    connectionStatusText() {\n      const statusMap = {\n        connecting: '连接中...',\n        connected: '已连接',\n        error: '连接失败'\n      }\n      return statusMap[this.connectionStatus] || '未知状态'\n    },\n    \n    // 计算是否显示错误状态\n    showError() {\n      return this.connectionStatus === 'error' && this.errorMessage\n    }\n  }\n}\n</script>\n\n<style scoped>\n:root {\n    --primary-bg: #f7f7f7;\n    --chat-bg: #f7f7f7;\n    --white: #ffffff;\n    --text-primary: #000000;\n    --text-secondary: #666666;\n    --text-time: #999999;\n    --blue: #007aff;\n    --green: #07c160;\n    --border: #e5e5e5;\n    --shadow: 0 1px 3px rgba(0,0,0,0.1);\n    --shadow-up: 0 -1px 3px rgba(0,0,0,0.1);\n}\n\n.ai-secretary-container {\n  height: 100vh;\n  background: var(--primary-bg);\n  display: flex;\n  flex-direction: column;\n}\n\n.chat-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  padding-bottom: 160px; /* Adjust for input and quick actions */\n}\n\n.message {\n  display: flex;\n  margin-bottom: 16px;\n  animation: fadeIn 0.3s ease-in;\n}\n\n.ai-message {\n  justify-content: flex-start;\n}\n\n.user-message {\n  justify-content: flex-end;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  margin-right: 12px;\n  flex-shrink: 0;\n}\n\n.user-avatar {\n  background: linear-gradient(135deg, #34c759 0%, #30d158 100%);\n  margin-right: 0;\n  margin-left: 12px;\n}\n\n.message-content {\n  max-width: 80%;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 12px 16px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.user-message .message-content {\n  background: rgba(0, 122, 255, 0.9);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(0, 122, 255, 0.3);\n  color: white;\n}\n\n.message-text {\n  font-size: 16px;\n  line-height: 1.4;\n  word-wrap: break-word;\n}\n\n.typing-indicator {\n  display: flex;\n  gap: 4px;\n}\n\n.typing-indicator span {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #8e8e93;\n  animation: typing 1.4s infinite ease-in-out;\n}\n\n.typing-indicator span:nth-child(1) { animation-delay: -0.32s; }\n.typing-indicator span:nth-child(2) { animation-delay: -0.16s; }\n\n.quick-actions {\n  position: fixed;\n  bottom: 85px;\n  left: 16px;\n  display: flex;\n  gap: 12px;\n  overflow-x: auto;\n  background: transparent;\n  max-width: calc(100% - 32px);\n  padding: 8px 0;\n  /* 隐藏滚动条 */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE 10+ */\n  scroll-behavior: smooth;\n}\n\n.quick-actions::-webkit-scrollbar {\n  display: none; /* Chrome, Safari, Edge */\n}\n\n.quick-action-btn {\n  pointer-events: all;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border: none;\n  border-radius: 20px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  min-width: 88px;\n  height: 76px;\n  flex-shrink: 0;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.quick-action-btn:hover {\n  transform: translateY(-4px) scale(1.02);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n  background: rgba(255, 255, 255, 1);\n}\n\n.quick-action-btn:active {\n  transform: translateY(-1px) scale(0.98);\n}\n\n.quick-action-btn > svg {\n  font-size: 22px;\n  color: #4a90e2;\n  margin-bottom: 2px;\n  transition: color 0.2s ease;\n}\n\n.quick-action-btn:hover > svg {\n  color: #007aff;\n}\n\n.quick-action-btn span {\n  font-size: 12px;\n  font-weight: 600;\n  color: #1d1d1f;\n  text-align: center;\n  line-height: 1.2;\n  white-space: nowrap;\n}\n\n\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes typing {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n\n/* 连接状态样式 */\n.connection-status {\n  padding: 8px 16px;\n  background: #f8f9fa;\n  border-bottom: 1px solid #e9ecef;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: #6c757d;\n}\n\n.connection-status.connecting {\n  background: #e3f2fd;\n  color: #1976d2;\n}\n\n.connection-status svg {\n  font-size: 16px;\n}\n\n/* 错误横幅样式 */\n.error-banner {\n  padding: 12px 16px;\n  background: #ffebee;\n  border-bottom: 1px solid #ffcdd2;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.error-banner:hover {\n  background: #ffcdd2;\n}\n\n.error-banner svg {\n  color: #d32f2f;\n  font-size: 16px;\n}\n\n.error-banner span {\n  flex: 1;\n  color: #d32f2f;\n  font-weight: 500;\n}\n\n.error-banner small {\n  color: #757575;\n  font-size: 12px;\n}\n\n@media (max-width: 430px) {\n  .chat-container {\n    padding: 16px;\n    padding-bottom: 160px;\n  }\n  \n  .message-content {\n    max-width: 85%;\n  }\n  \n  .quick-actions {\n    bottom: 80px; /* Adjust for smaller screens */\n    left: 12px;\n    max-width: calc(100% - 24px);\n    gap: 10px;\n  }\n  \n\n  \n  .quick-action-btn {\n    min-width: 80px;\n    height: 72px;\n    padding: 10px 12px;\n    border-radius: 16px;\n  }\n  \n  .quick-action-btn > svg {\n    font-size: 20px;\n  }\n  \n  .quick-action-btn span {\n    font-size: 11px;\n    font-weight: 500;\n  }\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAwB;;;EAOaA,KAAK,EAAC;;;EAY/CA,KAAK,EAAC;AAAgB;;;EAQAA,KAAK,EAAC;;;EACxBA,KAAK,EAAC;AAAQ;;EAclBA,KAAK,EAAC;AAAe;;;;;;;;;uBA1C5BC,mBAAA,CA2EM,OA3ENC,UA2EM,GA1EJC,YAAA,CAGEC,mBAAA;IAFCC,SAAS,EAAEC,KAAA,CAAAD,SAAS;IACpBE,cAAY,EAAEC,QAAA,CAAAC;gDAINH,KAAA,CAAAI,gBAAgB,qB,cAA3BT,mBAAA,CAGM,OAHNU,UAGM,GAFJR,YAAA,CAAyCS,4BAAA;IAAtBC,IAAI,EAAC,SAAS;IAACC,IAAI,EAAJ;MAClCC,mBAAA,CAAuC,cAAAC,gBAAA,CAA9BR,QAAA,CAAAS,oBAAoB,M,oCAIpBT,QAAA,CAAAU,SAAS,I,cAApBjB,mBAAA,CAIM;;IAJgBD,KAAK,EAAC,cAAc;IAAEmB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEb,QAAA,CAAAc,SAAA,IAAAd,QAAA,CAAAc,SAAA,IAAAD,IAAA,CAAS;MAC1DlB,YAAA,CAA+CS,4BAAA;IAA5BC,IAAI,EAAC;EAAoB,IAC5CE,mBAAA,CAA+B,cAAAC,gBAAA,CAAtBV,KAAA,CAAAiB,YAAY,O,0BACrBR,mBAAA,CAAmB,eAAZ,MAAI,O,oCAGbA,mBAAA,CAoBM,OApBNS,UAoBM,I,kBAnBJvB,mBAAA,CAIEwB,SAAA,QAAAC,WAAA,CAHkBpB,KAAA,CAAAqB,QAAQ,EAAnBC,OAAO;yBADhBC,YAAA,CAIEC,sBAAA;MAFCC,GAAG,EAAEH,OAAO,CAACI,EAAE;MACfJ,OAAO,EAAEA;;aAIDpB,QAAA,CAAAyB,YAAY,I,cAAvBhC,mBAAA,CAWM,OAXNiC,UAWM,GAVJnB,mBAAA,CAEM,OAFNoB,UAEM,GADJhC,YAAA,CAAkCS,4BAAA;IAAfC,IAAI,EAAC;EAAO,G,6BAEjCE,mBAAA,CAMM;IANDf,KAAK,EAAC;EAAiB,IAC1Be,mBAAA,CAIM;IAJDf,KAAK,EAAC;EAAkB,IAC3Be,mBAAA,CAAa,SACbA,mBAAA,CAAa,SACbA,mBAAA,CAAa,Q,+CAOrBA,mBAAA,CAUM,OAVNqB,UAUM,I,kBATJnC,mBAAA,CAQSwB,SAAA,QAAAC,WAAA,CAPUpB,KAAA,CAAA+B,YAAY,EAAtBC,MAAM;yBADfrC,mBAAA,CAQS;MANN8B,GAAG,EAAEO,MAAM,CAACN,EAAE;MACfhC,KAAK,EAAC,kBAAkB;MACvBmB,OAAK,EAAAoB,MAAA,IAAE/B,QAAA,CAAAgC,gBAAgB,CAACF,MAAM,CAACG,IAAI;QAEpCtC,YAAA,CAAyCS,4BAAA;MAArBC,IAAI,EAAEyB,MAAM,CAACzB;2BACjCE,mBAAA,CAA+B,cAAAC,gBAAA,CAAtBsB,MAAM,CAACI,KAAK,M;eAIzBvC,YAAA,CAAgFwC,uBAAA;IAAjEC,aAAW,EAAEpC,QAAA,CAAAqC,WAAW;IAAGC,kBAAgB,EAAEtC,QAAA,CAAAuC;wDAG5D5C,YAAA,CAKE6C,iCAAA;IAJCC,OAAO,EAAE3C,KAAA,CAAA4C,iBAAiB;IAC1B7C,SAAS,EAAEC,KAAA,CAAAD,SAAS;IACpB8C,OAAK,EAAE3C,QAAA,CAAA4C,kBAAkB;IACzBC,MAAI,EAAE7C,QAAA,CAAA8C;8DAITnD,YAAA,CAQEoD,iCAAA;IAPCC,IAAI,EAAElD,KAAA,CAAAmD,eAAe;IACrBC,IAAI,EAAEpD,KAAA,CAAAqD,eAAe;IACrBC,KAAK,EAAEtD,KAAA,CAAAuD,gBAAgB;IACvBjC,OAAO,EAAEtB,KAAA,CAAAwD,kBAAkB;IAC3BC,QAAQ,EAAEzD,KAAA,CAAA0D,mBAAmB;IAC7B,YAAU,EAAE1D,KAAA,CAAA2D,oBAAoB;IAChCd,OAAK,EAAE3C,QAAA,CAAA0D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}