{"ast":null,"code":"import { ref, onMounted, watch } from 'vue';\nimport aivoiceAPI from '@/api/aivoice.js';\nconst DEMO_VOICE_URL = 'https://vitebucket.oss-cn-hangzhou.aliyuncs.com/voice/685660fc1fc9dcbdaea1a51d/1750861142930_huangquan1.mp3';\nexport default {\n  __name: 'VoiceCloneModal',\n  props: {\n    hasCloned: {\n      type: Boolean,\n      default: false\n    },\n    userId: {\n      type: String,\n      default: ''\n    }\n  },\n  emits: ['close', 'clone-success'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n\n    /* global defineEmits, defineProps */\n    const emit = __emit;\n    const props = __props;\n\n    // ËØïÁî®Â£∞Èü≥ÁöÑURL\n    const file = ref(null);\n    const fileName = ref('');\n    const errorMsg = ref('');\n    const successMsg = ref('');\n    const showUpload = ref(false);\n    const loading = ref(false);\n    const cloned = ref(props.hasCloned);\n    watch(() => props.hasCloned, v => {\n      cloned.value = !!v;\n    });\n    function close() {\n      if (loading.value) return;\n      emit('close');\n    }\n    function onFileChange(e) {\n      const f = e.target.files[0];\n      if (!f) return;\n      if (!['audio/mp3', 'audio/wav', 'audio/mpeg', 'audio/x-wav'].includes(f.type)) {\n        errorMsg.value = '‰ªÖÊîØÊåÅmp3ÊàñwavÊ†ºÂºè';\n        file.value = null;\n        fileName.value = '';\n        return;\n      }\n      if (f.size > 15 * 1024 * 1024) {\n        errorMsg.value = 'Êñá‰ª∂‰∏çËÉΩË∂ÖËøá15MB';\n        file.value = null;\n        fileName.value = '';\n        return;\n      }\n      errorMsg.value = '';\n      file.value = f;\n      fileName.value = f.name;\n    }\n    function resolveUserId() {\n      if (props.userId) return props.userId;\n      try {\n        const user = JSON.parse(localStorage.getItem('user') || 'null');\n        return user?._id || user?.id || localStorage.getItem('userId') || '';\n      } catch (_) {\n        return localStorage.getItem('userId') || '';\n      }\n    }\n    onMounted(async () => {\n      const userId = resolveUserId();\n      if (!userId) return;\n      try {\n        const res = await aivoiceAPI.getBindStatus(userId);\n        // http ËøîÂõûÁöÑÂ∑≤ÊòØ data ÂØπË±°\n        const has = !!(res?.binded ?? res?.has_voice ?? res?.bound);\n        cloned.value = has;\n      } catch (e) {\n        // ÂøΩÁï•Áä∂ÊÄÅÊü•ËØ¢Â§±Ë¥•Ôºå‰øùÊåÅÈªòËÆ§\n      }\n    });\n    async function handleNext() {\n      // Â∑≤Â§çÂàª‰∏îÊú™ÁÇπ\"Êõ¥Êñ∞Â£∞Èü≥\"Êó∂ÔºåÁõ¥Êé•ËøõÂÖ•ÂêàÊàê\n      if (cloned.value && !showUpload.value) {\n        emit('clone-success');\n        return;\n      }\n      if (!file.value) {\n        errorMsg.value = 'ËØ∑ÂÖàÈÄâÊã©Èü≥È¢ëÊñá‰ª∂';\n        return;\n      }\n      const userId = resolveUserId();\n      if (!userId) {\n        errorMsg.value = 'Êú™ÁôªÂΩïÊàñÁº∫Â∞ëÁî®Êà∑Ê†áËØÜÔºåËØ∑ÂÖàÁôªÂΩï';\n        return;\n      }\n      loading.value = true;\n      successMsg.value = '';\n      errorMsg.value = '';\n      try {\n        // 1) ‰∏ä‰º†ËØ≠Èü≥ÔºàÂèØÈÄâ user_idÔºåÁî®‰∫éÂΩíÊ°£Ôºâ\n        const uploadRes = await aivoiceAPI.uploadVoice(file.value, userId);\n        const ossUrl = uploadRes.url;\n\n        // 2) Â§çÂàªÊàñÊõ¥Êñ∞ÔºàÂøÖÈúÄ user_id + oss_urlÔºâ\n        const enrollRes = await aivoiceAPI.enrollVoice(userId, ossUrl);\n        successMsg.value = enrollRes.action === 'update_voice' ? 'Èü≥Ëâ≤Â∑≤Êõ¥Êñ∞ÔºÅ' : 'Â§çÂàªÊàêÂäüÔºÅ';\n        cloned.value = true;\n        loading.value = false;\n        setTimeout(() => {\n          successMsg.value = '';\n          emit('clone-success');\n        }, 800);\n      } catch (err) {\n        loading.value = false;\n        errorMsg.value = err?.message || 'Â§ÑÁêÜÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï';\n      }\n    }\n\n    // ËØïÁî®Â£∞Èü≥ÂäüËÉΩ\n    async function tryDemoVoice() {\n      const userId = resolveUserId();\n      if (!userId) {\n        errorMsg.value = 'Êú™ÁôªÂΩïÊàñÁº∫Â∞ëÁî®Êà∑Ê†áËØÜÔºåËØ∑ÂÖàÁôªÂΩï';\n        return;\n      }\n      loading.value = true;\n      successMsg.value = '';\n      errorMsg.value = '';\n      try {\n        // Áõ¥Êé•‰ΩøÁî®Á§∫‰æãÂ£∞Èü≥URLËøõË°åÂ§çÂàª\n        await aivoiceAPI.enrollVoice(userId, DEMO_VOICE_URL);\n        successMsg.value = 'ËØïÁî®Â£∞Èü≥Â§çÂàªÊàêÂäüÔºÅ';\n        cloned.value = true;\n        loading.value = false;\n        setTimeout(() => {\n          successMsg.value = '';\n          emit('clone-success');\n        }, 800);\n      } catch (err) {\n        loading.value = false;\n        errorMsg.value = err?.message || 'ËØïÁî®Â£∞Èü≥Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï';\n      }\n    }\n    const __returned__ = {\n      emit,\n      props,\n      DEMO_VOICE_URL,\n      file,\n      fileName,\n      errorMsg,\n      successMsg,\n      showUpload,\n      loading,\n      cloned,\n      close,\n      onFileChange,\n      resolveUserId,\n      handleNext,\n      tryDemoVoice,\n      ref,\n      onMounted,\n      watch,\n      get aivoiceAPI() {\n        return aivoiceAPI;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","aivoiceAPI","DEMO_VOICE_URL","emit","__emit","props","__props","file","fileName","errorMsg","successMsg","showUpload","loading","cloned","hasCloned","v","value","close","onFileChange","e","f","target","files","includes","type","size","name","resolveUserId","userId","user","JSON","parse","localStorage","getItem","_id","id","_","res","getBindStatus","has","binded","has_voice","bound","handleNext","uploadRes","uploadVoice","ossUrl","url","enrollRes","enrollVoice","action","setTimeout","err","message","tryDemoVoice"],"sources":["/Users/bytedance/Desktop/backend(1) 3/timer/timer/src/components/aivoice/VoiceCloneModal.vue"],"sourcesContent":["<template>\n  <div class=\"modal-overlay voice-clone-modal-overlay\" @click.self=\"close\">\n    <div class=\"modal-container voice-clone-modal-content\" style=\"max-width: 400px;\">\n      <header class=\"modal-header\">\n        <h2 class=\"modal-title\">Â£∞Èü≥Â§çÂàª</h2>\n        <button class=\"icon-button\" @click=\"close\">‚úï</button>\n      </header>\n      <template v-if=\"!cloned\">\n        <main class=\"modal-body\">\n          <div class=\"upload-area\" @click=\"$refs.fileInput && $refs.fileInput.click()\">\n            <i class=\"fa-solid fa-cloud-arrow-up\" style=\"font-style: normal; color: #4F46E5;\">‚òÅ</i>\n            <p>ÊãñÊãΩÊàñÁÇπÂáª‰∏ä‰º†Èü≥È¢ë</p>\n            <span>ÊîØÊåÅ mp3/wav Ê†ºÂºèÔºåÂ§ßÂ∞è ‚â§ 15MB</span>\n            <input ref=\"fileInput\" type=\"file\" accept=\"audio/*\" @change=\"onFileChange\" style=\"display:none\" />\n          </div>\n          <div class=\"file-info\" v-if=\"fileName\">\n            <span>üìÑ {{ fileName }}</span>\n            <button class=\"icon-button\" @click=\"() => { file=null; fileName=''; }\">‚úï</button>\n          </div>\n          <div class=\"form-error\" v-if=\"errorMsg\">{{ errorMsg }}</div>\n        </main>\n        <footer class=\"modal-footer\">\n          <button class=\"btn btn-secondary\" @click=\"close\">ÂÖ≥Èó≠</button>\n          <button class=\"btn btn-primary\" :disabled=\"!file || loading\" @click=\"handleNext\">{{ loading ? 'ËØ∑Á≠âÂæÖ...' : '‰∏ã‰∏ÄÊ≠•' }}</button>\n        </footer>\n        \n        <!-- ËØïÁî®Â£∞Èü≥ÊåâÈíÆ -->\n        <button \n          v-if=\"!cloned\" \n          class=\"try-voice-btn\" \n          @click=\"tryDemoVoice\" \n          :disabled=\"loading\"\n          title=\"‰ΩøÁî®Á§∫‰æãÂ£∞Èü≥ËøõË°åÂ§çÂàª\"\n        >\n          üéµ ËØïÁî®Â£∞Èü≥\n        </button>\n      </template>\n      <template v-else>\n        <header class=\"modal-header\" style=\"border-top: 1px solid var(--color-border); border-bottom: none;\">\n          <h2 class=\"modal-title\">Â£∞Èü≥Â∑≤Â§çÂàª</h2>\n          <button class=\"btn-link\" @click=\"showUpload=!showUpload\">{{ showUpload ? 'ÂèñÊ∂àÊõ¥Êñ∞' : 'Êõ¥Êñ∞Â£∞Èü≥' }}</button>\n        </header>\n        <main class=\"modal-body\">\n          <div class=\"success-feedback\" v-if=\"!showUpload\">\n            <i class=\"fa-regular fa-circle-check\" style=\"font-style: normal; color: #10B981;\">‚úî</i>\n            <p>‰Ω†ÁöÑ‰∏ìÂ±ûÈü≥Ëâ≤Â∑≤Â∞±Áª™ÔºÅ</p>\n          </div>\n          <div v-show=\"showUpload\" style=\"margin-top: 16px;\">\n            <div class=\"upload-area\" @click=\"$refs.updateInput && $refs.updateInput.click()\">\n              <i class=\"fa-solid fa-cloud-arrow-up\" style=\"font-style: normal; color: #4F46E5;\">‚òÅ</i>\n              <p>‰∏ä‰º†Êñ∞ÁöÑÈü≥È¢ëÊñá‰ª∂</p>\n              <span>ÊîØÊåÅ mp3/wav Ê†ºÂºèÔºåÂ§ßÂ∞è ‚â§ 15MB</span>\n              <input ref=\"updateInput\" type=\"file\" accept=\"audio/*\" @change=\"onFileChange\" style=\"display:none\" />\n            </div>\n            <div class=\"file-info\" v-if=\"fileName\">\n              <span>üìÑ {{ fileName }}</span>\n              <button class=\"icon-button\" @click=\"() => { file=null; fileName=''; }\">‚úï</button>\n            </div>\n            <div class=\"form-error\" v-if=\"errorMsg\">{{ errorMsg }}</div>\n          </div>\n        </main>\n        <footer class=\"modal-footer\" id=\"cloned-footer\">\n          <template v-if=\"showUpload\">\n            <button class=\"btn btn-secondary\" @click=\"close\" :disabled=\"loading\">ÂÖ≥Èó≠</button>\n            <button class=\"btn btn-primary\" :disabled=\"!file || loading\" @click=\"handleNext\">{{ loading ? 'ËØ∑Á≠âÂæÖ...' : 'Êèê‰∫§Êõ¥Êñ∞' }}</button>\n          </template>\n          <template v-else>\n            <button class=\"btn btn-primary\" @click=\"handleNext\" :disabled=\"loading\">ËøõÂÖ•Â£∞Èü≥ÂêàÊàê</button>\n          </template>\n        </footer>\n      </template>\n\n      <div v-if=\"loading\" class=\"loading-overlay\">\n        <div class=\"spinner\"></div>\n        <p>ËØ∑Á≠âÂæÖÁâáÂàªÔºåÊ≠£Âú®Â§ÑÁêÜ...</p>\n      </div>\n\n      <p v-if=\"successMsg\" class=\"success-msg\">{{ successMsg }}</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* global defineEmits, defineProps */\nimport { ref, onMounted, watch } from 'vue';\nimport aivoiceAPI from '@/api/aivoice.js'\nconst emit = defineEmits(['close', 'clone-success']);\nconst props = defineProps({\n  hasCloned: { type: Boolean, default: false },\n  userId: { type: String, default: '' }\n});\n\n// ËØïÁî®Â£∞Èü≥ÁöÑURL\nconst DEMO_VOICE_URL = 'https://vitebucket.oss-cn-hangzhou.aliyuncs.com/voice/685660fc1fc9dcbdaea1a51d/1750861142930_huangquan1.mp3';\nconst file = ref(null);\nconst fileName = ref('');\nconst errorMsg = ref('');\nconst successMsg = ref('');\nconst showUpload = ref(false);\nconst loading = ref(false);\nconst cloned = ref(props.hasCloned);\n\nwatch(() => props.hasCloned, (v) => { cloned.value = !!v })\n\nfunction close() {\n  if (loading.value) return;\n  emit('close');\n}\nfunction onFileChange(e) {\n  const f = e.target.files[0];\n  if (!f) return;\n  if (!['audio/mp3', 'audio/wav', 'audio/mpeg', 'audio/x-wav'].includes(f.type)) {\n    errorMsg.value = '‰ªÖÊîØÊåÅmp3ÊàñwavÊ†ºÂºè';\n    file.value = null;\n    fileName.value = '';\n    return;\n  }\n  if (f.size > 15 * 1024 * 1024) {\n    errorMsg.value = 'Êñá‰ª∂‰∏çËÉΩË∂ÖËøá15MB';\n    file.value = null;\n    fileName.value = '';\n    return;\n  }\n  errorMsg.value = '';\n  file.value = f;\n  fileName.value = f.name;\n}\n\nfunction resolveUserId() {\n  if (props.userId) return props.userId\n  try {\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\n    return user?._id || user?.id || localStorage.getItem('userId') || ''\n  } catch (_) {\n    return localStorage.getItem('userId') || ''\n  }\n}\n\nonMounted(async () => {\n  const userId = resolveUserId()\n  if (!userId) return\n  try {\n    const res = await aivoiceAPI.getBindStatus(userId)\n    // http ËøîÂõûÁöÑÂ∑≤ÊòØ data ÂØπË±°\n    const has = !!(res?.binded ?? res?.has_voice ?? res?.bound)\n    cloned.value = has\n  } catch (e) {\n    // ÂøΩÁï•Áä∂ÊÄÅÊü•ËØ¢Â§±Ë¥•Ôºå‰øùÊåÅÈªòËÆ§\n  }\n})\n\nasync function handleNext() {\n  // Â∑≤Â§çÂàª‰∏îÊú™ÁÇπ\"Êõ¥Êñ∞Â£∞Èü≥\"Êó∂ÔºåÁõ¥Êé•ËøõÂÖ•ÂêàÊàê\n  if (cloned.value && !showUpload.value) {\n    emit('clone-success');\n    return;\n  }\n  if (!file.value) {\n    errorMsg.value = 'ËØ∑ÂÖàÈÄâÊã©Èü≥È¢ëÊñá‰ª∂';\n    return;\n  }\n\n  const userId = resolveUserId()\n  if (!userId) {\n    errorMsg.value = 'Êú™ÁôªÂΩïÊàñÁº∫Â∞ëÁî®Êà∑Ê†áËØÜÔºåËØ∑ÂÖàÁôªÂΩï';\n    return;\n  }\n\n  loading.value = true;\n  successMsg.value = '';\n  errorMsg.value = '';\n\n  try {\n    // 1) ‰∏ä‰º†ËØ≠Èü≥ÔºàÂèØÈÄâ user_idÔºåÁî®‰∫éÂΩíÊ°£Ôºâ\n    const uploadRes = await aivoiceAPI.uploadVoice(file.value, userId)\n    const ossUrl = uploadRes.url\n\n    // 2) Â§çÂàªÊàñÊõ¥Êñ∞ÔºàÂøÖÈúÄ user_id + oss_urlÔºâ\n    const enrollRes = await aivoiceAPI.enrollVoice(userId, ossUrl)\n\n    successMsg.value = enrollRes.action === 'update_voice' ? 'Èü≥Ëâ≤Â∑≤Êõ¥Êñ∞ÔºÅ' : 'Â§çÂàªÊàêÂäüÔºÅ'\n    cloned.value = true\n    loading.value = false;\n    setTimeout(() => {\n      successMsg.value = '';\n      emit('clone-success');\n    }, 800);\n  } catch (err) {\n    loading.value = false;\n    errorMsg.value = err?.message || 'Â§ÑÁêÜÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï';\n  }\n}\n\n// ËØïÁî®Â£∞Èü≥ÂäüËÉΩ\nasync function tryDemoVoice() {\n  const userId = resolveUserId()\n  if (!userId) {\n    errorMsg.value = 'Êú™ÁôªÂΩïÊàñÁº∫Â∞ëÁî®Êà∑Ê†áËØÜÔºåËØ∑ÂÖàÁôªÂΩï';\n    return;\n  }\n\n  loading.value = true;\n  successMsg.value = '';\n  errorMsg.value = '';\n\n  try {\n    // Áõ¥Êé•‰ΩøÁî®Á§∫‰æãÂ£∞Èü≥URLËøõË°åÂ§çÂàª\n    await aivoiceAPI.enrollVoice(userId, DEMO_VOICE_URL)\n    \n    successMsg.value = 'ËØïÁî®Â£∞Èü≥Â§çÂàªÊàêÂäüÔºÅ';\n    cloned.value = true;\n    loading.value = false;\n    \n    setTimeout(() => {\n      successMsg.value = '';\n      emit('clone-success');\n    }, 800);\n  } catch (err) {\n    loading.value = false;\n    errorMsg.value = err?.message || 'ËØïÁî®Â£∞Èü≥Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï';\n  }\n}\n</script>\n\n<style scoped>\n:root { --color-primary: #4F46E5; --color-bg: #F8F9FA; --color-surface: #FFFFFF; --color-text-primary: #111827; --color-text-secondary: #374151; --color-text-tertiary: #6B7280; --color-border: #E5E7EB; --radius-lg: 16px; --radius-md: 12px; --radius-full: 999px; }\n.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 2100; padding: 16px; }\n.modal-container { background: #ffffff; border-radius: 18px; box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); width: 100%; display: flex; flex-direction: column; position: relative; overflow: hidden; max-height: 90vh; }\n.modal-header { padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-border); }\n.modal-title { font-size: 20px; font-weight: 800; color: var(--color-text-primary); margin: 0; display: flex; align-items: center; gap: 8px; }\n.icon-button { background: #F3F4F6; border: none; font-size: 16px; color: #6b7280; cursor: pointer; padding: 8px; border-radius: 10px; width: 36px; height: 36px; display: inline-flex; align-items: center; justify-content: center; }\n.icon-button:hover { background-color: #E5E7EB; }\n.btn-link { background: none; border: none; color: #6C4FE5; font-weight: 700; cursor: pointer; }\n.modal-body { padding: 24px; overflow-y: auto; background: #ffffff; }\n.modal-footer { padding: 16px 24px; display: flex; justify-content: flex-end; gap: 12px; border-top: 1px solid var(--color-border); }\n\n/* ‰∏ä‰º†Âå∫Âüü */\n.upload-area { border: 2px dashed #D6DAE1; border-radius: 14px; padding: 32px; text-align: center; cursor: pointer; transition: border-color 0.2s; background: #fff; }\n.upload-area:hover { border-color: #BFC6D3; }\n.upload-area i { font-size: 32px; color: #6C4FE5; }\n.upload-area p { font-weight: 800; color: var(--color-text-primary); margin: 12px 0 4px 0; font-size: 18px; }\n.upload-area span { font-size: 13px; color: var(--color-text-tertiary); }\n.file-info { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #F5F7FB; border-radius: 12px; margin-top: 16px; }\n.file-info span { font-weight: 700; color: var(--color-text-secondary); }\n\n/* ÊàêÂäüÊèêÁ§∫ & ÈîôËØØÊèêÁ§∫ */\n.success-feedback { text-align: center; padding: 24px; }\n.success-feedback i { font-size: 42px; }\n.success-feedback p { font-size: 18px; font-weight: 800; margin-top: 16px; color: #374151; }\n.form-error { color: #EF4444; font-size: 13px; margin-top: 8px; }\n.success-msg { color: #22c55e; font-size: 16px; text-align: center; margin-top: 16px; font-weight: 700; }\n\n/* ÊåâÈíÆ */\n.btn { height: 44px; padding: 0 24px; border: none; border-radius: 12px; font-size: 16px; font-weight: 800; cursor: pointer; }\n.btn-primary { background: linear-gradient(90deg,#6C4FE5,#8A8FF8); color: #fff; box-shadow: 0 6px 18px rgba(108,79,229,0.28); }\n.btn-primary:disabled { background: #C7C9FF; color: #fff; cursor: not-allowed; box-shadow: none; }\n.btn-secondary { background: #E9EEF5; color: var(--color-text-primary); }\n.btn-secondary:hover { background: #E2E8F0; }\n\n/* ËØïÁî®Â£∞Èü≥ÊåâÈíÆ */\n.try-voice-btn {\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n  background: #4F46E5;\n  color: #fff;\n  padding: 10px 20px;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 800;\n  cursor: pointer;\n  border: none;\n  box-shadow: 0 6px 18px rgba(79, 70, 229, 0.28);\n  z-index: 10;\n}\n.try-voice-btn:hover {\n  background: #6C4FE5;\n}\n.try-voice-btn:disabled {\n  background: #C7C9FF;\n  color: #fff;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n/* Âä†ËΩΩÈÅÆÁΩ© */\n.loading-overlay { position: absolute; inset: 0; background: rgba(255,255,255,0.85); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }\n.spinner { width: 40px; height: 40px; border: 4px solid var(--color-border); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; }\n.loading-overlay p { margin-top: 16px; font-weight: 700; }\n@keyframes spin { to { transform: rotate(360deg); } }\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}