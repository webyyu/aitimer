{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-container\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"header-top\"\n};\nconst _hoisted_4 = {\n  class: \"task-name\"\n};\nconst _hoisted_5 = {\n  class: \"timer-container\"\n};\nconst _hoisted_6 = {\n  class: \"timer-controls\"\n};\nconst _hoisted_7 = {\n  class: \"session-info\"\n};\nconst _hoisted_8 = {\n  class: \"session-count\"\n};\nconst _hoisted_9 = {\n  class: \"session-message\"\n};\nconst _hoisted_10 = {\n  class: \"motivational-quote\"\n};\nconst _hoisted_11 = {\n  class: \"modal-body\"\n};\nconst _hoisted_12 = {\n  class: \"modal-time-info\"\n};\nconst _hoisted_13 = {\n  class: \"modal-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_TimerCircle = _resolveComponent(\"TimerCircle\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", {\n    class: \"back-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args)),\n    title: \"ËøîÂõû‰ªªÂä°ÂàóË°®\"\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"arrow-left\"\n  })]), _cache[8] || (_cache[8] = _createElementVNode(\"h1\", null, \"Áï™ËåÑÂ∑•‰ΩúÊ≥ï\", -1)), _cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"header-spacer\"\n  }, null, -1))]), _createElementVNode(\"div\", _hoisted_4, _toDisplayString($data.taskName), 1)]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_TimerCircle, {\n    \"time-left\": $data.timeLeft,\n    \"total-time\": $data.modes[$data.currentMode],\n    label: $data.modeLabels[$data.currentMode]\n  }, null, 8, [\"time-left\", \"total-time\", \"label\"]), _createElementVNode(\"div\", _hoisted_6, [!$data.isRunning ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"control-btn start-btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.startTimer && $options.startTimer(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"play\"\n  })])) : (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    class: \"control-btn pause-btn playing\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.pauseTimer && $options.pauseTimer(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"pause\"\n  })])), _createElementVNode(\"div\", {\n    class: \"control-btn stop-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.showStopModal && $options.showStopModal(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"stop\"\n  })])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, \"‰ªäÊó•Â∑≤ÂÆåÊàê: \" + _toDisplayString($data.completedPomodoros) + \"‰∏™Áï™ËåÑ\", 1), _createElementVNode(\"div\", _hoisted_9, _toDisplayString($data.sessionMessage), 1)])]), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($data.currentQuote), 1), $data.showModal ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"modal-overlay\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.hideStopModal && $options.hideStopModal(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"modal-content\",\n    onClick: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n    class: \"modal-header\"\n  }, [_createElementVNode(\"h3\", null, \"ÁªìÊùüÂΩìÂâçËÆ°Êó∂\")], -1)), _createElementVNode(\"div\", _hoisted_11, [_cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"ÊÇ®ÊÉ≥Ë¶ÅÂ¶Ç‰ΩïÂ§ÑÁêÜÂΩìÂâçÁöÑËÆ°Êó∂Ôºü\", -1)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"span\", null, \"Â∑≤Áî®Êó∂Èó¥: \" + _toDisplayString($options.formatTime($data.modes[$data.currentMode] - $data.timeLeft)), 1)])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    class: \"modal-btn abandon-btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.abandonTimer && $options.abandonTimer(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"times\"\n  }), _cache[11] || (_cache[11] = _createTextVNode(\" ÊîæÂºÉËÆ°Êó∂ \", -1))]), _createElementVNode(\"button\", {\n    class: \"modal-btn complete-btn\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.completeTimer && $options.completeTimer(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"check\"\n  }), _cache[12] || (_cache[12] = _createTextVNode(\" ÊèêÂâçÂÆåÊàê \", -1))])])])])) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","goBack","title","_createVNode","_component_font_awesome_icon","icon","_hoisted_4","_toDisplayString","$data","taskName","_hoisted_5","_component_TimerCircle","timeLeft","modes","currentMode","label","modeLabels","_hoisted_6","isRunning","startTimer","pauseTimer","showStopModal","_hoisted_7","_hoisted_8","completedPomodoros","_hoisted_9","sessionMessage","_hoisted_10","currentQuote","showModal","hideStopModal","_withModifiers","_hoisted_11","_hoisted_12","formatTime","_hoisted_13","abandonTimer","completeTimer"],"sources":["C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\timer\\src\\views\\Pomodoro.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- Header with Back Button -->\n      <div class=\"header\">\n        <div class=\"header-top\">\n          <div class=\"back-btn\" @click=\"goBack\" title=\"ËøîÂõû‰ªªÂä°ÂàóË°®\">\n            <font-awesome-icon icon=\"arrow-left\" />\n          </div>\n          <h1>Áï™ËåÑÂ∑•‰ΩúÊ≥ï</h1>\n          <div class=\"header-spacer\"></div>\n        </div>\n        <div class=\"task-name\">{{ taskName }}</div>\n      </div>\n\n    <!-- Timer Container -->\n    <div class=\"timer-container\">\n      <TimerCircle\n        :time-left=\"timeLeft\"\n        :total-time=\"modes[currentMode]\"\n        :label=\"modeLabels[currentMode]\"\n      />\n\n      <!-- Timer Controls -->\n      <div class=\"timer-controls\">\n        <div \n          v-if=\"!isRunning\" \n          class=\"control-btn start-btn\" \n          @click=\"startTimer\"\n        >\n          <font-awesome-icon icon=\"play\" />\n        </div>\n        <div \n          v-else \n          class=\"control-btn pause-btn playing\" \n          @click=\"pauseTimer\"\n        >\n          <font-awesome-icon icon=\"pause\" />\n        </div>\n        <div class=\"control-btn stop-btn\" @click=\"showStopModal\">\n          <font-awesome-icon icon=\"stop\" />\n        </div>\n      </div>\n\n      <!-- Session Info -->\n      <div class=\"session-info\">\n        <div class=\"session-count\">‰ªäÊó•Â∑≤ÂÆåÊàê: {{ completedPomodoros }}‰∏™Áï™ËåÑ</div>\n        <div class=\"session-message\">{{ sessionMessage }}</div>\n      </div>\n    </div>\n\n    <!-- Motivational Quote -->\n    <div class=\"motivational-quote\">\n      {{ currentQuote }}\n    </div>\n\n    <!-- Stop Modal -->\n    <div v-if=\"showModal\" class=\"modal-overlay\" @click=\"hideStopModal\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>ÁªìÊùüÂΩìÂâçËÆ°Êó∂</h3>\n        </div>\n        <div class=\"modal-body\">\n          <p>ÊÇ®ÊÉ≥Ë¶ÅÂ¶Ç‰ΩïÂ§ÑÁêÜÂΩìÂâçÁöÑËÆ°Êó∂Ôºü</p>\n          <div class=\"modal-time-info\">\n            <span>Â∑≤Áî®Êó∂Èó¥: {{ formatTime(modes[currentMode] - timeLeft) }}</span>\n          </div>\n        </div>\n        <div class=\"modal-actions\">\n          <button class=\"modal-btn abandon-btn\" @click=\"abandonTimer\">\n            <font-awesome-icon icon=\"times\" />\n            ÊîæÂºÉËÆ°Êó∂\n          </button>\n          <button class=\"modal-btn complete-btn\" @click=\"completeTimer\">\n            <font-awesome-icon icon=\"check\" />\n            ÊèêÂâçÂÆåÊàê\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TimerCircle from '../components/pomodoro/TimerCircle.vue'\nimport pomodoroApi from '../api/pomodoros.js'\nimport api from '@/api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'PomodoroTimer',\n  components: {\n    TimerCircle\n  },\n  data() {\n    return {\n      timer: null,\n      timeLeft: 25 * 60, // 25 minutes in seconds\n      isRunning: false,\n      currentMode: 'pomodoro',\n      completedPomodoros: 0,\n      taskName: 'Ëã±ËØ≠Êô®ËØªËÆ°Âàí',\n      sessionMessage: '‰∏ìÊ≥®Êó∂Èó¥Ôºå‰øùÊåÅÈ´òÊïàÔºÅ',\n      showModal: false,\n      sessionStartTime: null,\n      currentSessionId: null,\n      fromRoute: '/task', // ËÆ∞ÂΩïÊù•Ê∫êË∑ØÁî±\n      modes: {\n        pomodoro: 25 * 60,\n        shortBreak: 5 * 60,\n        longBreak: 15 * 60\n      },\n      modeLabels: {\n        pomodoro: '‰∏ìÊ≥®Êó∂Èó¥',\n        shortBreak: 'Áü≠‰ºëÊÅØ',\n        longBreak: 'Èïø‰ºëÊÅØ'\n      },\n      quotes: [\n        \"ÊàêÂäüÁöÑÁßòËØÄÂú®‰∫éÂùöÊåÅÁõÆÊ†áÁöÑÂøóÂêë‰∏çÊáà„ÄÇ\",\n        \"ÊØè‰∏Ä‰∏™Áï™ËåÑÊó∂Èó¥ÈÉΩÊòØÂêëÊ¢¶ÊÉ≥ËøàËøõÁöÑ‰∏ÄÊ≠•„ÄÇ\",\n        \"‰∏ìÊ≥®ÂΩì‰∏ãÔºåÊàêÂ∞±Êú™Êù•„ÄÇ\",\n        \"‰ªäÂ§©ÁöÑÂä™ÂäõÔºåÊòØÊòéÂ§©ÁöÑÂÆûÂäõ„ÄÇ\",\n        \"ÂùöÊåÅÂ∞±ÊòØËÉúÂà©Ôºå‰∏ìÊ≥®Â∞±ÊòØÂäõÈáè„ÄÇ\",\n        \"Â∞èÊ≠•Âø´Ë∑ëÔºåÊåÅÁª≠ËøõÊ≠•„ÄÇ\"\n      ],\n      currentQuote: ''\n    }\n  },\n  mounted() {\n    // Get task name from route query\n    const taskFromQuery = this.$route.query.task\n    if (taskFromQuery) {\n      this.taskName = typeof taskFromQuery === 'string' ? taskFromQuery : String(taskFromQuery)\n    }\n    \n    // ËÆ∞ÂΩïÊù•Ê∫êË∑ØÁî±ÔºàÈªòËÆ§ÂõûÂà∞‰ªªÂä°È°µÔºâ\n    this.fromRoute = (this.$route.query.from && typeof this.$route.query.from === 'string') ? this.$route.query.from : '/task'\n    \n    // Set initial quote\n    this.currentQuote = this.getRandomQuote()\n    \n    // Set initial time\n    this.timeLeft = this.modes[this.currentMode]\n    \n    // Âä†ËΩΩ‰ªäÊó•ÂÆåÊàêÁöÑÁï™ËåÑÈíüÊï∞Èáè\n    this.loadTodayPomodoros()\n  },\n  beforeUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer)\n    }\n  },\n  methods: {\n    startTimer() {\n      if (!this.isRunning) {\n        this.isRunning = true\n        this.sessionStartTime = new Date()\n        \n        this.timer = setInterval(() => {\n          this.timeLeft--\n          \n          if (this.timeLeft <= 0) {\n            this.onTimerComplete()\n          }\n        }, 1000)\n      }\n    },\n    pauseTimer() {\n      if (this.isRunning) {\n        clearInterval(this.timer)\n        this.isRunning = false\n      }\n    },\n    showStopModal() {\n      this.showModal = true\n    },\n    hideStopModal() {\n      this.showModal = false\n    },\n    async abandonTimer() {\n      // ËÆ∞ÂΩïÊîæÂºÉÁöÑÁï™ËåÑÈíü\n      await this.savePomodoroRecord(false)\n      // Êí≠ÊîæÊâπËØÑËØ≠Èü≥\n      playRandomVoice('criticize')\n      this.resetTimer()\n      this.hideStopModal()\n      this.goBack()\n    },\n    async completeTimer() {\n      // ËÆ∞ÂΩïÊèêÂâçÂÆåÊàêÁöÑÁï™ËåÑÈíü\n      await this.savePomodoroRecord(true)\n      // Êí≠ÊîæÈºìÂä±ËØ≠Èü≥\n      playRandomVoice('encourage')\n      // Ëã•Â∏¶ÊúâtaskIdÔºåÂõûÂÜô‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ\n      try {\n        const taskId = this.$route.query.taskId\n        if (taskId) {\n          console.log('üîÑ [Pomodoro] Êõ¥Êñ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ:', taskId)\n          const resp = await api.tasks.updateTask(taskId, { completed: true })\n          console.log('‚úÖ [Pomodoro] ‰ªªÂä°Áä∂ÊÄÅÊõ¥Êñ∞ÂìçÂ∫î:', resp)\n        } else {\n          console.warn('‚ö†Ô∏è [Pomodoro] Êú™Êèê‰æõtaskIdÔºåÊó†Ê≥ïÂõûÂÜô‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅ')\n        }\n      } catch (e) {\n        console.error('‚ùå [Pomodoro] Êõ¥Êñ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅÂ§±Ë¥•:', e)\n      }\n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++\n      }\n      this.resetTimer()\n      this.hideStopModal()\n      this.goBack()\n    },\n    resetTimer() {\n      clearInterval(this.timer)\n      this.isRunning = false\n      this.timeLeft = this.modes[this.currentMode]\n      this.sessionStartTime = null\n    },\n    setMode(mode) {\n      this.currentMode = mode\n      this.timeLeft = this.modes[mode]\n      this.resetTimer()\n    },\n    async onTimerComplete() {\n      clearInterval(this.timer)\n      this.isRunning = false\n      \n      // Play notification sound\n      this.playNotificationSound()\n      \n      // ‰øùÂ≠òÂÆåÊàêÁöÑÁï™ËåÑÈíüËÆ∞ÂΩï\n      await this.savePomodoroRecord(true)\n      // Êí≠ÊîæÈºìÂä±ËØ≠Èü≥\n      playRandomVoice('encourage')\n      \n      if (this.currentMode === 'pomodoro') {\n        this.completedPomodoros++\n        \n        // Auto switch to break mode\n        const nextMode = this.completedPomodoros % 4 === 0 ? 'longBreak' : 'shortBreak'\n        this.sessionMessage = nextMode === 'longBreak' ? 'ÈïøÊó∂Èó¥‰ºëÊÅØÔºåÂ•ΩÂ•ΩÊîæÊùæÔºÅ' : 'Áü≠ÊöÇ‰ºëÊÅØÔºåÂáÜÂ§á‰∏ã‰∏ÄËΩÆÔºÅ'\n        \n        setTimeout(() => {\n          this.setMode(nextMode)\n          // Auto start break timer\n          setTimeout(() => {\n            this.startTimer()\n          }, 1000)\n        }, 2000)\n      } else {\n        // Break finished, back to pomodoro\n        this.sessionMessage = 'ÁªßÁª≠Âä†Ê≤πÔºÅ‰øùÊåÅ‰∏ìÊ≥®'\n        setTimeout(() => {\n          this.setMode('pomodoro')\n          // Auto start pomodoro timer\n          setTimeout(() => {\n            this.startTimer()\n          }, 1000)\n        }, 2000)\n      }\n      \n      // Update motivational quote\n      this.currentQuote = this.getRandomQuote()\n    },\n    playNotificationSound() {\n      // Create a simple beep sound\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)()\n      const oscillator = audioContext.createOscillator()\n      const gainNode = audioContext.createGain()\n      \n      oscillator.connect(gainNode)\n      gainNode.connect(audioContext.destination)\n      \n      oscillator.frequency.value = 800\n      oscillator.type = 'sine'\n      \n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime)\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5)\n      \n      oscillator.start(audioContext.currentTime)\n      oscillator.stop(audioContext.currentTime + 0.5)\n    },\n    getRandomQuote() {\n      return this.quotes[Math.floor(Math.random() * this.quotes.length)]\n    },\n    goBack() {\n      const target = this.fromRoute || '/task'\n      this.$router.replace(target)\n    },\n    formatTime(seconds) {\n      const minutes = Math.floor(seconds / 60)\n      const secs = seconds % 60\n      return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\n    },\n    async savePomodoroRecord(completed) {\n      if (!this.sessionStartTime) return\n      \n      const endTime = new Date()\n      const actualDuration = Math.floor((endTime - this.sessionStartTime) / 1000)\n      const plannedDuration = this.modes[this.currentMode]\n      \n      // Á°ÆÂÆöÂÆåÊàêÁä∂ÊÄÅ\n      let completionStatus = 'normal'\n      if (!completed) {\n        completionStatus = 'abandoned'\n      } else if (actualDuration < plannedDuration) {\n        completionStatus = 'early'\n      }\n      \n      // ËÆ°ÁÆóÊú¨Âú∞Êó•Êúü‰∏éÊó∂Èó¥ÊÆµ\n      const y = endTime.getFullYear()\n      const m = String(endTime.getMonth() + 1).padStart(2, '0')\n      const d = String(endTime.getDate()).padStart(2, '0')\n      const localDate = `${y}-${m}-${d}`\n      const hour = endTime.getHours()\n      let timeBlockType = 'evening'\n      if (hour >= 7 && hour < 12) timeBlockType = 'morning'\n      else if (hour >= 12 && hour < 18) timeBlockType = 'afternoon'\n\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      const userId = user?._id || user?.id || null\n      if (!userId) {\n        console.warn('‚ö†Ô∏è [Pomodoro] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ')\n        this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n        return\n      }\n\n      const pomodoroData = {\n        taskName: this.taskName,\n        mode: this.currentMode,\n        startTime: this.sessionStartTime.toISOString(),\n        endTime: endTime.toISOString(),\n        duration: plannedDuration, // ËÆ°ÂàíÊåÅÁª≠Êó∂Èó¥\n        actualFocusTime: actualDuration, // ÂÆûÈôÖ‰∏ìÊ≥®Êó∂Èó¥\n        completed: completed,\n        completionStatus: completionStatus,\n        userId,\n        sourceRoute: this.fromRoute,\n        date: localDate,\n        timeBlockType,\n        taskId: this.$route.query.taskId || null\n      }\n      \n      try {\n        const response = await pomodoroApi.createPomodoro(pomodoroData)\n        console.log('Áï™ËåÑÈíüËÆ∞ÂΩï‰øùÂ≠òÊàêÂäü:', response.data)\n        \n        // ÊòæÁ§∫‰øùÂ≠òÊàêÂäüÁöÑÊèêÁ§∫\n        this.sessionMessage = completed ? \n          (completionStatus === 'early' ? 'ÊèêÂâçÂÆåÊàêÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ' : '‰ªªÂä°ÂÆåÊàêÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ') : \n          'Â∑≤ÊîæÂºÉÔºåËÆ∞ÂΩïÂ∑≤‰øùÂ≠òÔºÅ'\n      } catch (error) {\n        console.error('‰øùÂ≠òÁï™ËåÑÈíüËÆ∞ÂΩïÂ§±Ë¥•:', error)\n        this.sessionMessage = 'ËÆ∞ÂΩï‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•'\n      }\n    },\n    async loadTodayPomodoros() {\n      try {\n        const user = JSON.parse(localStorage.getItem('user') || 'null')\n        const userId = user?._id || user?.id || null\n        if (!userId) {\n          console.warn('‚ö†Ô∏è [Pomodoro] Êú™ÁôªÂΩïÔºåË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ')\n          this.$router.replace({ path: '/auth/login', query: { redirect: this.$route.fullPath } })\n          return\n        }\n\n        const today = new Date()\n        const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n        const endOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1)\n        const response = await pomodoroApi.getAllPomodoros({\n          userId,\n          startDate: startOfDay.toISOString(),\n          endDate: endOfDay.toISOString()\n        })\n        const list = response.data?.data || response.data || []\n        const todayPomodoros = list.filter(p => p.mode === 'pomodoro' && p.completed)\n        this.completedPomodoros = todayPomodoros.length\n      } catch (error) {\n        console.error('Âä†ËΩΩ‰ªäÊó•Áï™ËåÑÈíüËÆ∞ÂΩïÂ§±Ë¥•:', error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .app-container {\n  width: 100%;\n  height: 100vh;\n  /* ‰ΩøÁî®Êõ¥È´òÁ∫ßÁöÑÊ∏êÂèò‰∏éÁúüÂÆûËÉåÊôØÂõæËûçÂêà */\n  background: \n    linear-gradient(115deg, rgba(45, 104, 240, 0.92) 0%, rgba(128, 75, 216, 0.90) 50%, rgba(180, 70, 190, 0.88) 100%),\n    url('https://images.unsplash.com/photo-1517832606299-7ae9b720a186?auto=format&fit=crop&w=2100&q=80') center/cover no-repeat;\n  display: flex;\n  flex-direction: column;\n  color: white;\n  overflow: hidden;\n  position: relative;\n}\n\n.header {\n  padding: 20px 24px;\n  position: relative;\n  z-index: 10;\n}\n\n.header-top {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.back-btn {\n  width: 44px;\n  height: 44px;\n  border-radius: 22px;\n  background: rgba(255, 255, 255, 0.15);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-size: 18px;\n  color: white;\n}\n\n.back-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  transform: scale(1.05);\n}\n\n.back-btn:active {\n  transform: scale(0.95);\n}\n\n.header h1 {\n  font-size: 24px;\n  font-weight: 700;\n  margin: 0;\n  text-align: center;\n  flex: 1;\n}\n\n.header-spacer {\n  width: 44px;\n}\n\n.task-name {\n  font-size: 18px;\n  opacity: 0.9;\n  text-align: center;\n  font-weight: 500;\n}\n\n  .timer-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 24px;\n  position: relative;\n  z-index: 5;\n}\n\n.timer-controls {\n  display: flex;\n  gap: 32px;\n  margin-top: 50px;\n  align-items: center;\n}\n\n  .control-btn {\n  width: 70px;\n  height: 70px;\n  border-radius: 35px;\n  background: rgba(255, 255, 255, 0.18);\n  backdrop-filter: blur(20px);\n  border: 2px solid rgba(255, 255, 255, 0.30);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: 26px;\n  color: white;\n  box-shadow: 0 10px 34px rgba(0, 0, 0, 0.18);\n}\n\n.control-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n}\n\n.control-btn:active {\n  transform: translateY(0) scale(0.98);\n}\n\n  .start-btn {\n  background: rgba(76, 175, 80, 0.35);\n  border-color: rgba(76, 175, 80, 0.55);\n}\n\n.start-btn:hover {\n  background: rgba(76, 175, 80, 0.4);\n}\n\n  .pause-btn {\n  background: rgba(255, 193, 7, 0.35);\n  border-color: rgba(255, 193, 7, 0.55);\n}\n\n.pause-btn:hover {\n  background: rgba(255, 193, 7, 0.4);\n}\n\n  .stop-btn {\n  background: rgba(244, 67, 54, 0.35);\n  border-color: rgba(244, 67, 54, 0.55);\n}\n\n.stop-btn:hover {\n  background: rgba(244, 67, 54, 0.4);\n}\n\n.control-btn.playing {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);\n  }\n}\n\n.session-info {\n  margin-top: 30px;\n  text-align: center;\n  opacity: 0.9;\n}\n\n.session-count {\n  font-size: 18px;\n  margin-bottom: 8px;\n}\n\n.session-message {\n  font-size: 14px;\n  opacity: 0.7;\n}\n\n.motivational-quote {\n  position: absolute;\n  bottom: 120px;\n  left: 24px;\n  right: 24px;\n  text-align: center;\n  font-size: 16px;\n  opacity: 0.8;\n  font-style: italic;\n  padding: 0 20px;\n  z-index: 1;\n}\n\n/* Modal Styles */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.modal-content {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 24px;\n  padding: 32px;\n  max-width: 400px;\n  width: 100%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  animation: modalSlideIn 0.3s ease-out;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(30px) scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.modal-header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.modal-header h3 {\n  font-size: 22px;\n  font-weight: 700;\n  color: #2c3e50;\n  margin: 0;\n}\n\n.modal-body {\n  text-align: center;\n  margin-bottom: 32px;\n}\n\n.modal-body p {\n  font-size: 16px;\n  color: #5a6c7d;\n  margin: 0 0 16px 0;\n  line-height: 1.5;\n}\n\n.modal-time-info {\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 12px;\n  padding: 12px 16px;\n  font-size: 14px;\n  color: #667eea;\n  font-weight: 600;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 16px;\n  justify-content: center;\n}\n\n.modal-btn {\n  flex: 1;\n  padding: 14px 20px;\n  border: none;\n  border-radius: 16px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  min-height: 52px;\n}\n\n.abandon-btn {\n  background: rgba(244, 67, 54, 0.1);\n  color: #f44336;\n  border: 2px solid rgba(244, 67, 54, 0.2);\n}\n\n.abandon-btn:hover {\n  background: rgba(244, 67, 54, 0.15);\n  transform: translateY(-1px);\n}\n\n.complete-btn {\n  background: rgba(76, 175, 80, 0.1);\n  color: #4caf50;\n  border: 2px solid rgba(76, 175, 80, 0.2);\n}\n\n.complete-btn:hover {\n  background: rgba(76, 175, 80, 0.15);\n  transform: translateY(-1px);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 16px 20px;\n  }\n  \n  .back-btn {\n    width: 40px;\n    height: 40px;\n    font-size: 16px;\n  }\n  \n  .header h1 {\n    font-size: 20px;\n  }\n  \n  .header-spacer {\n    width: 40px;\n  }\n  \n  .task-name {\n    font-size: 16px;\n  }\n  \n  .timer-container {\n    padding: 20px 20px;\n  }\n  \n  .timer-controls {\n    gap: 24px;\n    margin-top: 40px;\n  }\n  \n  .control-btn {\n    width: 60px;\n    height: 60px;\n    font-size: 22px;\n  }\n  \n  .session-info {\n    margin-top: 20px;\n  }\n  \n  .session-count {\n    font-size: 16px;\n  }\n  \n  .session-message {\n    font-size: 13px;\n  }\n  \n  .motivational-quote {\n    bottom: 100px;\n    font-size: 14px;\n    padding: 0 16px;\n  }\n  \n  .modal-content {\n    padding: 24px;\n    margin: 16px;\n  }\n  \n  .modal-header h3 {\n    font-size: 20px;\n  }\n  \n  .modal-body p {\n    font-size: 15px;\n  }\n  \n  .modal-actions {\n    flex-direction: column;\n    gap: 12px;\n  }\n  \n  .modal-btn {\n    min-height: 48px;\n    font-size: 15px;\n  }\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAEjBA,KAAK,EAAC;AAAQ;;EACZA,KAAK,EAAC;AAAY;;EAOlBA,KAAK,EAAC;AAAW;;EAIrBA,KAAK,EAAC;AAAiB;;EAQrBA,KAAK,EAAC;AAAgB;;EAqBtBA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAe;;EACrBA,KAAK,EAAC;AAAiB;;EAK3BA,KAAK,EAAC;AAAoB;;EAUtBA,KAAK,EAAC;AAAY;;EAEhBA,KAAK,EAAC;AAAiB;;EAIzBA,KAAK,EAAC;AAAe;;;;uBAlEhCC,mBAAA,CA8EM,OA9ENC,UA8EM,GA5EFC,mBAAA,CASM,OATNC,UASM,GARJD,mBAAA,CAMM,OANNE,UAMM,GALJF,mBAAA,CAEM;IAFDH,KAAK,EAAC,UAAU;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;IAAEG,KAAK,EAAC;MAC1CC,YAAA,CAAuCC,4BAAA;IAApBC,IAAI,EAAC;EAAY,G,6BAEtCX,mBAAA,CAAc,YAAV,OAAK,Q,0BACTA,mBAAA,CAAiC;IAA5BH,KAAK,EAAC;EAAe,c,GAE5BG,mBAAA,CAA2C,OAA3CY,UAA2C,EAAAC,gBAAA,CAAjBC,KAAA,CAAAC,QAAQ,M,GAItCf,mBAAA,CAiCM,OAjCNgB,UAiCM,GAhCJP,YAAA,CAIEQ,sBAAA;IAHC,WAAS,EAAEH,KAAA,CAAAI,QAAQ;IACnB,YAAU,EAAEJ,KAAA,CAAAK,KAAK,CAACL,KAAA,CAAAM,WAAW;IAC7BC,KAAK,EAAEP,KAAA,CAAAQ,UAAU,CAACR,KAAA,CAAAM,WAAW;qDAIhCpB,mBAAA,CAkBM,OAlBNuB,UAkBM,G,CAhBKT,KAAA,CAAAU,SAAS,I,cADlB1B,mBAAA,CAMM;;IAJJD,KAAK,EAAC,uBAAuB;IAC5BM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAmB,UAAA,IAAAnB,QAAA,CAAAmB,UAAA,IAAApB,IAAA,CAAU;MAElBI,YAAA,CAAiCC,4BAAA;IAAdC,IAAI,EAAC;EAAM,G,oBAEhCb,mBAAA,CAMM;;IAJJD,KAAK,EAAC,+BAA+B;IACpCM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAoB,UAAA,IAAApB,QAAA,CAAAoB,UAAA,IAAArB,IAAA,CAAU;MAElBI,YAAA,CAAkCC,4BAAA;IAAfC,IAAI,EAAC;EAAO,G,IAEjCX,mBAAA,CAEM;IAFDH,KAAK,EAAC,sBAAsB;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAqB,aAAA,IAAArB,QAAA,CAAAqB,aAAA,IAAAtB,IAAA,CAAa;MACrDI,YAAA,CAAiCC,4BAAA;IAAdC,IAAI,EAAC;EAAM,G,KAKlCX,mBAAA,CAGM,OAHN4B,UAGM,GAFJ5B,mBAAA,CAAmE,OAAnE6B,UAAmE,EAAxC,SAAO,GAAAhB,gBAAA,CAAGC,KAAA,CAAAgB,kBAAkB,IAAG,KAAG,MAC7D9B,mBAAA,CAAuD,OAAvD+B,UAAuD,EAAAlB,gBAAA,CAAvBC,KAAA,CAAAkB,cAAc,M,KAKlDhC,mBAAA,CAEM,OAFNiC,WAEM,EAAApB,gBAAA,CADDC,KAAA,CAAAoB,YAAY,OAINpB,KAAA,CAAAqB,SAAS,I,cAApBrC,mBAAA,CAsBM;;IAtBgBD,KAAK,EAAC,eAAe;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAA8B,aAAA,IAAA9B,QAAA,CAAA8B,aAAA,IAAA/B,IAAA,CAAa;MAC/DL,mBAAA,CAoBM;IApBDH,KAAK,EAAC,eAAe;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAiC,cAAA,CAAN,QAAW;kCACpCrC,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAc,IACvBG,mBAAA,CAAe,YAAX,QAAM,E,QAEZA,mBAAA,CAKM,OALNsC,WAKM,G,4BAJJtC,mBAAA,CAAoB,WAAjB,eAAa,QAChBA,mBAAA,CAEM,OAFNuC,WAEM,GADJvC,mBAAA,CAAkE,cAA5D,QAAM,GAAAa,gBAAA,CAAGP,QAAA,CAAAkC,UAAU,CAAC1B,KAAA,CAAAK,KAAK,CAACL,KAAA,CAAAM,WAAW,IAAIN,KAAA,CAAAI,QAAQ,O,KAG3DlB,mBAAA,CASM,OATNyC,WASM,GARJzC,mBAAA,CAGS;IAHDH,KAAK,EAAC,uBAAuB;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAoC,YAAA,IAAApC,QAAA,CAAAoC,YAAA,IAAArC,IAAA,CAAY;MACxDI,YAAA,CAAkCC,4BAAA;IAAfC,IAAI,EAAC;EAAO,I,6CAAG,QAEpC,O,GACAX,mBAAA,CAGS;IAHDH,KAAK,EAAC,wBAAwB;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAqC,aAAA,IAAArC,QAAA,CAAAqC,aAAA,IAAAtC,IAAA,CAAa;MAC1DI,YAAA,CAAkCC,4BAAA;IAAfC,IAAI,EAAC;EAAO,I,6CAAG,QAEpC,O","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}