{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport TabBar from '../components/common/TabBar.vue';\nimport api from '../api';\nexport default {\n  name: 'StatisticsView',\n  components: {\n    TabBar\n  },\n  data() {\n    const now = new Date();\n    return {\n      dayCursor: new Date(now.getFullYear(), now.getMonth(), now.getDate()),\n      monthCursor: new Date(now.getFullYear(), now.getMonth(), 1),\n      activeRange: 'day',\n      hourlyBars: Array.from({\n        length: 24\n      }, () => 0),\n      lineData: [],\n      chartW: 320,\n      chartH: 140,\n      // 概览与当日\n      totalTimes: 0,\n      totalMinutes: 0,\n      avgDailyMinutes: 0,\n      todayTimes: 0,\n      todayMinutes: 0\n    };\n  },\n  computed: {\n    formattedDate() {\n      const y = this.dayCursor.getFullYear();\n      const m = String(this.dayCursor.getMonth() + 1).padStart(2, '0');\n      const d = String(this.dayCursor.getDate()).padStart(2, '0');\n      return `${y}-${m}-${d}`;\n    },\n    formattedMonth() {\n      const y = this.monthCursor.getFullYear();\n      const m = String(this.monthCursor.getMonth() + 1).padStart(2, '0');\n      return `${y}年${m}月`;\n    },\n    polyPoints() {\n      const n = this.lineData.length;\n      const stepX = this.chartW / (n - 1 || 1);\n      const maxY = Math.max(...this.lineData, 10);\n      return this.lineData.map((v, i) => {\n        const x = i * stepX;\n        const y = this.chartH - v / maxY * (this.chartH - 4) - 2;\n        return `${x},${y}`;\n      }).join(' ');\n    },\n    areaPath() {\n      const n = this.lineData.length;\n      if (n === 0) return '';\n      const points = this.polyPoints.split(' ');\n      const first = points[0];\n      const last = points[points.length - 1];\n      return `M ${first} L ${points.join(' ')} L ${last.split(',')[0]},${this.chartH} L ${first.split(',')[0]},${this.chartH} Z`;\n    }\n  },\n  created() {\n    this.loadAll();\n  },\n  methods: {\n    shiftDay(delta) {\n      const d = new Date(this.dayCursor);\n      d.setDate(d.getDate() + delta);\n      this.dayCursor = d;\n      this.loadToday();\n    },\n    shiftMonth(delta) {\n      const d = new Date(this.monthCursor);\n      d.setMonth(d.getMonth() + delta);\n      this.monthCursor = d;\n      this.loadMonth();\n    },\n    async loadAll() {\n      await Promise.all([this.loadOverview(), this.loadToday(), this.loadMonth()]);\n    },\n    // helpers\n    toISOStart(date) {\n      const d = new Date(date);\n      d.setHours(0, 0, 0, 0);\n      return d.toISOString();\n    },\n    toISOEnd(date) {\n      const d = new Date(date);\n      d.setHours(0, 0, 0, 0);\n      d.setDate(d.getDate() + 1);\n      return d.toISOString();\n    },\n    minutesFromSeconds(s) {\n      const secs = Number(s || 0);\n      return Math.round(secs / 60);\n    },\n    // 概览\n    async loadOverview() {\n      try {\n        const res = await api.pomodoros.getPomodoroStats({});\n        const data = res?.data || res?.data?.data || res || {};\n        const totalSeconds = Number(data.totalFocusSeconds ?? data.totalSeconds ?? data.totalFocusTime ?? 0);\n        const totalTimes = Number(data.totalSessions ?? data.total ?? data.count ?? 0);\n        // 估算日均：如果后端提供则用之，否则按近30天或活跃天数估算\n        const avgDailySeconds = Number(data.avgDailyFocusSeconds ?? data.avgDailySeconds ?? 0);\n        let avgDaily = this.minutesFromSeconds(avgDailySeconds);\n        if (!avgDaily) {\n          // 回退：按最近30天估算\n          avgDaily = Math.round(this.minutesFromSeconds(totalSeconds) / 30);\n        }\n        this.totalTimes = totalTimes;\n        this.totalMinutes = this.minutesFromSeconds(totalSeconds);\n        this.avgDailyMinutes = avgDaily;\n      } catch (_) {\n        // 静默失败\n      }\n    },\n    // 当日\n    async loadToday() {\n      try {\n        const start = this.toISOStart(this.dayCursor);\n        const end = this.toISOEnd(this.dayCursor);\n        const res = await api.pomodoros.getAllPomodoros({\n          startDate: start,\n          endDate: end\n        });\n        const list = res?.data || res?.data?.data || res || [];\n        const totalSeconds = list.reduce((sum, r) => {\n          const s = Number(r?.actualFocusTime ?? r?.duration ?? 0);\n          return sum + (isFinite(s) ? s : 0);\n        }, 0);\n        this.todayTimes = list.length;\n        this.todayMinutes = this.minutesFromSeconds(totalSeconds);\n      } catch (_) {\n        this.todayTimes = 0;\n        this.todayMinutes = 0;\n      }\n    },\n    // 月度：生成 24 小时分布 + 每日曲线\n    async loadMonth() {\n      try {\n        const startOfMonth = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth(), 1);\n        const startISO = startOfMonth.toISOString();\n        const endISO = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth() + 1, 1).toISOString();\n        const res = await api.pomodoros.getAllPomodoros({\n          startDate: startISO,\n          endDate: endISO\n        });\n        const records = res?.data || res?.data?.data || res || [];\n        // 小时分布\n        const hours = Array.from({\n          length: 24\n        }, () => 0);\n        // 每日统计\n        const daysInMonth = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth() + 1, 0).getDate();\n        const dayTotals = Array.from({\n          length: daysInMonth\n        }, () => 0);\n        records.forEach(r => {\n          const created = new Date(r?.createdAt || r?.startTime || Date.now());\n          const h = created.getHours();\n          const d = created.getDate();\n          const sec = Number(r?.actualFocusTime ?? r?.duration ?? 0);\n          const mins = Math.max(0, Math.round(sec / 60));\n          if (isFinite(h)) hours[h] += mins;\n          if (isFinite(d)) dayTotals[d - 1] += mins;\n        });\n        // 归一化到 0-10 分钟刻度用于占位图高度\n        const maxHour = Math.max(...hours, 10);\n        this.hourlyBars = hours.map(m => maxHour ? Math.min(10, m / maxHour * 10) : 0);\n        this.lineData = dayTotals;\n      } catch (_) {\n        this.hourlyBars = Array.from({\n          length: 24\n        }, () => 0);\n        this.lineData = [];\n      }\n    }\n  }\n};","map":{"version":3,"names":["TabBar","api","name","components","data","now","Date","dayCursor","getFullYear","getMonth","getDate","monthCursor","activeRange","hourlyBars","Array","from","length","lineData","chartW","chartH","totalTimes","totalMinutes","avgDailyMinutes","todayTimes","todayMinutes","computed","formattedDate","y","m","String","padStart","d","formattedMonth","polyPoints","n","stepX","maxY","Math","max","map","v","i","x","join","areaPath","points","split","first","last","created","loadAll","methods","shiftDay","delta","setDate","loadToday","shiftMonth","setMonth","loadMonth","Promise","all","loadOverview","toISOStart","date","setHours","toISOString","toISOEnd","minutesFromSeconds","s","secs","Number","round","res","pomodoros","getPomodoroStats","totalSeconds","totalFocusSeconds","totalFocusTime","totalSessions","total","count","avgDailySeconds","avgDailyFocusSeconds","avgDaily","_","start","end","getAllPomodoros","startDate","endDate","list","reduce","sum","r","actualFocusTime","duration","isFinite","startOfMonth","startISO","endISO","records","hours","daysInMonth","dayTotals","forEach","createdAt","startTime","h","getHours","sec","mins","maxHour","min"],"sources":["/Users/bytedance/Desktop/backend(1) 3/timer/timer/src/views/Stats.vue"],"sourcesContent":["<template>\n  <div class=\"stats-page\">\n    <div class=\"content-scroll\">\n      <!-- 累计专注 -->\n      <section class=\"card overview\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon :icon=\"['far','calendar']\" /></span>\n            <span>累计专注</span>\n          </div>\n          <button class=\"icon-btn\" aria-label=\"share\"><font-awesome-icon icon=\"share-nodes\" /></button>\n        </div>\n        <div class=\"metrics three\">\n          <div class=\"metric\">\n            <div class=\"metric-label\">次数</div>\n            <div class=\"metric-value\"><span class=\"num\">{{ totalTimes }}</span></div>\n          </div>\n          <div class=\"metric\">\n            <div class=\"metric-label\">时长</div>\n            <div class=\"metric-value\"><span class=\"num\">{{ totalMinutes }}</span><span class=\"unit\">分钟</span></div>\n          </div>\n          <div class=\"metric\">\n            <div class=\"metric-label\">日均时长</div>\n            <div class=\"metric-value\"><span class=\"num\">{{ avgDailyMinutes }}</span><span class=\"unit\">分钟</span></div>\n          </div>\n        </div>\n      </section>\n\n      <!-- 当日专注 -->\n      <section class=\"card today\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon :icon=\"['far','calendar-days']\" /></span>\n            <span>当日专注</span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftDay(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedDate }}</span>\n            <button class=\"icon-btn\" @click=\"shiftDay(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n        </div>\n        <div class=\"metrics two\">\n          <div class=\"metric\">\n            <div class=\"metric-label\">次数</div>\n            <div class=\"metric-value\"><span class=\"num\">{{ todayTimes }}</span></div>\n          </div>\n          <div class=\"metric\">\n            <div class=\"metric-label\">时长</div>\n            <div class=\"metric-value\"><span class=\"num\">{{ todayMinutes }}</span><span class=\"unit\">分钟</span></div>\n          </div>\n        </div>\n      </section>\n\n      <!-- 专注时长分布（切换） -->\n      <section class=\"card dist\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon icon=\"chart-column\" /></span>\n            <span>专注时长分布</span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftDay(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedDate }}</span>\n            <button class=\"icon-btn\" @click=\"shiftDay(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n          <button class=\"icon-btn\" aria-label=\"share\"><font-awesome-icon icon=\"share-nodes\" /></button>\n        </div>\n        <div class=\"tabs\">\n          <button :class=\"['tab', activeRange==='day'?'active':'']\" @click=\"activeRange='day'\">日</button>\n          <button :class=\"['tab', activeRange==='week'?'active':'']\" @click=\"activeRange='week'\">周</button>\n          <button :class=\"['tab', activeRange==='month'?'active':'']\" @click=\"activeRange='month'\">月</button>\n          <button :class=\"['tab', activeRange==='custom'?'active':'']\" @click=\"activeRange='custom'\">自定义</button>\n        </div>\n        <div class=\"empty\">\n          <div class=\"empty-face\">☺</div>\n          <div class=\"empty-title\">暂无专注数据</div>\n          <div class=\"empty-sub\">点击待办上的“开始”按钮来专注计时吧</div>\n          <button class=\"primary-btn\">查看专注记录</button>\n        </div>\n      </section>\n\n      <!-- 本月专注时段分布（柱状占位） -->\n      <section class=\"card bars\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon icon=\"chart-simple\" /></span>\n            <span>本月专注时段分布</span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftMonth(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedMonth }}</span>\n            <button class=\"icon-btn\" @click=\"shiftMonth(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n        </div>\n        <div class=\"bar-chart\">\n          <div class=\"y-scale\">10分钟</div>\n          <div class=\"bars-wrap\">\n            <div\n              v-for=\"(h, i) in hourlyBars\"\n              :key=\"i\"\n              class=\"bar\"\n              :style=\"{ height: Math.round(h*8) + 'px' }\"\n            ></div>\n          </div>\n          <div class=\"x-labels\">\n            <span v-for=\"h in 12\" :key=\"h\">{{ (h-1)*2 }}点</span>\n          </div>\n        </div>\n      </section>\n\n      <!-- 月度专注统计（折线占位） -->\n      <section class=\"card line\">\n        <div class=\"card-header\">\n          <div class=\"card-title\">\n            <span class=\"icon-box\"><font-awesome-icon :icon=\"['far','calendar']\" /></span>\n            <span>月度专注统计</span>\n          </div>\n          <div class=\"nav-date\">\n            <button class=\"icon-btn\" @click=\"shiftMonth(-1)\" aria-label=\"prev\"><font-awesome-icon icon=\"chevron-left\" /></button>\n            <span class=\"date-text\">{{ formattedMonth }}</span>\n            <button class=\"icon-btn\" @click=\"shiftMonth(1)\" aria-label=\"next\"><font-awesome-icon icon=\"chevron-right\" /></button>\n          </div>\n          <button class=\"icon-btn\" aria-label=\"share\"><font-awesome-icon icon=\"share-nodes\" /></button>\n        </div>\n        <div class=\"line-chart\">\n          <svg :viewBox=\"'0 0 '+chartW+' '+chartH\" preserveAspectRatio=\"none\">\n            <defs>\n              <linearGradient id=\"area\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"0%\" stop-color=\"#4c8dff\" stop-opacity=\"0.35\"/>\n                <stop offset=\"100%\" stop-color=\"#4c8dff\" stop-opacity=\"0\"/>\n              </linearGradient>\n            </defs>\n            <path :d=\"areaPath\" fill=\"url(#area)\" />\n            <polyline :points=\"polyPoints\" fill=\"none\" stroke=\"#4c8dff\" stroke-width=\"2\"/>\n          </svg>\n          <div class=\"y-scale\">10分钟</div>\n        </div>\n      </section>\n    </div>\n\n    <TabBar />\n  </div>\n</template>\n\n<script>\nimport TabBar from '../components/common/TabBar.vue'\nimport api from '../api'\n\nexport default {\n  name: 'StatisticsView',\n  components: { TabBar },\n  data() {\n    const now = new Date()\n    return {\n      dayCursor: new Date(now.getFullYear(), now.getMonth(), now.getDate()),\n      monthCursor: new Date(now.getFullYear(), now.getMonth(), 1),\n      activeRange: 'day',\n      hourlyBars: Array.from({length:24},()=>0),\n      lineData: [],\n      chartW: 320,\n      chartH: 140,\n      // 概览与当日\n      totalTimes: 0,\n      totalMinutes: 0,\n      avgDailyMinutes: 0,\n      todayTimes: 0,\n      todayMinutes: 0\n    }\n  },\n  computed: {\n    formattedDate() {\n      const y = this.dayCursor.getFullYear()\n      const m = String(this.dayCursor.getMonth() + 1).padStart(2, '0')\n      const d = String(this.dayCursor.getDate()).padStart(2, '0')\n      return `${y}-${m}-${d}`\n    },\n    formattedMonth() {\n      const y = this.monthCursor.getFullYear()\n      const m = String(this.monthCursor.getMonth() + 1).padStart(2, '0')\n      return `${y}年${m}月`\n    },\n    polyPoints() {\n      const n = this.lineData.length\n      const stepX = this.chartW / (n - 1 || 1)\n      const maxY = Math.max(...this.lineData, 10)\n      return this.lineData\n        .map((v, i) => {\n          const x = i * stepX\n          const y = this.chartH - (v / maxY) * (this.chartH - 4) - 2\n          return `${x},${y}`\n        })\n        .join(' ')\n    },\n    areaPath() {\n      const n = this.lineData.length\n      if (n === 0) return ''\n      const points = this.polyPoints.split(' ')\n      const first = points[0]\n      const last = points[points.length - 1]\n      return `M ${first} L ${points.join(' ')} L ${last.split(',')[0]},${this.chartH} L ${first.split(',')[0]},${this.chartH} Z`\n    }\n  },\n  created() {\n    this.loadAll()\n  },\n  methods: {\n    shiftDay(delta) {\n      const d = new Date(this.dayCursor)\n      d.setDate(d.getDate() + delta)\n      this.dayCursor = d\n      this.loadToday()\n    },\n    shiftMonth(delta) {\n      const d = new Date(this.monthCursor)\n      d.setMonth(d.getMonth() + delta)\n      this.monthCursor = d\n      this.loadMonth()\n    },\n    async loadAll() {\n      await Promise.all([this.loadOverview(), this.loadToday(), this.loadMonth()])\n    },\n    // helpers\n    toISOStart(date) {\n      const d = new Date(date)\n      d.setHours(0,0,0,0)\n      return d.toISOString()\n    },\n    toISOEnd(date) {\n      const d = new Date(date)\n      d.setHours(0,0,0,0)\n      d.setDate(d.getDate() + 1)\n      return d.toISOString()\n    },\n    minutesFromSeconds(s) {\n      const secs = Number(s || 0)\n      return Math.round(secs / 60)\n    },\n    // 概览\n    async loadOverview() {\n      try {\n        const res = await api.pomodoros.getPomodoroStats({})\n        const data = res?.data || res?.data?.data || res || {}\n        const totalSeconds = Number(\n          data.totalFocusSeconds ?? data.totalSeconds ?? data.totalFocusTime ?? 0\n        )\n        const totalTimes = Number(\n          data.totalSessions ?? data.total ?? data.count ?? 0\n        )\n        // 估算日均：如果后端提供则用之，否则按近30天或活跃天数估算\n        const avgDailySeconds = Number(\n          data.avgDailyFocusSeconds ?? data.avgDailySeconds ?? 0\n        )\n        let avgDaily = this.minutesFromSeconds(avgDailySeconds)\n        if (!avgDaily) {\n          // 回退：按最近30天估算\n          avgDaily = Math.round(this.minutesFromSeconds(totalSeconds) / 30)\n        }\n        this.totalTimes = totalTimes\n        this.totalMinutes = this.minutesFromSeconds(totalSeconds)\n        this.avgDailyMinutes = avgDaily\n      } catch (_) {\n        // 静默失败\n      }\n    },\n    // 当日\n    async loadToday() {\n      try {\n        const start = this.toISOStart(this.dayCursor)\n        const end = this.toISOEnd(this.dayCursor)\n        const res = await api.pomodoros.getAllPomodoros({ startDate: start, endDate: end })\n        const list = res?.data || res?.data?.data || res || []\n        const totalSeconds = list.reduce((sum, r) => {\n          const s = Number(r?.actualFocusTime ?? r?.duration ?? 0)\n          return sum + (isFinite(s) ? s : 0)\n        }, 0)\n        this.todayTimes = list.length\n        this.todayMinutes = this.minutesFromSeconds(totalSeconds)\n      } catch (_) {\n        this.todayTimes = 0\n        this.todayMinutes = 0\n      }\n    },\n    // 月度：生成 24 小时分布 + 每日曲线\n    async loadMonth() {\n      try {\n        const startOfMonth = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth(), 1)\n        const startISO = startOfMonth.toISOString()\n        const endISO = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth() + 1, 1).toISOString()\n        const res = await api.pomodoros.getAllPomodoros({ startDate: startISO, endDate: endISO })\n        const records = res?.data || res?.data?.data || res || []\n        // 小时分布\n        const hours = Array.from({ length: 24 }, () => 0)\n        // 每日统计\n        const daysInMonth = new Date(this.monthCursor.getFullYear(), this.monthCursor.getMonth() + 1, 0).getDate()\n        const dayTotals = Array.from({ length: daysInMonth }, () => 0)\n        records.forEach(r => {\n          const created = new Date(r?.createdAt || r?.startTime || Date.now())\n          const h = created.getHours()\n          const d = created.getDate()\n          const sec = Number(r?.actualFocusTime ?? r?.duration ?? 0)\n          const mins = Math.max(0, Math.round(sec / 60))\n          if (isFinite(h)) hours[h] += mins\n          if (isFinite(d)) dayTotals[d - 1] += mins\n        })\n        // 归一化到 0-10 分钟刻度用于占位图高度\n        const maxHour = Math.max(...hours, 10)\n        this.hourlyBars = hours.map(m => (maxHour ? Math.min(10, (m / maxHour) * 10) : 0))\n        this.lineData = dayTotals\n      } catch (_) {\n        this.hourlyBars = Array.from({ length: 24 }, () => 0)\n        this.lineData = []\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.stats-page {\n  height: 100vh;\n  background: #f5f6fa;\n  display: flex;\n  flex-direction: column;\n}\n\n.content-scroll {\n  flex: 1;\n  overflow-y: auto;\n  padding-bottom: 96px;\n}\n\n.card {\n  background: #fff;\n  margin: 12px 16px;\n  padding: 16px;\n  border-radius: 16px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 700;\n  color: #1f2329;\n}\n\n.icon-box {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  background: #eef2ff;\n  color: #4c6fff;\n  font-size: 12px;\n}\n\n.icon-btn {\n  border: none;\n  background: transparent;\n  color: #7a7f87;\n  font-size: 18px;\n  padding: 4px 6px;\n}\n\n.nav-date {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  color: #7a7f87;\n}\n\n.date-text { color: #4b5563; font-weight: 600; }\n\n.metrics {\n  display: grid;\n  gap: 12px;\n  margin-top: 12px;\n}\n.metrics.two { grid-template-columns: repeat(2, 1fr); }\n.metrics.three { grid-template-columns: repeat(3, 1fr); }\n\n.metric { background: #f8fafc; border-radius: 12px; padding: 14px; text-align: center; }\n.metric-label { color: #89919c; font-size: 12px; margin-bottom: 6px; }\n.metric-value { color: #111827; }\n.metric-value .num { font-size: 26px; font-weight: 800; }\n.metric-value .unit { margin-left: 4px; color: #9aa3af; font-weight: 600; }\n\n.tabs { display: flex; gap: 10px; margin: 12px 0 4px; }\n.tab { padding: 6px 10px; border-radius: 10px; background: #f3f4f6; color: #6b7280; border: none; }\n.tab.active { background: #e8edff; color: #3b5bff; font-weight: 600; }\n\n.empty { text-align: center; padding: 24px 8px; color: #6b7280; }\n.empty-face { font-size: 28px; margin-bottom: 8px; }\n.empty-title { color: #1f2329; font-weight: 700; margin-bottom: 6px; }\n.empty-sub { font-size: 13px; margin-bottom: 14px; }\n.primary-btn { background: #4c6fff; color: #fff; border: none; padding: 10px 14px; border-radius: 12px; font-weight: 700; }\n\n.bar-chart { margin-top: 12px; }\n.bars-wrap { display: grid; grid-template-columns: repeat(24, 1fr); gap: 6px; align-items: end; height: 84px; background: linear-gradient(to top, rgba(76,141,255,0.05), transparent 40%); padding: 8px 6px; border-radius: 8px; }\n.bar { background: #9db7ff; border-radius: 4px; }\n.x-labels { display: grid; grid-template-columns: repeat(12, 1fr); margin-top: 6px; font-size: 12px; color: #9aa3af; }\n.y-scale { font-size: 12px; color: #9aa3af; margin-bottom: 6px; }\n\n.line-chart { margin-top: 12px; position: relative; }\n.line-chart svg { width: 100%; height: 140px; display: block; }\n\n@media (max-width: 430px) {\n  .card { margin: 12px; }\n  .metric-value .num { font-size: 24px; }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}