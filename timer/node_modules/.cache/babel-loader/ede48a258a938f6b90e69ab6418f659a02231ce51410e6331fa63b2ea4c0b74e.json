{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, renderList as _renderList, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"avatar\"\n};\nconst _hoisted_2 = {\n  class: \"message-content\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"message-text\"\n};\nconst _hoisted_4 = {\n  class: \"voice-message\"\n};\nconst _hoisted_5 = {\n  class: \"voice-content\"\n};\nconst _hoisted_6 = {\n  class: \"voice-icon\"\n};\nconst _hoisted_7 = {\n  class: \"voice-duration\"\n};\nconst _hoisted_8 = {\n  class: \"questions-container\"\n};\nconst _hoisted_9 = {\n  class: \"message-text\"\n};\nconst _hoisted_10 = {\n  class: \"questions-list\"\n};\nconst _hoisted_11 = {\n  class: \"question-number\"\n};\nconst _hoisted_12 = {\n  class: \"question-text\"\n};\nconst _hoisted_13 = {\n  class: \"questions-tip\"\n};\nconst _hoisted_14 = {\n  class: \"task-created-container\"\n};\nconst _hoisted_15 = {\n  class: \"message-text\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"task-info\"\n};\nconst _hoisted_17 = {\n  class: \"task-title\"\n};\nconst _hoisted_18 = {\n  class: \"task-details\"\n};\nconst _hoisted_19 = {\n  class: \"task-detail\"\n};\nconst _hoisted_20 = {\n  class: \"task-detail\"\n};\nconst _hoisted_21 = {\n  class: \"value\"\n};\nconst _hoisted_22 = {\n  class: \"plan-container\"\n};\nconst _hoisted_23 = {\n  class: \"message-text\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"plan-info\"\n};\nconst _hoisted_25 = {\n  class: \"plan-overview\"\n};\nconst _hoisted_26 = {\n  key: 0,\n  class: \"plan-summary\"\n};\nconst _hoisted_27 = {\n  class: \"summary-item\"\n};\nconst _hoisted_28 = {\n  class: \"summary-item\"\n};\nconst _hoisted_29 = {\n  class: \"dynamic-adjustment-container\"\n};\nconst _hoisted_30 = {\n  class: \"message-text\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"adjustment-summary\"\n};\nconst _hoisted_32 = {\n  class: \"adjustment-header\"\n};\nconst _hoisted_33 = {\n  class: \"adjustment-stats\"\n};\nconst _hoisted_34 = {\n  key: 0,\n  class: \"stat-item\"\n};\nconst _hoisted_35 = {\n  key: 1,\n  class: \"stat-item\"\n};\nconst _hoisted_36 = {\n  key: 2,\n  class: \"stat-item\"\n};\nconst _hoisted_37 = {\n  key: 3,\n  class: \"stat-item\"\n};\nconst _hoisted_38 = {\n  key: 0,\n  class: \"user-state-info\"\n};\nconst _hoisted_39 = {\n  class: \"state-indicator\"\n};\nconst _hoisted_40 = {\n  class: \"error-container\"\n};\nconst _hoisted_41 = {\n  class: \"message-text error-text\"\n};\nconst _hoisted_42 = {\n  class: \"message-text\"\n};\nconst _hoisted_43 = {\n  key: 1,\n  class: \"avatar user-avatar\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"message\", {\n      'user-message': $props.message.isUser,\n      'ai-message': !$props.message.isUser\n    }])\n  }, [!$props.message.isUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_font_awesome_icon, {\n    icon: \"robot\"\n  })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 普通文本消息 \"), $options.isTextMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($props.message.content), 1 /* TEXT */)) : $options.isVoiceMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 语音消息 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_font_awesome_icon, {\n    icon: \"play\"\n  })]), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($options.formatDuration($props.message.duration || 0)), 1 /* TEXT */)]), _createCommentVNode(\" 不显示语音识别文本 \")])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $options.isQuestionsMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" 问题列表消息 \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, _toDisplayString($props.message.content), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.message.metadata.questions, (question, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"question-item\"\n    }, [_createElementVNode(\"span\", _hoisted_11, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, _toDisplayString(question), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_font_awesome_icon, {\n    icon: \"lightbulb\"\n  }), _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \"请逐一回答这些问题，我会根据你的回答制定详细计划\", -1 /* CACHED */))])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $options.isTaskCreatedMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" 任务创建成功消息 \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, _toDisplayString($props.message.content), 1 /* TEXT */), $props.message.metadata.task ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createVNode(_component_font_awesome_icon, {\n    icon: \"check-circle\"\n  }), _createElementVNode(\"span\", null, _toDisplayString($props.message.metadata.task.title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_cache[1] || (_cache[1] = _createElementVNode(\"span\", {\n    class: \"label\"\n  }, \"优先级：\", -1 /* CACHED */)), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"value priority\", $props.message.metadata.task.priority])\n  }, _toDisplayString($options.getPriorityText($props.message.metadata.task.priority)), 3 /* TEXT, CLASS */)]), _createElementVNode(\"div\", _hoisted_20, [_cache[2] || (_cache[2] = _createElementVNode(\"span\", {\n    class: \"label\"\n  }, \"时间安排：\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_21, _toDisplayString($options.getTimeBlockText($props.message.metadata.task.timeBlock)), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $options.isPlanMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 4\n  }, [_createCommentVNode(\" 计划展示消息 \"), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, _toDisplayString($props.message.content), 1 /* TEXT */), $props.message.metadata.plan ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, _toDisplayString($props.message.metadata.plan.plan_overview), 1 /* TEXT */), $props.message.metadata.summary ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createVNode(_component_font_awesome_icon, {\n    icon: \"folder\"\n  }), _createElementVNode(\"span\", null, _toDisplayString($props.message.metadata.summary.collections_count) + \"个任务集\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_28, [_createVNode(_component_font_awesome_icon, {\n    icon: \"tasks\"\n  }), _createElementVNode(\"span\", null, _toDisplayString($props.message.metadata.summary.tasks_count) + \"个任务\", 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $options.isDynamicAdjustmentMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 5\n  }, [_createCommentVNode(\" 动态调整消息 \"), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, _toDisplayString($props.message.content), 1 /* TEXT */), $props.message.metadata.adjustmentSummary ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_createElementVNode(\"div\", _hoisted_32, [_createVNode(_component_font_awesome_icon, {\n    icon: \"magic\"\n  }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"任务调整结果\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_33, [$props.message.metadata.adjustmentSummary.modified_tasks > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, [_createVNode(_component_font_awesome_icon, {\n    icon: \"edit\"\n  }), _createElementVNode(\"span\", null, \"修改了 \" + _toDisplayString($props.message.metadata.adjustmentSummary.modified_tasks) + \" 个任务\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $props.message.metadata.adjustmentSummary.postponed_tasks > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [_createVNode(_component_font_awesome_icon, {\n    icon: \"clock\"\n  }), _createElementVNode(\"span\", null, \"延后了 \" + _toDisplayString($props.message.metadata.adjustmentSummary.postponed_tasks) + \" 个任务\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $props.message.metadata.adjustmentSummary.new_tasks > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [_createVNode(_component_font_awesome_icon, {\n    icon: \"plus-circle\"\n  }), _createElementVNode(\"span\", null, \"新增了 \" + _toDisplayString($props.message.metadata.adjustmentSummary.new_tasks) + \" 个任务\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $props.message.metadata.adjustmentSummary.cancelled_tasks > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [_createVNode(_component_font_awesome_icon, {\n    icon: \"times-circle\"\n  }), _createElementVNode(\"span\", null, \"取消了 \" + _toDisplayString($props.message.metadata.adjustmentSummary.cancelled_tasks) + \" 个任务\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]), $props.message.metadata.userState ? (_openBlock(), _createElementBlock(\"div\", _hoisted_38, [_createElementVNode(\"div\", _hoisted_39, [_cache[4] || (_cache[4] = _createElementVNode(\"span\", {\n    class: \"state-label\"\n  }, \"检测状态：\", -1 /* CACHED */)), _createElementVNode(\"span\", {\n    class: _normalizeClass([\"state-value\", $options.getStateClass($props.message.metadata.userState.primaryState)])\n  }, _toDisplayString($options.getStateText($props.message.metadata.userState.primaryState)), 3 /* TEXT, CLASS */)])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $options.isErrorMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 6\n  }, [_createCommentVNode(\" 错误消息 \"), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"div\", _hoisted_41, [_createVNode(_component_font_awesome_icon, {\n    icon: \"exclamation-circle\"\n  }), _createElementVNode(\"span\", null, _toDisplayString($props.message.content), 1 /* TEXT */)])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 7\n  }, [_createCommentVNode(\" 兜底显示 \"), _createElementVNode(\"div\", _hoisted_42, _toDisplayString($props.message.content || $props.message.text), 1 /* TEXT */)], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]), $props.message.isUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_43, [_createVNode(_component_font_awesome_icon, {\n    icon: \"user\"\n  })])) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */);\n}","map":{"version":3,"names":["class","_createElementBlock","_normalizeClass","$props","message","isUser","_hoisted_1","_createVNode","_component_font_awesome_icon","icon","_createElementVNode","_hoisted_2","_createCommentVNode","$options","isTextMessage","_hoisted_3","_toDisplayString","content","isVoiceMessage","_Fragment","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","formatDuration","duration","isQuestionsMessage","_hoisted_8","_hoisted_9","_hoisted_10","_renderList","metadata","questions","question","index","_hoisted_11","_hoisted_12","_hoisted_13","isTaskCreatedMessage","_hoisted_14","_hoisted_15","task","_hoisted_16","_hoisted_17","title","_hoisted_18","_hoisted_19","priority","getPriorityText","_hoisted_20","_hoisted_21","getTimeBlockText","timeBlock","isPlanMessage","_hoisted_22","_hoisted_23","plan","_hoisted_24","_hoisted_25","plan_overview","summary","_hoisted_26","_hoisted_27","collections_count","_hoisted_28","tasks_count","isDynamicAdjustmentMessage","_hoisted_29","_hoisted_30","adjustmentSummary","_hoisted_31","_hoisted_32","_hoisted_33","modified_tasks","_hoisted_34","postponed_tasks","_hoisted_35","new_tasks","_hoisted_36","cancelled_tasks","_hoisted_37","userState","_hoisted_38","_hoisted_39","getStateClass","primaryState","getStateText","isErrorMessage","_hoisted_40","_hoisted_41","_hoisted_42","text","_hoisted_43"],"sources":["C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\timer\\src\\components\\AIsecretary\\MessageCard.vue"],"sourcesContent":["<template>\n  <div class=\"message\"\n    :class=\"{ 'user-message': message.isUser, 'ai-message': !message.isUser }\">\n    <div v-if=\"!message.isUser\" class=\"avatar\">\n      <font-awesome-icon icon=\"robot\" />\n    </div>\n    <div class=\"message-content\">\n      <!-- 普通文本消息 -->\n      <div v-if=\"isTextMessage\" class=\"message-text\">{{ message.content }}</div>\n      \n      <!-- 语音消息 -->\n      <div v-else-if=\"isVoiceMessage\" class=\"voice-message\">\n        <div class=\"voice-content\">\n          <div class=\"voice-icon\">\n            <font-awesome-icon icon=\"play\" />\n          </div>\n          <div class=\"voice-duration\">{{ formatDuration(message.duration || 0) }}</div>\n        </div>\n        <!-- 不显示语音识别文本 -->\n      </div>\n      \n      <!-- 问题列表消息 -->\n      <div v-else-if=\"isQuestionsMessage\" class=\"questions-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div class=\"questions-list\">\n          <div \n            v-for=\"(question, index) in message.metadata.questions\"\n            :key=\"index\"\n            class=\"question-item\"\n          >\n            <span class=\"question-number\">{{ index + 1 }}</span>\n            <span class=\"question-text\">{{ question }}</span>\n          </div>\n        </div>\n        <div class=\"questions-tip\">\n          <font-awesome-icon icon=\"lightbulb\" />\n          <span>请逐一回答这些问题，我会根据你的回答制定详细计划</span>\n        </div>\n      </div>\n      \n      <!-- 任务创建成功消息 -->\n      <div v-else-if=\"isTaskCreatedMessage\" class=\"task-created-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div v-if=\"message.metadata.task\" class=\"task-info\">\n          <div class=\"task-title\">\n            <font-awesome-icon icon=\"check-circle\" />\n            <span>{{ message.metadata.task.title }}</span>\n          </div>\n          <div class=\"task-details\">\n            <div class=\"task-detail\">\n              <span class=\"label\">优先级：</span>\n              <span class=\"value priority\" :class=\"message.metadata.task.priority\">\n                {{ getPriorityText(message.metadata.task.priority) }}\n              </span>\n            </div>\n            <div class=\"task-detail\">\n              <span class=\"label\">时间安排：</span>\n              <span class=\"value\">{{ getTimeBlockText(message.metadata.task.timeBlock) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 计划展示消息 -->\n      <div v-else-if=\"isPlanMessage\" class=\"plan-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div v-if=\"message.metadata.plan\" class=\"plan-info\">\n          <div class=\"plan-overview\">{{ message.metadata.plan.plan_overview }}</div>\n          <div class=\"plan-summary\" v-if=\"message.metadata.summary\">\n            <div class=\"summary-item\">\n              <font-awesome-icon icon=\"folder\" />\n              <span>{{ message.metadata.summary.collections_count }}个任务集</span>\n            </div>\n            <div class=\"summary-item\">\n              <font-awesome-icon icon=\"tasks\" />\n              <span>{{ message.metadata.summary.tasks_count }}个任务</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 动态调整消息 -->\n      <div v-else-if=\"isDynamicAdjustmentMessage\" class=\"dynamic-adjustment-container\">\n        <div class=\"message-text\">{{ message.content }}</div>\n        <div v-if=\"message.metadata.adjustmentSummary\" class=\"adjustment-summary\">\n          <div class=\"adjustment-header\">\n            <font-awesome-icon icon=\"magic\" />\n            <span>任务调整结果</span>\n          </div>\n          <div class=\"adjustment-stats\">\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.modified_tasks > 0\">\n              <font-awesome-icon icon=\"edit\" />\n              <span>修改了 {{ message.metadata.adjustmentSummary.modified_tasks }} 个任务</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.postponed_tasks > 0\">\n              <font-awesome-icon icon=\"clock\" />\n              <span>延后了 {{ message.metadata.adjustmentSummary.postponed_tasks }} 个任务</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.new_tasks > 0\">\n              <font-awesome-icon icon=\"plus-circle\" />\n              <span>新增了 {{ message.metadata.adjustmentSummary.new_tasks }} 个任务</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"message.metadata.adjustmentSummary.cancelled_tasks > 0\">\n              <font-awesome-icon icon=\"times-circle\" />\n              <span>取消了 {{ message.metadata.adjustmentSummary.cancelled_tasks }} 个任务</span>\n            </div>\n          </div>\n          <div v-if=\"message.metadata.userState\" class=\"user-state-info\">\n            <div class=\"state-indicator\">\n              <span class=\"state-label\">检测状态：</span>\n              <span class=\"state-value\" :class=\"getStateClass(message.metadata.userState.primaryState)\">\n                {{ getStateText(message.metadata.userState.primaryState) }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 错误消息 -->\n      <div v-else-if=\"isErrorMessage\" class=\"error-container\">\n        <div class=\"message-text error-text\">\n          <font-awesome-icon icon=\"exclamation-circle\" />\n          <span>{{ message.content }}</span>\n        </div>\n      </div>\n      \n      <!-- 兜底显示 -->\n      <div v-else class=\"message-text\">{{ message.content || message.text }}</div>\n    </div>\n    <div v-if=\"message.isUser\" class=\"avatar user-avatar\">\n      <font-awesome-icon icon=\"user\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { MESSAGE_TYPES, utils } from '../../AIsiri/types/index.js'\n\nexport default {\n  name: 'MessageCard',\n  props: {\n    message: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    // 判断消息类型\n    isTextMessage() {\n      return !this.message.type || this.message.type === MESSAGE_TYPES.TEXT\n    },\n    \n    isQuestionsMessage() {\n      return this.message.type === MESSAGE_TYPES.QUESTIONS\n    },\n    \n    isTaskCreatedMessage() {\n      return this.message.type === MESSAGE_TYPES.TASK_CREATED\n    },\n    \n    isPlanMessage() {\n      return this.message.type === MESSAGE_TYPES.PLAN\n    },\n    \n    isErrorMessage() {\n      return this.message.type === MESSAGE_TYPES.ERROR\n    },\n    \n    isDynamicAdjustmentMessage() {\n      return this.message.type === MESSAGE_TYPES.DYNAMIC_ADJUSTMENT\n    },\n    \n    isVoiceMessage() {\n      return this.message.type === MESSAGE_TYPES.VOICE\n    }\n  },\n  \n  methods: {\n    // 获取优先级文本\n    getPriorityText(priority) {\n      return utils.getPriorityName(priority)\n    },\n    \n    // 获取时间段文本\n    getTimeBlockText(timeBlock) {\n      if (!timeBlock) return '未安排'\n      \n      const typeName = utils.getTimeBlockName(timeBlock.timeBlockType)\n      if (timeBlock.startTime && timeBlock.endTime) {\n        return `${typeName} (${timeBlock.startTime}-${timeBlock.endTime})`\n      }\n      return typeName\n    },\n    \n    // 获取用户状态文本\n    getStateText(state) {\n      const stateMap = {\n        tired: '疲劳',\n        busy: '忙碌',\n        stressed: '压力大',\n        motivated: '状态良好',\n        sick: '身体不适',\n        normal: '正常'\n      }\n      return stateMap[state] || state\n    },\n    \n    // 获取状态样式类\n    getStateClass(state) {\n      return `state-${state}`\n    },\n    \n    // 格式化语音时长\n    formatDuration(seconds) {\n      if (seconds < 60) {\n        return `${seconds}\"`;\n      } else {\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins}:${secs.toString().padStart(2, '0')}`;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.message {\n  display: flex;\n  margin-bottom: 16px;\n  animation: fadeIn 0.3s ease-in;\n}\n\n.ai-message {\n  justify-content: flex-start;\n}\n\n.user-message {\n  justify-content: flex-end;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  margin-right: 12px;\n  flex-shrink: 0;\n}\n\n.user-avatar {\n  background: linear-gradient(135deg, #34c759 0%, #30d158 100%);\n  margin-right: 0;\n  margin-left: 12px;\n}\n\n.message-content {\n  max-width: 80%;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 12px 16px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.user-message .message-content {\n  background: rgba(0, 122, 255, 0.9);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(0, 122, 255, 0.3);\n  color: white;\n}\n\n.message-text {\n  font-size: 16px;\n  line-height: 1.4;\n  word-wrap: break-word;\n}\n\n/* 语音消息样式 */\n.voice-message {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.voice-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 0;\n}\n\n.voice-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background: rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.voice-icon:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(1.1);\n}\n\n.voice-icon svg {\n  font-size: 14px;\n}\n\n.voice-duration {\n  font-size: 14px;\n  font-weight: 500;\n  color: rgba(255, 255, 255, 0.9);\n  min-width: 30px;\n}\n\n.voice-transcription {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.8);\n  line-height: 1.3;\n  padding: 8px 12px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  margin-top: 4px;\n}\n\n/* 问题列表样式 */\n.questions-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.questions-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.question-item {\n  display: flex;\n  gap: 8px;\n  padding: 8px 12px;\n  background: rgba(0, 122, 255, 0.05);\n  border-radius: 8px;\n  border-left: 3px solid #007aff;\n}\n\n.question-number {\n  font-weight: 600;\n  color: #007aff;\n  min-width: 20px;\n}\n\n.question-text {\n  flex: 1;\n  line-height: 1.4;\n}\n\n.questions-tip {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background: rgba(255, 193, 7, 0.1);\n  border-radius: 8px;\n  font-size: 14px;\n  color: #856404;\n}\n\n.questions-tip svg {\n  color: #ffc107;\n}\n\n/* 任务创建成功样式 */\n.task-created-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.task-info {\n  background: rgba(40, 167, 69, 0.05);\n  border-radius: 8px;\n  padding: 12px;\n  border-left: 3px solid #28a745;\n}\n\n.task-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.task-title svg {\n  color: #28a745;\n}\n\n.task-details {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.task-detail {\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n}\n\n.task-detail .label {\n  color: #6c757d;\n  min-width: 70px;\n}\n\n.task-detail .value {\n  font-weight: 500;\n}\n\n.priority.high {\n  color: #dc3545;\n}\n\n.priority.medium {\n  color: #ffc107;\n}\n\n.priority.low {\n  color: #28a745;\n}\n\n/* 计划展示样式 */\n.plan-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.plan-info {\n  background: rgba(23, 162, 184, 0.05);\n  border-radius: 8px;\n  padding: 12px;\n  border-left: 3px solid #17a2b8;\n}\n\n.plan-overview {\n  font-size: 14px;\n  color: #495057;\n  margin-bottom: 8px;\n  line-height: 1.4;\n}\n\n.plan-summary {\n  display: flex;\n  gap: 16px;\n}\n\n.summary-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  color: #17a2b8;\n}\n\n.summary-item svg {\n  font-size: 16px;\n}\n\n/* 错误消息样式 */\n.error-container {\n  background: rgba(220, 53, 69, 0.05);\n  border-radius: 8px;\n  padding: 12px;\n  border-left: 3px solid #dc3545;\n}\n\n.error-text {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #721c24;\n}\n\n.error-text svg {\n  color: #dc3545;\n  font-size: 16px;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}