{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"calendar-container\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"header-content\"\n};\nconst _hoisted_4 = {\n  class: \"view-toggle\"\n};\nconst _hoisted_5 = {\n  class: \"week-nav\"\n};\nconst _hoisted_6 = {\n  class: \"week-range\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"week-dates\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"content\"\n};\nconst _hoisted_9 = {\n  class: \"day-header\"\n};\nconst _hoisted_10 = {\n  class: \"day-title\"\n};\nconst _hoisted_11 = {\n  class: \"day-date\"\n};\nconst _hoisted_12 = {\n  class: \"task-list\"\n};\nconst _hoisted_13 = {\n  class: \"month-view\"\n};\nconst _hoisted_14 = {\n  class: \"month-grid\"\n};\nconst _hoisted_15 = {\n  class: \"month-content\"\n};\nconst _hoisted_16 = {\n  class: \"day-header\"\n};\nconst _hoisted_17 = {\n  class: \"day-title\"\n};\nconst _hoisted_18 = {\n  class: \"day-date\"\n};\nconst _hoisted_19 = {\n  class: \"task-list\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_CalendarCell = _resolveComponent(\"CalendarCell\");\n  const _component_TaskItem = _resolveComponent(\"TaskItem\");\n  const _component_TabBar = _resolveComponent(\"TabBar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"header-title\"\n  }, \"日历中心\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"toggle-btn\", {\n      active: $data.currentView === 'week'\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $options.switchView('week'))\n  }, \" 周视图 \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"toggle-btn\", {\n      active: $data.currentView === 'month'\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $options.switchView('month'))\n  }, \" 月视图 \", 2 /* CLASS */)])]), _createCommentVNode(\" Week Navigation \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"nav-btn\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.previousPeriod && $options.previousPeriod(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"chevron-left\"\n  })]), _createElementVNode(\"div\", _hoisted_6, _toDisplayString($options.periodLabel), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: \"nav-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.nextPeriod && $options.nextPeriod(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"chevron-right\"\n  })])]), _createCommentVNode(\" Week Dates \"), $data.currentView === 'week' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.weekDates, date => {\n    return _openBlock(), _createBlock(_component_CalendarCell, {\n      key: date.getTime(),\n      date: date,\n      \"is-selected\": $options.isSelectedDate(date),\n      \"task-count\": $options.getTaskCount(date),\n      \"show-week-day\": true,\n      onSelect: $options.selectDate\n    }, null, 8 /* PROPS */, [\"date\", \"is-selected\", \"task-count\", \"onSelect\"]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Content \"), $data.currentView === 'week' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.daySections, daySection => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: daySection.date,\n      class: \"day-section\"\n    }, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString(daySection.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, _toDisplayString(daySection.dateText), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(daySection.tasks, task => {\n      return _openBlock(), _createBlock(_component_TaskItem, {\n        key: task.id,\n        task: task,\n        onClick: $options.openPomodoro,\n        onToggle: $options.toggleTask\n      }, null, 8 /* PROPS */, [\"task\", \"onClick\", \"onToggle\"]);\n    }), 128 /* KEYED_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Month View \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.monthDates, date => {\n    return _openBlock(), _createBlock(_component_CalendarCell, {\n      key: date.getTime(),\n      date: date,\n      \"is-selected\": $options.isSelectedDate(date),\n      \"is-other-month\": !$options.isCurrentMonth(date),\n      \"task-count\": $options.getTaskCount(date),\n      onSelect: $options.selectDate\n    }, null, 8 /* PROPS */, [\"date\", \"is-selected\", \"is-other-month\", \"task-count\", \"onSelect\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Month Selected Day Content \"), _createElementVNode(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.daySections, daySection => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: daySection.date,\n      class: \"day-section\"\n    }, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, _toDisplayString(daySection.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_18, _toDisplayString(daySection.dateText), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(daySection.tasks, task => {\n      return _openBlock(), _createBlock(_component_TaskItem, {\n        key: task.id,\n        task: task,\n        onClick: $options.openPomodoro,\n        onToggle: $options.toggleTask\n      }, null, 8 /* PROPS */, [\"task\", \"onClick\", \"onToggle\"]);\n    }), 128 /* KEYED_FRAGMENT */))])]);\n  }), 128 /* KEYED_FRAGMENT */))])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Add Task Button \"), _createElementVNode(\"button\", {\n    class: \"add-task-btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.openAddTask && $options.openAddTask(...args))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"plus\"\n  })]), _createCommentVNode(\" Tab Bar \"), _createVNode(_component_TabBar)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_normalizeClass","active","$data","currentView","onClick","_cache","$event","$options","switchView","_hoisted_5","args","previousPeriod","_createVNode","_component_font_awesome_icon","icon","_hoisted_6","_toDisplayString","periodLabel","nextPeriod","_hoisted_7","_Fragment","_renderList","weekDates","date","_createBlock","_component_CalendarCell","key","getTime","isSelectedDate","getTaskCount","onSelect","selectDate","_hoisted_8","daySections","daySection","_hoisted_9","_hoisted_10","title","_hoisted_11","dateText","_hoisted_12","tasks","task","_component_TaskItem","id","openPomodoro","onToggle","toggleTask","_hoisted_13","_hoisted_14","monthDates","isCurrentMonth","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","openAddTask","_component_TabBar"],"sources":["C:\\Users\\wuby\\OneDrive\\Desktop\\backend(1) 3\\timer\\src\\views\\Calendar.vue"],"sourcesContent":["<template>\n  <div class=\"calendar-container\">\n    <!-- Header -->\n    <div class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"header-title\">日历中心</div>\n        <div class=\"view-toggle\">\n          <button \n            class=\"toggle-btn\" \n            :class=\"{ active: currentView === 'week' }\"\n            @click=\"switchView('week')\"\n          >\n            周视图\n          </button>\n          <button \n            class=\"toggle-btn\" \n            :class=\"{ active: currentView === 'month' }\"\n            @click=\"switchView('month')\"\n          >\n            月视图\n          </button>\n        </div>\n      </div>\n      \n      <!-- Week Navigation -->\n      <div class=\"week-nav\">\n        <button class=\"nav-btn\" @click=\"previousPeriod\">\n          <font-awesome-icon icon=\"chevron-left\" />\n        </button>\n        <div class=\"week-range\">{{ periodLabel }}</div>\n        <button class=\"nav-btn\" @click=\"nextPeriod\">\n          <font-awesome-icon icon=\"chevron-right\" />\n        </button>\n      </div>\n      \n      <!-- Week Dates -->\n      <div v-if=\"currentView === 'week'\" class=\"week-dates\">\n        <CalendarCell\n          v-for=\"date in weekDates\"\n          :key=\"date.getTime()\"\n          :date=\"date\"\n          :is-selected=\"isSelectedDate(date)\"\n          :task-count=\"getTaskCount(date)\"\n          :show-week-day=\"true\"\n          @select=\"selectDate\"\n        />\n      </div>\n    </div>\n    \n    <!-- Content -->\n    <div v-if=\"currentView === 'week'\" class=\"content\">\n      <div v-for=\"daySection in daySections\" :key=\"daySection.date\" class=\"day-section\">\n        <div class=\"day-header\">\n          <div class=\"day-title\">{{ daySection.title }}</div>\n          <div class=\"day-date\">{{ daySection.dateText }}</div>\n        </div>\n        \n        <div class=\"task-list\">\n          <TaskItem\n            v-for=\"task in daySection.tasks\"\n            :key=\"task.id\"\n            :task=\"task\"\n            @click=\"openPomodoro\"\n            @toggle=\"toggleTask\"\n          />\n        </div>\n      </div>\n    </div>\n    \n    <!-- Month View -->\n    <div v-else class=\"month-view\">\n      <div class=\"month-grid\">\n        <CalendarCell\n          v-for=\"date in monthDates\"\n          :key=\"date.getTime()\"\n          :date=\"date\"\n          :is-selected=\"isSelectedDate(date)\"\n          :is-other-month=\"!isCurrentMonth(date)\"\n          :task-count=\"getTaskCount(date)\"\n          @select=\"selectDate\"\n        />\n      </div>\n      <!-- Month Selected Day Content -->\n      <div class=\"month-content\">\n        <div v-for=\"daySection in daySections\" :key=\"daySection.date\" class=\"day-section\">\n          <div class=\"day-header\">\n            <div class=\"day-title\">{{ daySection.title }}</div>\n            <div class=\"day-date\">{{ daySection.dateText }}</div>\n          </div>\n          <div class=\"task-list\">\n            <TaskItem\n              v-for=\"task in daySection.tasks\"\n              :key=\"task.id\"\n              :task=\"task\"\n              @click=\"openPomodoro\"\n              @toggle=\"toggleTask\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add Task Button -->\n    <button class=\"add-task-btn\" @click=\"openAddTask\">\n      <font-awesome-icon icon=\"plus\" />\n    </button>\n    \n    <!-- Tab Bar -->\n    <TabBar />\n  </div>\n</template>\n\n<script>\nimport CalendarCell from '../components/calendar/CalendarCell.vue'\nimport TaskItem from '../components/common/TaskItem.vue'\nimport TabBar from '../components/common/TabBar.vue'\nimport api from '../api'\nimport { playRandomVoice } from '@/aivoice/voicePlayer.js'\n\nexport default {\n  name: 'CalendarView',\n  components: {\n    CalendarCell,\n    TaskItem,\n    TabBar\n  },\n  data() {\n    return {\n      currentView: 'week',\n      selectedDate: new Date(),\n      currentDate: new Date(),\n      weekDays: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\n      tasks: [],\n      loading: false,\n      error: null\n    }\n  },\n  created() {\n    this.fetchTasks()\n  },\n  activated() {\n    this.fetchTasks()\n  },\n  computed: {\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user') || 'null')\n      return user?._id || user?.id || null\n    },\n    periodLabel() {\n      if (this.currentView === 'week') {\n        const startOfWeek = this.getStartOfWeek(this.currentDate)\n        const endOfWeek = new Date(startOfWeek.getTime() + 6 * 24 * 60 * 60 * 1000)\n        return `${this.formatDate(startOfWeek)} - ${this.formatDate(endOfWeek)}`\n      } else {\n        return `${this.currentDate.getFullYear()}年${this.currentDate.getMonth() + 1}月`\n      }\n    },\n    weekDates() {\n      const startOfWeek = this.getStartOfWeek(this.currentDate)\n      const dates = []\n      for (let i = 0; i < 7; i++) {\n        const date = new Date(startOfWeek.getTime() + i * 24 * 60 * 60 * 1000)\n        dates.push(date)\n      }\n      return dates\n    },\n    monthDates() {\n      const startOfMonth = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1)\n  \n      \n      // Get start of week for first day of month\n      const startDate = this.getStartOfWeek(startOfMonth)\n      \n      // Get end date (6 weeks worth of days)\n      const dates = []\n      for (let i = 0; i < 42; i++) {\n        const date = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000)\n        dates.push(date)\n      }\n      return dates\n    },\n    daySections() {\n      const d = this.selectedDate\n      return [\n        {\n          date: d.toDateString(),\n          title: '所选日期',\n          dateText: this.formatDateText(d),\n          tasks: this.getTasksForDate(d)\n        }\n      ]\n    }\n  },\n  watch: {\n    currentView() {\n      this.fetchTasks()\n    },\n    currentDate() {\n      // 切换周/月的周期时刷新\n      this.fetchTasks()\n    },\n    selectedDate() {\n      if (this.currentView === 'week') {\n        // 同步周内切换日期也刷新一次，避免缓存陈旧\n        this.fetchTasks()\n      }\n    }\n  },\n  methods: {\n    async fetchTasks() {\n      this.loading = true\n      this.error = null\n      try {\n        const userId = this.currentUserId\n        if (!userId) {\n          this.error = '未登录，无法获取任务'\n          this.loading = false\n          return\n        }\n        // 优先按周期逐日拉取，保证日期精准映射\n        if (this.currentView === 'week') {\n          const dates = this.weekDates\n          this.tasks = await this.fetchTasksForDates(userId, dates)\n        } else {\n          const dates = this.getMonthDays(this.currentDate)\n          this.tasks = await this.fetchTasksForDates(userId, dates)\n        }\n      } catch (err) {\n        console.error('[Calendar] 获取任务失败', err)\n        this.error = '获取任务失败'\n      } finally {\n        this.loading = false\n      }\n    },\n    async fetchTasksForDates(userId, dateObjs) {\n      const uniqueDays = Array.from(new Set(dateObjs.map(d => this.formatYmd(d))))\n      const requests = uniqueDays.map(dateStr => api.tasks.getAllTasks({ userId, date: dateStr }).then(res => ({ res, dateStr })).catch(() => ({ res: null, dateStr })))\n      const results = await Promise.all(requests)\n      const merged = []\n      const seen = new Set()\n      results.forEach(({ res, dateStr }) => {\n        let list = []\n        if (res && res.success && Array.isArray(res.data)) list = res.data\n        else if (res && res.data && Array.isArray(res.data.data)) list = res.data.data\n        else if (Array.isArray(res)) list = res\n        list.map(raw => this.normalizeTask(raw)).forEach(t => {\n          if (!t) return\n          if (!t.date) t.date = this.parseToLocalDate(dateStr)\n          const key = `${t.id}`\n          if (!seen.has(key)) {\n            seen.add(key)\n            merged.push(t)\n          } else {\n            // 如果已存在但没有日期，补日期\n            const idx = merged.findIndex(x => `${x.id}` === key)\n            if (idx >= 0 && !merged[idx].date) merged[idx].date = this.parseToLocalDate(dateStr)\n          }\n        })\n      })\n      return merged\n    },\n    getMonthDays(anchor) {\n      const y = anchor.getFullYear()\n      const m = anchor.getMonth()\n      const daysInMonth = new Date(y, m + 1, 0).getDate()\n      const arr = []\n      for (let i = 1; i <= daysInMonth; i++) {\n        arr.push(new Date(y, m, i))\n      }\n      return arr\n    },\n    formatYmd(d) {\n      const y = d.getFullYear()\n      const m = String(d.getMonth() + 1).padStart(2, '0')\n      const day = String(d.getDate()).padStart(2, '0')\n      return `${y}-${m}-${day}`\n    },\n    normalizeTask(raw) {\n      if (!raw) return null\n      const id = raw._id || raw.id\n      const title = raw.title || raw.name || ''\n      const completed = !!raw.completed\n      const priority = raw.priority || 'medium'\n      // 处理时间显示：若有 time 则展示为 \"HH:MM - HH:MM+1h\"，否则为空\n      let timeDisplay = ''\n      if (typeof raw.time === 'string' && raw.time.trim()) {\n        timeDisplay = raw.time\n      } else if (raw.startTime && raw.endTime) {\n        // 兼容可能存在的开始/结束时间字段\n        timeDisplay = `${this.formatTime(raw.startTime)} - ${this.formatTime(raw.endTime)}`\n      }\n      // 处理日期：优先 raw.date，其次 raw.startTime，再次 raw.createdAt，否则丢弃（避免破坏日历统计）\n      let dateObj = null\n      if (raw.date) {\n        dateObj = this.parseToLocalDate(raw.date)\n      } else if (raw.startTime) {\n        dateObj = this.parseToLocalDate(raw.startTime)\n      } else if (raw.createdAt) {\n        dateObj = this.parseToLocalDate(raw.createdAt)\n      }\n      if (!id || !title) return null\n      return {\n        id,\n        title,\n        time: timeDisplay,\n        date: dateObj,\n        priority,\n        completed\n      }\n    },\n    parseToLocalDate(input) {\n      if (!input) return null\n      if (input instanceof Date) return input\n      // 处理 'YYYY-MM-DD' 或 ISO 字符串\n      try {\n        if (typeof input === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(input)) {\n          const [y, m, d] = input.split('-').map(n => parseInt(n, 10))\n          return new Date(y, m - 1, d)\n        }\n        const d = new Date(input)\n        return isNaN(d.getTime()) ? null : d\n      } catch (e) {\n        return null\n      }\n    },\n    formatTime(input) {\n      const d = new Date(input)\n      if (isNaN(d.getTime())) return ''\n      const hh = String(d.getHours()).padStart(2, '0')\n      const mm = String(d.getMinutes()).padStart(2, '0')\n      return `${hh}:${mm}`\n    },\n    switchView(view) {\n      this.currentView = view\n    },\n    previousPeriod() {\n      if (this.currentView === 'week') {\n        this.currentDate = new Date(this.currentDate.getTime() - 7 * 24 * 60 * 60 * 1000)\n      } else {\n        this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1, 1)\n      }\n    },\n    nextPeriod() {\n      if (this.currentView === 'week') {\n        this.currentDate = new Date(this.currentDate.getTime() + 7 * 24 * 60 * 60 * 1000)\n      } else {\n        this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 1)\n      }\n    },\n    getStartOfWeek(date) {\n      const d = new Date(date)\n      const day = d.getDay()\n      const diff = d.getDate() - day + (day === 0 ? -6 : 1) // Adjust for Monday start\n      return new Date(d.setDate(diff))\n    },\n    formatDate(date) {\n      return `${date.getMonth() + 1}月${date.getDate()}日`\n    },\n    formatDateText(date) {\n      const weekDayNames = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      return `${date.getMonth() + 1}月${date.getDate()}日 ${weekDayNames[date.getDay()]}`\n    },\n    isSelectedDate(date) {\n      return date.toDateString() === this.selectedDate.toDateString()\n    },\n    isCurrentMonth(date) {\n      return date.getMonth() === this.currentDate.getMonth()\n    },\n    selectDate(date) {\n      this.selectedDate = date\n      if (this.currentView === 'week') {\n        this.currentDate = date\n      }\n    },\n    getTaskCount(date) {\n      return this.tasks.filter(task => task && task.date && task.date.toDateString() === date.toDateString()).length\n    },\n    getTasksForDate(date) {\n      return this.tasks.filter(task => task && task.date && task.date.toDateString() === date.toDateString())\n    },\n    async toggleTask(task) {\n      const prev = task.completed\n      task.completed = !task.completed\n      try {\n        await api.tasks.toggleTaskStatus(task.id)\n        // 成功后触发语音（完成播放鼓励，取消可选播放批评）\n        if (task.completed) {\n          playRandomVoice('encourage')\n        } else {\n          // 如需取消时播放批评，取消注释下一行\n          // playRandomVoice('criticize')\n        }\n      } catch (e) {\n        task.completed = prev\n      }\n    },\n    openPomodoro(task) {\n      const query = { task: task.title, from: '/calendar' }\n      if (task.id) query.taskId = task.id\n      this.$router.push({ path: '/pomodoro', query })\n    },\n    openAddTask() {\n      // Navigate to AI Secretary for adding tasks\n      this.$router.push('/ai-secretary')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.calendar-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: #f2f2f7;\n}\n\n.header {\n  background: #fff;\n  padding: 20px 30px;\n  border-bottom: 0.5px solid #e5e5ea;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.header-title {\n  font-size: 28px;\n  font-weight: 700;\n  color: #1d1d1f;\n}\n\n.view-toggle {\n  display: flex;\n  gap: 8px;\n  background: #f2f2f7;\n  border-radius: 20px;\n  padding: 4px;\n}\n\n.toggle-btn {\n  padding: 8px 16px;\n  border: none;\n  background: transparent;\n  border-radius: 16px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #8e8e93;\n}\n\n.toggle-btn.active {\n  background: #007aff;\n  color: white;\n}\n\n.week-nav {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.nav-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  background: #f2f2f7;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #007aff;\n}\n\n.nav-btn:hover {\n  background: #e5e5ea;\n}\n\n.week-range {\n  font-size: 16px;\n  font-weight: 600;\n  color: #1d1d1f;\n}\n\n.week-dates {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 8px;\n  text-align: center;\n}\n\n.content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px 30px 100px;\n}\n\n.day-section {\n  background: white;\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.day-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #f2f2f7;\n}\n\n.day-title {\n  font-size: 18px;\n  font-weight: 600;\n  color: #1d1d1f;\n}\n\n.day-date {\n  font-size: 14px;\n  color: #8e8e93;\n}\n\n.task-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.month-view {\n  flex: 1;\n  padding: 20px 30px 100px;\n  overflow-y: auto;\n}\n\n.month-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 8px;\n  background: white;\n  border-radius: 16px;\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.month-content {\n  margin-top: 20px;\n}\n\n.add-task-btn {\n  position: fixed;\n  bottom: 100px;\n  right: 30px;\n  width: 56px;\n  height: 56px;\n  border-radius: 28px;\n  background: #007aff;\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);\n  transition: all 0.2s;\n  z-index: 100;\n}\n\n.add-task-btn:hover {\n  transform: scale(1.1);\n  box-shadow: 0 6px 16px rgba(0, 122, 255, 0.4);\n}\n\n@media (max-width: 430px) {\n  .header {\n    padding: 16px 20px;\n  }\n  \n  .header-title {\n    font-size: 24px;\n  }\n  \n  .content {\n    padding: 16px 20px 100px;\n  }\n  \n  .month-view {\n    padding: 16px 20px 100px;\n    overflow-y: auto;\n  }\n  \n  .day-section {\n    padding: 16px;\n  }\n  \n  .week-nav {\n    padding: 0 10px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}