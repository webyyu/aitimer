{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\n/**\n * AIsiri æ™ºèƒ½è°ƒåº¦ APIæœåŠ¡\n * æä¾›ä¸åç«¯æ™ºèƒ½è°ƒåº¦ç³»ç»Ÿçš„é€šä¿¡åŠŸèƒ½\n */\n\nimport { getAisiriApiUrl } from '../../config/api.js';\n\n// APIåŸºç¡€é…ç½®\nconst API_CONFIG = {\n  baseURL: getAisiriApiUrl(''),\n  timeout: 300000,\n  // 5åˆ†é’Ÿè¶…æ—¶ï¼Œå¤æ‚æ“ä½œéœ€è¦æ›´é•¿æ—¶é—´\n  headers: {\n    'Content-Type': 'application/json'\n  }\n};\n\n// è·å–å½“å‰ç™»å½•ç”¨æˆ·ID\nfunction getCurrentUserId() {\n  try {\n    const user = JSON.parse(localStorage.getItem('user') || 'null');\n    return user?._id || user?.id || null;\n  } catch (_) {\n    return null;\n  }\n}\n\n// è·å–token\nfunction getToken() {\n  return localStorage.getItem('token') || '';\n}\n\n// æ—¥å¿—è¾“å‡ºå‡½æ•°\nfunction logAPI(operation, data) {\n  const timestamp = new Date().toISOString();\n  console.log(`\\nğŸŒ === ${operation} APIè°ƒç”¨ ===`);\n  console.log(`â° æ—¶é—´: ${timestamp}`);\n  console.log(`ğŸ“¤ æ•°æ®:`, data);\n}\nfunction logResponse(operation, response) {\n  console.log(`ğŸ“¥ å“åº”:`, response);\n  console.log(`ğŸŒ === ${operation} APIå®Œæˆ ===\\n`);\n}\n\n// é€šç”¨APIè¯·æ±‚å‡½æ•°\nasync function makeAPIRequest(endpoint, data = null, method = 'GET') {\n  const url = `${API_CONFIG.baseURL}${endpoint}`;\n  try {\n    logAPI(endpoint, data);\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout);\n    const token = getToken();\n    const headers = {\n      ...API_CONFIG.headers\n    };\n    if (token) headers['Authorization'] = `Bearer ${token}`;\n    const options = {\n      method,\n      headers,\n      signal: controller.signal\n    };\n    if (data && method !== 'GET') {\n      options.body = JSON.stringify(data);\n    }\n    const response = await fetch(url, options);\n    clearTimeout(timeoutId);\n    if (!response.ok) {\n      if (response.status === 401) {\n        console.warn('ğŸ”’ æœªè®¤è¯æˆ–tokenå¤±æ•ˆï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µ');\n        if (typeof window !== 'undefined') {\n          window.location.href = '/auth/login';\n        }\n      }\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n    const result = await response.json();\n    logResponse(endpoint, result);\n    return result;\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      console.error(`âŒ APIè°ƒç”¨è¶…æ—¶ ${endpoint}: ${API_CONFIG.timeout}ms`);\n      throw new Error(`è¯·æ±‚å¤±è´¥ï¼Œè¶…æ—¶ï¼š${API_CONFIG.timeout}`);\n    }\n    console.error(`âŒ APIè°ƒç”¨å¤±è´¥ ${endpoint}:`, error.message);\n    throw error;\n  }\n}\n\n/**\n * AIsiriæ™ºèƒ½è°ƒåº¦æœåŠ¡ç±»\n */\nclass AIsiriService {\n  constructor() {\n    this.userId = getCurrentUserId();\n    this.sessionId = this.generateSessionId();\n    console.log(`ğŸ¤– AIsiriæ™ºèƒ½è°ƒåº¦æœåŠ¡åˆå§‹åŒ–ï¼Œç”¨æˆ·ID: ${this.userId}`);\n  }\n\n  /**\n   * ç”Ÿæˆä¼šè¯ID\n   */\n  generateSessionId() {\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n  ensureUserIdOrRedirect() {\n    this.userId = getCurrentUserId();\n    if (!this.userId && typeof window !== 'undefined') {\n      console.warn('âš ï¸ [AIsiri] æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µ');\n      window.location.href = '/auth/login';\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * å¥åº·æ£€æŸ¥\n   */\n  async healthCheck() {\n    return await makeAPIRequest('/dispatch/status');\n  }\n\n  /**\n   * æ™ºèƒ½è°ƒåº¦ - ä¸»è¦æ¥å£\n   * @param {string} userInput - ç”¨æˆ·è¾“å…¥å†…å®¹\n   * @param {string} sessionId - ä¼šè¯IDï¼ˆå¯é€‰ï¼‰\n   * @returns {Promise<Object>} æ™ºèƒ½è°ƒåº¦ç»“æœ\n   */\n  async dispatch(userInput, sessionId = null) {\n    console.log(`\\nğŸš€ AIsiriæ™ºèƒ½è°ƒåº¦: \"${userInput}\"`);\n    if (!this.ensureUserIdOrRedirect()) return;\n    const data = {\n      userInput: userInput.trim(),\n      sessionId: sessionId || this.sessionId,\n      deviceInfo: {\n        platform: 'web',\n        version: '2.0.0'\n      }\n    };\n    const result = await makeAPIRequest('/dispatch', data, 'POST');\n\n    // è§£ææ™ºèƒ½è°ƒåº¦ç»“æœ\n    if (result.success) {\n      console.log(`âœ… æ™ºèƒ½è°ƒåº¦æˆåŠŸ`);\n      console.log(`ğŸ¯ è¯†åˆ«æ„å›¾: ${result.data.intents?.join(', ') || 'æ— '}`);\n      console.log(`ğŸ”§ æ‰§è¡ŒæœåŠ¡: ${result.data.servicesExecuted?.join(', ') || 'æ— '}`);\n\n      // è®°å½•æ‰§è¡Œçš„æœåŠ¡\n      if (result.data.servicesExecuted) {\n        result.data.servicesExecuted.forEach(service => {\n          console.log(`âš™ï¸ æ‰§è¡ŒæœåŠ¡: ${service}`);\n        });\n      }\n\n      // è®°å½•åˆ›å»ºçš„ä»»åŠ¡\n      if (result.data.taskCreated) {\n        console.log(`ğŸ“ åˆ›å»ºä»»åŠ¡: ${result.data.taskCreated.title}`);\n      }\n\n      // è®°å½•æ—¥ç¨‹è°ƒæ•´\n      if (result.data.scheduleAdjusted) {\n        console.log(`â° æ—¥ç¨‹å·²è°ƒæ•´`);\n      }\n\n      // è®°å½•æƒ…ç»ªæ”¯æŒ\n      if (result.data.emotionalSupport) {\n        console.log(`ğŸ’ æä¾›æƒ…ç»ªæ”¯æŒ: ${result.data.emotionalSupport}`);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * è·å–ç³»ç»ŸçŠ¶æ€\n   */\n  async getStatus() {\n    return await makeAPIRequest('/dispatch/status');\n  }\n\n  /**\n   * é‡æ–°è®¾ç½®ç”¨æˆ·IDï¼ˆç”¨äºæµ‹è¯•ï¼‰\n   */\n  resetUserId() {\n    this.userId = getCurrentUserId();\n    console.log(`ğŸ”„ é‡ç½®ç”¨æˆ·ID: ${this.userId}`);\n  }\n\n  /**\n   * è·å–å½“å‰ä¼šè¯ID\n   */\n  getCurrentSessionId() {\n    return this.sessionId;\n  }\n\n  /**\n   * åˆ›å»ºæ–°ä¼šè¯\n   */\n  createNewSession() {\n    this.sessionId = this.generateSessionId();\n    console.log(`ğŸ†• åˆ›å»ºæ–°ä¼šè¯: ${this.sessionId}`);\n    return this.sessionId;\n  }\n}\n\n// åˆ›å»ºå•ä¾‹å®ä¾‹\nconst aisiriService = new AIsiriService();\nexport default aisiriService;\n\n// åŒæ—¶å¯¼å‡ºç±»ï¼Œç”¨äºéœ€è¦å¤šå®ä¾‹çš„åœºæ™¯\nexport { AIsiriService };","map":{"version":3,"names":["getAisiriApiUrl","API_CONFIG","baseURL","timeout","headers","getCurrentUserId","user","JSON","parse","localStorage","getItem","_id","id","_","getToken","logAPI","operation","data","timestamp","Date","toISOString","console","log","logResponse","response","makeAPIRequest","endpoint","method","url","controller","AbortController","timeoutId","setTimeout","abort","token","options","signal","body","stringify","fetch","clearTimeout","ok","status","warn","window","location","href","Error","statusText","result","json","error","name","message","AIsiriService","constructor","userId","sessionId","generateSessionId","now","Math","random","toString","substr","ensureUserIdOrRedirect","healthCheck","dispatch","userInput","trim","deviceInfo","platform","version","success","intents","join","servicesExecuted","forEach","service","taskCreated","title","scheduleAdjusted","emotionalSupport","getStatus","resetUserId","getCurrentSessionId","createNewSession","aisiriService"],"sources":["/root/timer/src/AIsiri/services/aiApi.js"],"sourcesContent":["/**\n * AIsiri æ™ºèƒ½è°ƒåº¦ APIæœåŠ¡\n * æä¾›ä¸åç«¯æ™ºèƒ½è°ƒåº¦ç³»ç»Ÿçš„é€šä¿¡åŠŸèƒ½\n */\n\nimport { getAisiriApiUrl } from '../../config/api.js'\n\n// APIåŸºç¡€é…ç½®\nconst API_CONFIG = {\n  baseURL: getAisiriApiUrl(''),\n  timeout: 300000, // 5åˆ†é’Ÿè¶…æ—¶ï¼Œå¤æ‚æ“ä½œéœ€è¦æ›´é•¿æ—¶é—´\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}\n\n// è·å–å½“å‰ç™»å½•ç”¨æˆ·ID\nfunction getCurrentUserId() {\n  try {\n    const user = JSON.parse(localStorage.getItem('user') || 'null')\n    return user?._id || user?.id || null\n  } catch (_) {\n    return null\n  }\n}\n\n// è·å–token\nfunction getToken() {\n  return localStorage.getItem('token') || ''\n}\n\n// æ—¥å¿—è¾“å‡ºå‡½æ•°\nfunction logAPI(operation, data) {\n  const timestamp = new Date().toISOString()\n  console.log(`\\nğŸŒ === ${operation} APIè°ƒç”¨ ===`)\n  console.log(`â° æ—¶é—´: ${timestamp}`)\n  console.log(`ğŸ“¤ æ•°æ®:`, data)\n}\n\nfunction logResponse(operation, response) {\n  console.log(`ğŸ“¥ å“åº”:`, response)\n  console.log(`ğŸŒ === ${operation} APIå®Œæˆ ===\\n`)\n}\n\n// é€šç”¨APIè¯·æ±‚å‡½æ•°\nasync function makeAPIRequest(endpoint, data = null, method = 'GET') {\n  const url = `${API_CONFIG.baseURL}${endpoint}`\n  \n  try {\n    logAPI(endpoint, data)\n    \n    const controller = new AbortController()\n    const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout)\n    \n    const token = getToken()\n    const headers = { ...API_CONFIG.headers }\n    if (token) headers['Authorization'] = `Bearer ${token}`\n    \n    const options = {\n      method,\n      headers,\n      signal: controller.signal\n    }\n    \n    if (data && method !== 'GET') {\n      options.body = JSON.stringify(data)\n    }\n    \n    const response = await fetch(url, options)\n    clearTimeout(timeoutId)\n    \n    if (!response.ok) {\n      if (response.status === 401) {\n        console.warn('ğŸ”’ æœªè®¤è¯æˆ–tokenå¤±æ•ˆï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µ')\n        if (typeof window !== 'undefined') {\n          window.location.href = '/auth/login'\n        }\n      }\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n    }\n    \n    const result = await response.json()\n    logResponse(endpoint, result)\n    \n    return result\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      console.error(`âŒ APIè°ƒç”¨è¶…æ—¶ ${endpoint}: ${API_CONFIG.timeout}ms`)\n      throw new Error(`è¯·æ±‚å¤±è´¥ï¼Œè¶…æ—¶ï¼š${API_CONFIG.timeout}`)\n    }\n    console.error(`âŒ APIè°ƒç”¨å¤±è´¥ ${endpoint}:`, error.message)\n    throw error\n  }\n}\n\n/**\n * AIsiriæ™ºèƒ½è°ƒåº¦æœåŠ¡ç±»\n */\nclass AIsiriService {\n  constructor() {\n    this.userId = getCurrentUserId()\n    this.sessionId = this.generateSessionId()\n    console.log(`ğŸ¤– AIsiriæ™ºèƒ½è°ƒåº¦æœåŠ¡åˆå§‹åŒ–ï¼Œç”¨æˆ·ID: ${this.userId}`)\n  }\n\n  /**\n   * ç”Ÿæˆä¼šè¯ID\n   */\n  generateSessionId() {\n    return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n  }\n\n  ensureUserIdOrRedirect() {\n    this.userId = getCurrentUserId()\n    if (!this.userId && typeof window !== 'undefined') {\n      console.warn('âš ï¸ [AIsiri] æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µ')\n      window.location.href = '/auth/login'\n      return false\n    }\n    return true\n  }\n\n  /**\n   * å¥åº·æ£€æŸ¥\n   */\n  async healthCheck() {\n    return await makeAPIRequest('/dispatch/status')\n  }\n\n  /**\n   * æ™ºèƒ½è°ƒåº¦ - ä¸»è¦æ¥å£\n   * @param {string} userInput - ç”¨æˆ·è¾“å…¥å†…å®¹\n   * @param {string} sessionId - ä¼šè¯IDï¼ˆå¯é€‰ï¼‰\n   * @returns {Promise<Object>} æ™ºèƒ½è°ƒåº¦ç»“æœ\n   */\n  async dispatch(userInput, sessionId = null) {\n    console.log(`\\nğŸš€ AIsiriæ™ºèƒ½è°ƒåº¦: \"${userInput}\"`)\n    if (!this.ensureUserIdOrRedirect()) return\n    \n    const data = {\n      userInput: userInput.trim(),\n      sessionId: sessionId || this.sessionId,\n      deviceInfo: {\n        platform: 'web',\n        version: '2.0.0'\n      }\n    }\n    \n    const result = await makeAPIRequest('/dispatch', data, 'POST')\n    \n    // è§£ææ™ºèƒ½è°ƒåº¦ç»“æœ\n    if (result.success) {\n      console.log(`âœ… æ™ºèƒ½è°ƒåº¦æˆåŠŸ`)\n      console.log(`ğŸ¯ è¯†åˆ«æ„å›¾: ${result.data.intents?.join(', ') || 'æ— '}`)\n      console.log(`ğŸ”§ æ‰§è¡ŒæœåŠ¡: ${result.data.servicesExecuted?.join(', ') || 'æ— '}`)\n      \n      // è®°å½•æ‰§è¡Œçš„æœåŠ¡\n      if (result.data.servicesExecuted) {\n        result.data.servicesExecuted.forEach(service => {\n          console.log(`âš™ï¸ æ‰§è¡ŒæœåŠ¡: ${service}`)\n        })\n      }\n      \n      // è®°å½•åˆ›å»ºçš„ä»»åŠ¡\n      if (result.data.taskCreated) {\n        console.log(`ğŸ“ åˆ›å»ºä»»åŠ¡: ${result.data.taskCreated.title}`)\n      }\n      \n      // è®°å½•æ—¥ç¨‹è°ƒæ•´\n      if (result.data.scheduleAdjusted) {\n        console.log(`â° æ—¥ç¨‹å·²è°ƒæ•´`)\n      }\n      \n      // è®°å½•æƒ…ç»ªæ”¯æŒ\n      if (result.data.emotionalSupport) {\n        console.log(`ğŸ’ æä¾›æƒ…ç»ªæ”¯æŒ: ${result.data.emotionalSupport}`)\n      }\n    }\n    \n    return result\n  }\n\n  /**\n   * è·å–ç³»ç»ŸçŠ¶æ€\n   */\n  async getStatus() {\n    return await makeAPIRequest('/dispatch/status')\n  }\n\n  /**\n   * é‡æ–°è®¾ç½®ç”¨æˆ·IDï¼ˆç”¨äºæµ‹è¯•ï¼‰\n   */\n  resetUserId() {\n    this.userId = getCurrentUserId()\n    console.log(`ğŸ”„ é‡ç½®ç”¨æˆ·ID: ${this.userId}`)\n  }\n\n  /**\n   * è·å–å½“å‰ä¼šè¯ID\n   */\n  getCurrentSessionId() {\n    return this.sessionId\n  }\n\n  /**\n   * åˆ›å»ºæ–°ä¼šè¯\n   */\n  createNewSession() {\n    this.sessionId = this.generateSessionId()\n    console.log(`ğŸ†• åˆ›å»ºæ–°ä¼šè¯: ${this.sessionId}`)\n    return this.sessionId\n  }\n}\n\n// åˆ›å»ºå•ä¾‹å®ä¾‹\nconst aisiriService = new AIsiriService()\n\nexport default aisiriService\n\n// åŒæ—¶å¯¼å‡ºç±»ï¼Œç”¨äºéœ€è¦å¤šå®ä¾‹çš„åœºæ™¯\nexport { AIsiriService }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}